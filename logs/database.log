[2025-09-23 14:03:58] [INFO] [Database] <module>:60 - ==================================================
[2025-09-23 14:03:58] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-23 14:03:58] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-23 14:03:58] [INFO] [Database] <module>:63 - ==================================================
[2025-09-23 14:03:58] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-23 14:03:58] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-23 14:03:58] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-23 14:03:58] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-23 14:03:58] [INFO] [Database] init_db:1307 - ============================================================
[2025-09-23 14:03:58] [INFO] [Database] init_db:1308 - STARTING DATABASE INITIALIZATION
[2025-09-23 14:03:58] [INFO] [Database] init_db:1309 - ============================================================
[2025-09-23 14:03:58] [INFO] [Database] init_db:1333 - Verifying database connectivity...
[2025-09-23 14:03:58] [INFO] [Database] init_db:1336 - ✅ Database connectivity verified
[2025-09-23 14:03:58] [DEBUG] [Database] init_db:1341 - Initializing Users table...
[2025-09-23 14:03:58] [INFO] [Database] init_users_table:168 - Initializing users table
[2025-09-23 14:03:58] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-23 14:03:58] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-23 14:03:58] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-23 14:03:58] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-23 14:03:58] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-23 14:03:58] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.002s: duplicate column name: anilist_username
[2025-09-23 14:03:58] [DEBUG] [Database] init_users_table:200 - Column 'anilist_username' already exists in users table
[2025-09-23 14:03:58] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-23 14:03:58] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-23 14:03:58] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.002s: duplicate column name: anilist_id
[2025-09-23 14:03:58] [DEBUG] [Database] init_users_table:200 - Column 'anilist_id' already exists in users table
[2025-09-23 14:03:58] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-23 14:03:58] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 14:03:58] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.001s: duplicate column name: created_at
[2025-09-23 14:03:58] [DEBUG] [Database] init_users_table:200 - Column 'created_at' already exists in users table
[2025-09-23 14:03:58] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-23 14:03:58] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 14:03:58] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.002s: duplicate column name: updated_at
[2025-09-23 14:03:58] [DEBUG] [Database] init_users_table:200 - Column 'updated_at' already exists in users table
[2025-09-23 14:03:58] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-23 14:03:58] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 14:03:58] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.002s
[2025-09-23 14:03:58] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 14:03:58] [DEBUG] [Database] init_users_table:207 - Users table schema: 8 columns
[2025-09-23 14:03:58] [DEBUG] [Database] init_users_table:209 -   Column: id (INTEGER)
[2025-09-23 14:03:58] [DEBUG] [Database] init_users_table:209 -   Column: discord_id (INTEGER)
[2025-09-23 14:03:58] [DEBUG] [Database] init_users_table:209 -   Column: guild_id (INTEGER)
[2025-09-23 14:03:58] [DEBUG] [Database] init_users_table:209 -   Column: username (TEXT)
[2025-09-23 14:03:58] [DEBUG] [Database] init_users_table:209 -   Column: anilist_username (TEXT)
[2025-09-23 14:03:58] [DEBUG] [Database] init_users_table:209 -   Column: anilist_id (INTEGER)
[2025-09-23 14:03:58] [DEBUG] [Database] init_users_table:209 -   Column: created_at (DATETIME)
[2025-09-23 14:03:58] [DEBUG] [Database] init_users_table:209 -   Column: updated_at (DATETIME)
[2025-09-23 14:03:58] [INFO] [Database] init_users_table:211 - ✅ Users table initialization completed successfully
[2025-09-23 14:03:58] [DEBUG] [Database] init_db:1344 - ✅ Users table initialized successfully
[2025-09-23 14:03:58] [DEBUG] [Database] init_db:1341 - Initializing Challenge Rules table...
[2025-09-23 14:03:58] [INFO] [Database] init_challenge_rules_table:660 - Initializing challenge rules table
[2025-09-23 14:03:58] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-23 14:03:58] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-23 14:03:58] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.001s
[2025-09-23 14:03:58] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-23 14:03:58] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 14:03:58] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.002s: Cannot add a column with non-constant default
[2025-09-23 14:03:58] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-23 14:03:58] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 14:03:58] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.002s: Cannot add a column with non-constant default
[2025-09-23 14:03:58] [INFO] [Database] init_challenge_rules_table:684 - ✅ Challenge rules table initialization completed
[2025-09-23 14:03:58] [DEBUG] [Database] init_db:1344 - ✅ Challenge Rules table initialized successfully
[2025-09-23 14:03:58] [DEBUG] [Database] init_db:1341 - Initializing Recommendation Votes table...
[2025-09-23 14:03:58] [INFO] [Database] init_recommendation_votes_table:752 - Manga recommendation votes table ready.
[2025-09-23 14:03:58] [DEBUG] [Database] init_db:1344 - ✅ Recommendation Votes table initialized successfully
[2025-09-23 14:03:58] [DEBUG] [Database] init_db:1341 - Initializing User Stats table...
[2025-09-23 14:03:58] [INFO] [Database] init_user_stats_table:770 - User stats table ready.
[2025-09-23 14:03:58] [DEBUG] [Database] init_db:1344 - ✅ User Stats table initialized successfully
[2025-09-23 14:03:58] [DEBUG] [Database] init_db:1341 - Initializing Achievements table...
[2025-09-23 14:03:58] [INFO] [Database] init_achievements_table:786 - Achievements table ready.
[2025-09-23 14:03:58] [DEBUG] [Database] init_db:1344 - ✅ Achievements table initialized successfully
[2025-09-23 14:03:58] [DEBUG] [Database] init_db:1341 - Initializing User Manga Progress table...
[2025-09-23 14:03:58] [INFO] [Database] init_user_manga_progress_table:822 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-23 14:03:58] [DEBUG] [Database] init_db:1344 - ✅ User Manga Progress table initialized successfully
[2025-09-23 14:03:58] [DEBUG] [Database] init_db:1341 - Initializing Manga Challenges table...
[2025-09-23 14:03:58] [DEBUG] [Database] init_db:1344 - ✅ Manga Challenges table initialized successfully
[2025-09-23 14:03:58] [DEBUG] [Database] init_db:1341 - Initializing User Progress table...
[2025-09-23 14:03:58] [DEBUG] [Database] init_db:1344 - ✅ User Progress table initialized successfully
[2025-09-23 14:03:58] [DEBUG] [Database] init_db:1341 - Initializing Global Challenges table...
[2025-09-23 14:03:58] [INFO] [Database] init_global_challenges_table:1120 - Global challenges table ready with difficulty column.
[2025-09-23 14:03:58] [DEBUG] [Database] init_db:1344 - ✅ Global Challenges table initialized successfully
[2025-09-23 14:03:58] [DEBUG] [Database] init_db:1341 - Initializing Invite Tracker table...
[2025-09-23 14:03:58] [INFO] [Database] init_invite_tracker_tables:1210 - Initializing invite tracker tables
[2025-09-23 14:03:58] [INFO] [Database] init_invite_tracker_tables:1277 - ✅ Invite tracker tables initialized successfully
[2025-09-23 14:03:58] [DEBUG] [Database] init_db:1344 - ✅ Invite Tracker table initialized successfully
[2025-09-23 14:03:58] [DEBUG] [Database] init_db:1341 - Initializing Steam Users table...
[2025-09-23 14:03:58] [INFO] [Database] init_steam_users_table:1297 - Steam users table ready.
[2025-09-23 14:03:58] [DEBUG] [Database] init_db:1344 - ✅ Steam Users table initialized successfully
[2025-09-23 14:03:58] [DEBUG] [Database] init_db:1341 - Initializing Challenge Manga table...
[2025-09-23 14:03:58] [DEBUG] [Database] init_db:1344 - ✅ Challenge Manga table initialized successfully
[2025-09-23 14:03:58] [INFO] [Database] init_db:1355 - ============================================================
[2025-09-23 14:03:58] [INFO] [Database] init_db:1356 - DATABASE INITIALIZATION SUMMARY
[2025-09-23 14:03:58] [INFO] [Database] init_db:1357 - Total tables: 12
[2025-09-23 14:03:58] [INFO] [Database] init_db:1358 - Successfully initialized: 12
[2025-09-23 14:03:58] [INFO] [Database] init_db:1359 - Failed to initialize: 0
[2025-09-23 14:03:58] [INFO] [Database] init_db:1360 - Total time: 0.04 seconds
[2025-09-23 14:03:58] [INFO] [Database] init_db:1365 - ✅ All database tables initialized successfully
[2025-09-23 14:03:58] [INFO] [Database] init_db:1367 - ============================================================
[2025-09-23 14:03:58] [INFO] [Database] init_db:1372 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-23 14:03:58] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-23 14:03:58] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-23 14:03:58] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.002s
[2025-09-23 14:03:58] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-23 14:04:01] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:04:01] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:04:01] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-23 14:04:01] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:04:01] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:04:01] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:04:01] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-23 14:04:01] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:04:01] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:04:01] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:04:01] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-23 14:04:01] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:04:01] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:04:01] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:04:01] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-23 14:04:01] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:04:01] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:04:01] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:04:01] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-23 14:04:01] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.004s
[2025-09-23 14:04:01] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:04:01] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:04:01] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-23 14:04:01] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:04:01] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:04:01] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:04:01] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-23 14:04:01] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:04:01] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:04:01] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:04:01] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-23 14:04:01] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('628xd7Sa', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('A8Un8tA2', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('AWZ4mqN7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417339097411747853, -1, 2)
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BM4TWaw9', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417210716318072944, -1, 1)
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HEGVx495', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.004s
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HXt8GDc7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417205674059763805, -1, 1)
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HwHu3fKv', 1417205672847736955, 695087864450383912, 'lili', 1417534932724486265, -1, 0)
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('Y9Yq7ufy', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, -1, 1)
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('aDWyseRm', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417205674059763805, -1, 1)
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('brpzD6Jm', 1417205672847736955, 336949613464649728, 'rapidecline', 1417310229460418580, -1, 0)
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('fSuFfGvr', 1417205672847736955, 365529294065369088, 'DsF ULYSSE', 1417205674059763805, -1, 0)
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('rRpCcb9N', 1417205672847736955, 964639984667721810, 'Brainy', 1417210265954684968, -1, 0)
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('sSTAtTJH', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417673227366436997, -1, 1)
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vYtDjBux', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vfwD3rVk', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('zFX6KGvA', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417209847346102312, -1, 1)
[2025-09-23 14:04:02] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:08:50] [INFO] [Database] <module>:60 - ==================================================
[2025-09-23 14:08:50] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-23 14:08:50] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-23 14:08:50] [INFO] [Database] <module>:63 - ==================================================
[2025-09-23 14:08:50] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-23 14:08:50] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-23 14:08:50] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-23 14:08:50] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-23 14:08:50] [DEBUG] [Database] get_user_guild_aware:344 - Retrieving user data for Discord ID: 1 in guild: 331164413623009281
[2025-09-23 14:08:50] [DEBUG] [Database] execute_db_operation:115 - Executing get user 1 from guild 331164413623009281
[2025-09-23 14:08:50] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE discord_id = ? AND guild_id = ?
[2025-09-23 14:08:50] [DEBUG] [Database] execute_db_operation:118 - Parameters: (1, 331164413623009281)
[2025-09-23 14:08:50] [DEBUG] [Database] execute_db_operation:142 - get user 1 from guild 331164413623009281 completed in 0.001s
[2025-09-23 14:08:50] [DEBUG] [Database] get_user_guild_aware:363 - No user found for Discord ID: 1 in guild 331164413623009281
[2025-09-23 14:09:21] [INFO] [Database] <module>:60 - ==================================================
[2025-09-23 14:09:21] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-23 14:09:21] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-23 14:09:21] [INFO] [Database] <module>:63 - ==================================================
[2025-09-23 14:09:21] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-23 14:09:21] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-23 14:09:21] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-23 14:09:21] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-23 14:09:21] [DEBUG] [Database] get_user_guild_aware:344 - Retrieving user data for Discord ID: 331164413623009281 in guild: 897814031346319382
[2025-09-23 14:09:21] [DEBUG] [Database] execute_db_operation:115 - Executing get user 331164413623009281 from guild 897814031346319382
[2025-09-23 14:09:21] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE discord_id = ? AND guild_id = ?
[2025-09-23 14:09:21] [DEBUG] [Database] execute_db_operation:118 - Parameters: (331164413623009281, 897814031346319382)
[2025-09-23 14:09:21] [DEBUG] [Database] execute_db_operation:142 - get user 331164413623009281 from guild 897814031346319382 completed in 0.002s
[2025-09-23 14:09:21] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-23 14:09:21] [DEBUG] [Database] get_user_guild_aware:361 - ✅ Found user: Kyerstorm (ID: 1) in guild 897814031346319382
[2025-09-23 14:09:40] [INFO] [Database] <module>:60 - ==================================================
[2025-09-23 14:09:40] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-23 14:09:40] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-23 14:09:40] [INFO] [Database] <module>:63 - ==================================================
[2025-09-23 14:09:40] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-23 14:09:40] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-23 14:09:40] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-23 14:09:40] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-23 14:09:40] [DEBUG] [Database] get_user_guild_aware:344 - Retrieving user data for Discord ID: 331164413623009281 in guild: 897814031346319382
[2025-09-23 14:09:40] [DEBUG] [Database] execute_db_operation:115 - Executing get user 331164413623009281 from guild 897814031346319382
[2025-09-23 14:09:40] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE discord_id = ? AND guild_id = ?
[2025-09-23 14:09:40] [DEBUG] [Database] execute_db_operation:118 - Parameters: (331164413623009281, 897814031346319382)
[2025-09-23 14:09:40] [DEBUG] [Database] execute_db_operation:142 - get user 331164413623009281 from guild 897814031346319382 completed in 0.002s
[2025-09-23 14:09:40] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-23 14:09:40] [DEBUG] [Database] get_user_guild_aware:361 - ✅ Found user: Kyerstorm (ID: 1) in guild 897814031346319382
[2025-09-23 14:09:57] [INFO] [Database] <module>:60 - ==================================================
[2025-09-23 14:09:57] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-23 14:09:57] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-23 14:09:57] [INFO] [Database] <module>:63 - ==================================================
[2025-09-23 14:09:57] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-23 14:09:57] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-23 14:09:57] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-23 14:09:57] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-23 14:09:57] [DEBUG] [Database] get_user_guild_aware:344 - Retrieving user data for Discord ID: 331164413623009281 in guild: 897814031346319382
[2025-09-23 14:09:57] [DEBUG] [Database] execute_db_operation:115 - Executing get user 331164413623009281 from guild 897814031346319382
[2025-09-23 14:09:57] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE discord_id = ? AND guild_id = ?
[2025-09-23 14:09:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: (331164413623009281, 897814031346319382)
[2025-09-23 14:09:57] [DEBUG] [Database] execute_db_operation:142 - get user 331164413623009281 from guild 897814031346319382 completed in 0.002s
[2025-09-23 14:09:57] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-23 14:09:57] [DEBUG] [Database] get_user_guild_aware:361 - ✅ Found user: Kyerstorm (ID: 1) in guild 897814031346319382
[2025-09-23 14:10:11] [INFO] [Database] <module>:60 - ==================================================
[2025-09-23 14:10:11] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-23 14:10:11] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-23 14:10:11] [INFO] [Database] <module>:63 - ==================================================
[2025-09-23 14:10:11] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-23 14:10:11] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-23 14:10:11] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-23 14:10:11] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-23 14:10:11] [DEBUG] [Database] get_user_guild_aware:344 - Retrieving user data for Discord ID: 331164413623009281 in guild: 897814031346319382
[2025-09-23 14:10:11] [DEBUG] [Database] execute_db_operation:115 - Executing get user 331164413623009281 from guild 897814031346319382
[2025-09-23 14:10:11] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE discord_id = ? AND guild_id = ?
[2025-09-23 14:10:11] [DEBUG] [Database] execute_db_operation:118 - Parameters: (331164413623009281, 897814031346319382)
[2025-09-23 14:10:11] [DEBUG] [Database] execute_db_operation:142 - get user 331164413623009281 from guild 897814031346319382 completed in 0.001s
[2025-09-23 14:10:11] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-23 14:10:11] [DEBUG] [Database] get_user_guild_aware:361 - ✅ Found user: Kyerstorm (ID: 1) in guild 897814031346319382
[2025-09-23 14:10:11] [DEBUG] [Database] get_user_guild_aware:344 - Retrieving user data for Discord ID: 331164413623009281 in guild: 897814031346319382
[2025-09-23 14:10:11] [DEBUG] [Database] execute_db_operation:115 - Executing get user 331164413623009281 from guild 897814031346319382
[2025-09-23 14:10:11] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE discord_id = ? AND guild_id = ?
[2025-09-23 14:10:11] [DEBUG] [Database] execute_db_operation:118 - Parameters: (331164413623009281, 897814031346319382)
[2025-09-23 14:10:11] [DEBUG] [Database] execute_db_operation:142 - get user 331164413623009281 from guild 897814031346319382 completed in 0.001s
[2025-09-23 14:10:11] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-23 14:10:11] [DEBUG] [Database] get_user_guild_aware:361 - ✅ Found user: Kyerstorm (ID: 1) in guild 897814031346319382
[2025-09-23 14:10:57] [INFO] [Database] <module>:60 - ==================================================
[2025-09-23 14:10:57] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-23 14:10:57] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-23 14:10:57] [INFO] [Database] <module>:63 - ==================================================
[2025-09-23 14:10:57] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-23 14:10:57] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-23 14:10:57] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-23 14:10:57] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-23 14:10:57] [DEBUG] [Database] get_user_guild_aware:344 - Retrieving user data for Discord ID: 331164413623009281 in guild: 897814031346319382
[2025-09-23 14:10:57] [DEBUG] [Database] execute_db_operation:115 - Executing get user 331164413623009281 from guild 897814031346319382
[2025-09-23 14:10:57] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE discord_id = ? AND guild_id = ?
[2025-09-23 14:10:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: (331164413623009281, 897814031346319382)
[2025-09-23 14:10:57] [DEBUG] [Database] execute_db_operation:142 - get user 331164413623009281 from guild 897814031346319382 completed in 0.001s
[2025-09-23 14:10:57] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-23 14:10:57] [DEBUG] [Database] get_user_guild_aware:361 - ✅ Found user: Kyerstorm (ID: 1) in guild 897814031346319382
[2025-09-23 14:11:25] [INFO] [Database] <module>:60 - ==================================================
[2025-09-23 14:11:25] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-23 14:11:25] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-23 14:11:25] [INFO] [Database] <module>:63 - ==================================================
[2025-09-23 14:11:25] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-23 14:11:25] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-23 14:11:25] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-23 14:11:25] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-23 14:12:12] [INFO] [Database] <module>:60 - ==================================================
[2025-09-23 14:12:12] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-23 14:12:12] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-23 14:12:12] [INFO] [Database] <module>:63 - ==================================================
[2025-09-23 14:12:12] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-23 14:12:12] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-23 14:12:12] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-23 14:12:12] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-23 14:12:12] [DEBUG] [Database] get_user_guild_aware:344 - Retrieving user data for Discord ID: 331164413623009281 in guild: 897814031346319382
[2025-09-23 14:12:12] [DEBUG] [Database] execute_db_operation:115 - Executing get user 331164413623009281 from guild 897814031346319382
[2025-09-23 14:12:12] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE discord_id = ? AND guild_id = ?
[2025-09-23 14:12:12] [DEBUG] [Database] execute_db_operation:118 - Parameters: (331164413623009281, 897814031346319382)
[2025-09-23 14:12:12] [DEBUG] [Database] execute_db_operation:142 - get user 331164413623009281 from guild 897814031346319382 completed in 0.002s
[2025-09-23 14:12:12] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-23 14:12:12] [DEBUG] [Database] get_user_guild_aware:361 - ✅ Found user: Kyerstorm (ID: 1) in guild 897814031346319382
[2025-09-23 14:14:49] [INFO] [Database] <module>:60 - ==================================================
[2025-09-23 14:14:49] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-23 14:14:49] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-23 14:14:49] [INFO] [Database] <module>:63 - ==================================================
[2025-09-23 14:14:49] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-23 14:14:49] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-23 14:14:49] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-23 14:14:49] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-23 14:14:49] [INFO] [Database] init_db:1307 - ============================================================
[2025-09-23 14:14:49] [INFO] [Database] init_db:1308 - STARTING DATABASE INITIALIZATION
[2025-09-23 14:14:49] [INFO] [Database] init_db:1309 - ============================================================
[2025-09-23 14:14:49] [INFO] [Database] init_db:1333 - Verifying database connectivity...
[2025-09-23 14:14:49] [INFO] [Database] init_db:1336 - ✅ Database connectivity verified
[2025-09-23 14:14:49] [DEBUG] [Database] init_db:1341 - Initializing Users table...
[2025-09-23 14:14:49] [INFO] [Database] init_users_table:168 - Initializing users table
[2025-09-23 14:14:49] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-23 14:14:49] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-23 14:14:49] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-23 14:14:49] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-23 14:14:49] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-23 14:14:49] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.002s: duplicate column name: anilist_username
[2025-09-23 14:14:49] [DEBUG] [Database] init_users_table:200 - Column 'anilist_username' already exists in users table
[2025-09-23 14:14:49] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-23 14:14:49] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-23 14:14:49] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.001s: duplicate column name: anilist_id
[2025-09-23 14:14:49] [DEBUG] [Database] init_users_table:200 - Column 'anilist_id' already exists in users table
[2025-09-23 14:14:49] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-23 14:14:49] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 14:14:49] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.002s: duplicate column name: created_at
[2025-09-23 14:14:49] [DEBUG] [Database] init_users_table:200 - Column 'created_at' already exists in users table
[2025-09-23 14:14:49] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-23 14:14:49] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 14:14:49] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.001s: duplicate column name: updated_at
[2025-09-23 14:14:49] [DEBUG] [Database] init_users_table:200 - Column 'updated_at' already exists in users table
[2025-09-23 14:14:49] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-23 14:14:49] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 14:14:49] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.002s
[2025-09-23 14:14:49] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 14:14:49] [DEBUG] [Database] init_users_table:207 - Users table schema: 8 columns
[2025-09-23 14:14:49] [DEBUG] [Database] init_users_table:209 -   Column: id (INTEGER)
[2025-09-23 14:14:49] [DEBUG] [Database] init_users_table:209 -   Column: discord_id (INTEGER)
[2025-09-23 14:14:49] [DEBUG] [Database] init_users_table:209 -   Column: guild_id (INTEGER)
[2025-09-23 14:14:49] [DEBUG] [Database] init_users_table:209 -   Column: username (TEXT)
[2025-09-23 14:14:49] [DEBUG] [Database] init_users_table:209 -   Column: anilist_username (TEXT)
[2025-09-23 14:14:49] [DEBUG] [Database] init_users_table:209 -   Column: anilist_id (INTEGER)
[2025-09-23 14:14:49] [DEBUG] [Database] init_users_table:209 -   Column: created_at (DATETIME)
[2025-09-23 14:14:49] [DEBUG] [Database] init_users_table:209 -   Column: updated_at (DATETIME)
[2025-09-23 14:14:49] [INFO] [Database] init_users_table:211 - ✅ Users table initialization completed successfully
[2025-09-23 14:14:49] [DEBUG] [Database] init_db:1344 - ✅ Users table initialized successfully
[2025-09-23 14:14:49] [DEBUG] [Database] init_db:1341 - Initializing Challenge Rules table...
[2025-09-23 14:14:49] [INFO] [Database] init_challenge_rules_table:660 - Initializing challenge rules table
[2025-09-23 14:14:49] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-23 14:14:49] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-23 14:14:49] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.002s
[2025-09-23 14:14:49] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-23 14:14:49] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 14:14:49] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.002s: Cannot add a column with non-constant default
[2025-09-23 14:14:49] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-23 14:14:49] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 14:14:49] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.002s: Cannot add a column with non-constant default
[2025-09-23 14:14:49] [INFO] [Database] init_challenge_rules_table:684 - ✅ Challenge rules table initialization completed
[2025-09-23 14:14:49] [DEBUG] [Database] init_db:1344 - ✅ Challenge Rules table initialized successfully
[2025-09-23 14:14:49] [DEBUG] [Database] init_db:1341 - Initializing Recommendation Votes table...
[2025-09-23 14:14:49] [INFO] [Database] init_recommendation_votes_table:752 - Manga recommendation votes table ready.
[2025-09-23 14:14:49] [DEBUG] [Database] init_db:1344 - ✅ Recommendation Votes table initialized successfully
[2025-09-23 14:14:49] [DEBUG] [Database] init_db:1341 - Initializing User Stats table...
[2025-09-23 14:14:49] [INFO] [Database] init_user_stats_table:770 - User stats table ready.
[2025-09-23 14:14:49] [DEBUG] [Database] init_db:1344 - ✅ User Stats table initialized successfully
[2025-09-23 14:14:49] [DEBUG] [Database] init_db:1341 - Initializing Achievements table...
[2025-09-23 14:14:49] [INFO] [Database] init_achievements_table:786 - Achievements table ready.
[2025-09-23 14:14:49] [DEBUG] [Database] init_db:1344 - ✅ Achievements table initialized successfully
[2025-09-23 14:14:49] [DEBUG] [Database] init_db:1341 - Initializing User Manga Progress table...
[2025-09-23 14:14:49] [INFO] [Database] init_user_manga_progress_table:822 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-23 14:14:49] [DEBUG] [Database] init_db:1344 - ✅ User Manga Progress table initialized successfully
[2025-09-23 14:14:49] [DEBUG] [Database] init_db:1341 - Initializing Manga Challenges table...
[2025-09-23 14:14:49] [DEBUG] [Database] init_db:1344 - ✅ Manga Challenges table initialized successfully
[2025-09-23 14:14:49] [DEBUG] [Database] init_db:1341 - Initializing User Progress table...
[2025-09-23 14:14:49] [DEBUG] [Database] init_db:1344 - ✅ User Progress table initialized successfully
[2025-09-23 14:14:49] [DEBUG] [Database] init_db:1341 - Initializing Global Challenges table...
[2025-09-23 14:14:49] [INFO] [Database] init_global_challenges_table:1120 - Global challenges table ready with difficulty column.
[2025-09-23 14:14:49] [DEBUG] [Database] init_db:1344 - ✅ Global Challenges table initialized successfully
[2025-09-23 14:14:49] [DEBUG] [Database] init_db:1341 - Initializing Invite Tracker table...
[2025-09-23 14:14:49] [INFO] [Database] init_invite_tracker_tables:1210 - Initializing invite tracker tables
[2025-09-23 14:14:49] [INFO] [Database] init_invite_tracker_tables:1277 - ✅ Invite tracker tables initialized successfully
[2025-09-23 14:14:49] [DEBUG] [Database] init_db:1344 - ✅ Invite Tracker table initialized successfully
[2025-09-23 14:14:49] [DEBUG] [Database] init_db:1341 - Initializing Steam Users table...
[2025-09-23 14:14:49] [INFO] [Database] init_steam_users_table:1297 - Steam users table ready.
[2025-09-23 14:14:49] [DEBUG] [Database] init_db:1344 - ✅ Steam Users table initialized successfully
[2025-09-23 14:14:49] [DEBUG] [Database] init_db:1341 - Initializing Challenge Manga table...
[2025-09-23 14:14:49] [DEBUG] [Database] init_db:1344 - ✅ Challenge Manga table initialized successfully
[2025-09-23 14:14:49] [INFO] [Database] init_db:1355 - ============================================================
[2025-09-23 14:14:49] [INFO] [Database] init_db:1356 - DATABASE INITIALIZATION SUMMARY
[2025-09-23 14:14:49] [INFO] [Database] init_db:1357 - Total tables: 12
[2025-09-23 14:14:49] [INFO] [Database] init_db:1358 - Successfully initialized: 12
[2025-09-23 14:14:49] [INFO] [Database] init_db:1359 - Failed to initialize: 0
[2025-09-23 14:14:49] [INFO] [Database] init_db:1360 - Total time: 0.04 seconds
[2025-09-23 14:14:49] [INFO] [Database] init_db:1365 - ✅ All database tables initialized successfully
[2025-09-23 14:14:49] [INFO] [Database] init_db:1367 - ============================================================
[2025-09-23 14:14:49] [INFO] [Database] init_db:1372 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-23 14:14:49] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-23 14:14:49] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-23 14:14:49] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.003s
[2025-09-23 14:14:49] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-23 14:14:53] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:14:53] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:14:53] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-23 14:14:53] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:14:53] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:14:53] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:14:53] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-23 14:14:53] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:14:53] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:14:53] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:14:53] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-23 14:14:53] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:14:53] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:14:53] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:14:53] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-23 14:14:53] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:14:53] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:14:53] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:14:53] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-23 14:14:53] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:14:53] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:14:53] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:14:53] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-23 14:14:53] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:14:53] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:14:53] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:14:53] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-23 14:14:53] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:14:53] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:14:53] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:14:53] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-23 14:14:53] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.004s
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('628xd7Sa', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('A8Un8tA2', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('AWZ4mqN7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417339097411747853, -1, 2)
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BM4TWaw9', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417210716318072944, -1, 1)
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HEGVx495', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HXt8GDc7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417205674059763805, -1, 1)
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HwHu3fKv', 1417205672847736955, 695087864450383912, 'lili', 1417534932724486265, -1, 0)
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('Y9Yq7ufy', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, -1, 1)
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('aDWyseRm', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417205674059763805, -1, 1)
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('brpzD6Jm', 1417205672847736955, 336949613464649728, 'rapidecline', 1417310229460418580, -1, 0)
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('fSuFfGvr', 1417205672847736955, 365529294065369088, 'DsF ULYSSE', 1417205674059763805, -1, 0)
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('rRpCcb9N', 1417205672847736955, 964639984667721810, 'Brainy', 1417210265954684968, -1, 0)
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('sSTAtTJH', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417673227366436997, -1, 1)
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vYtDjBux', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vfwD3rVk', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('zFX6KGvA', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417209847346102312, -1, 1)
[2025-09-23 14:14:54] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:16:06] [INFO] [Database] <module>:60 - ==================================================
[2025-09-23 14:16:06] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-23 14:16:06] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-23 14:16:06] [INFO] [Database] <module>:63 - ==================================================
[2025-09-23 14:16:06] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-23 14:16:06] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-23 14:16:06] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-23 14:16:06] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-23 14:16:06] [INFO] [Database] init_db:1307 - ============================================================
[2025-09-23 14:16:06] [INFO] [Database] init_db:1308 - STARTING DATABASE INITIALIZATION
[2025-09-23 14:16:06] [INFO] [Database] init_db:1309 - ============================================================
[2025-09-23 14:16:06] [INFO] [Database] init_db:1333 - Verifying database connectivity...
[2025-09-23 14:16:06] [INFO] [Database] init_db:1336 - ✅ Database connectivity verified
[2025-09-23 14:16:06] [DEBUG] [Database] init_db:1341 - Initializing Users table...
[2025-09-23 14:16:06] [INFO] [Database] init_users_table:168 - Initializing users table
[2025-09-23 14:16:06] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-23 14:16:06] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-23 14:16:06] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.001s
[2025-09-23 14:16:06] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-23 14:16:06] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-23 14:16:06] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.002s: duplicate column name: anilist_username
[2025-09-23 14:16:06] [DEBUG] [Database] init_users_table:200 - Column 'anilist_username' already exists in users table
[2025-09-23 14:16:06] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-23 14:16:06] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-23 14:16:06] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.001s: duplicate column name: anilist_id
[2025-09-23 14:16:06] [DEBUG] [Database] init_users_table:200 - Column 'anilist_id' already exists in users table
[2025-09-23 14:16:06] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-23 14:16:06] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 14:16:06] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.001s: duplicate column name: created_at
[2025-09-23 14:16:06] [DEBUG] [Database] init_users_table:200 - Column 'created_at' already exists in users table
[2025-09-23 14:16:06] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-23 14:16:06] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 14:16:06] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.001s: duplicate column name: updated_at
[2025-09-23 14:16:06] [DEBUG] [Database] init_users_table:200 - Column 'updated_at' already exists in users table
[2025-09-23 14:16:06] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-23 14:16:06] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 14:16:06] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.002s
[2025-09-23 14:16:06] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 14:16:06] [DEBUG] [Database] init_users_table:207 - Users table schema: 8 columns
[2025-09-23 14:16:06] [DEBUG] [Database] init_users_table:209 -   Column: id (INTEGER)
[2025-09-23 14:16:06] [DEBUG] [Database] init_users_table:209 -   Column: discord_id (INTEGER)
[2025-09-23 14:16:06] [DEBUG] [Database] init_users_table:209 -   Column: guild_id (INTEGER)
[2025-09-23 14:16:06] [DEBUG] [Database] init_users_table:209 -   Column: username (TEXT)
[2025-09-23 14:16:06] [DEBUG] [Database] init_users_table:209 -   Column: anilist_username (TEXT)
[2025-09-23 14:16:06] [DEBUG] [Database] init_users_table:209 -   Column: anilist_id (INTEGER)
[2025-09-23 14:16:06] [DEBUG] [Database] init_users_table:209 -   Column: created_at (DATETIME)
[2025-09-23 14:16:06] [DEBUG] [Database] init_users_table:209 -   Column: updated_at (DATETIME)
[2025-09-23 14:16:06] [INFO] [Database] init_users_table:211 - ✅ Users table initialization completed successfully
[2025-09-23 14:16:06] [DEBUG] [Database] init_db:1344 - ✅ Users table initialized successfully
[2025-09-23 14:16:06] [DEBUG] [Database] init_db:1341 - Initializing Challenge Rules table...
[2025-09-23 14:16:06] [INFO] [Database] init_challenge_rules_table:660 - Initializing challenge rules table
[2025-09-23 14:16:06] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-23 14:16:06] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-23 14:16:06] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.002s
[2025-09-23 14:16:06] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-23 14:16:06] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 14:16:06] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.002s: Cannot add a column with non-constant default
[2025-09-23 14:16:06] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-23 14:16:06] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 14:16:06] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.002s: Cannot add a column with non-constant default
[2025-09-23 14:16:06] [INFO] [Database] init_challenge_rules_table:684 - ✅ Challenge rules table initialization completed
[2025-09-23 14:16:06] [DEBUG] [Database] init_db:1344 - ✅ Challenge Rules table initialized successfully
[2025-09-23 14:16:06] [DEBUG] [Database] init_db:1341 - Initializing Recommendation Votes table...
[2025-09-23 14:16:06] [INFO] [Database] init_recommendation_votes_table:752 - Manga recommendation votes table ready.
[2025-09-23 14:16:06] [DEBUG] [Database] init_db:1344 - ✅ Recommendation Votes table initialized successfully
[2025-09-23 14:16:06] [DEBUG] [Database] init_db:1341 - Initializing User Stats table...
[2025-09-23 14:16:06] [INFO] [Database] init_user_stats_table:770 - User stats table ready.
[2025-09-23 14:16:06] [DEBUG] [Database] init_db:1344 - ✅ User Stats table initialized successfully
[2025-09-23 14:16:06] [DEBUG] [Database] init_db:1341 - Initializing Achievements table...
[2025-09-23 14:16:06] [INFO] [Database] init_achievements_table:786 - Achievements table ready.
[2025-09-23 14:16:06] [DEBUG] [Database] init_db:1344 - ✅ Achievements table initialized successfully
[2025-09-23 14:16:06] [DEBUG] [Database] init_db:1341 - Initializing User Manga Progress table...
[2025-09-23 14:16:06] [INFO] [Database] init_user_manga_progress_table:822 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-23 14:16:06] [DEBUG] [Database] init_db:1344 - ✅ User Manga Progress table initialized successfully
[2025-09-23 14:16:06] [DEBUG] [Database] init_db:1341 - Initializing Manga Challenges table...
[2025-09-23 14:16:06] [DEBUG] [Database] init_db:1344 - ✅ Manga Challenges table initialized successfully
[2025-09-23 14:16:06] [DEBUG] [Database] init_db:1341 - Initializing User Progress table...
[2025-09-23 14:16:06] [DEBUG] [Database] init_db:1344 - ✅ User Progress table initialized successfully
[2025-09-23 14:16:06] [DEBUG] [Database] init_db:1341 - Initializing Global Challenges table...
[2025-09-23 14:16:06] [INFO] [Database] init_global_challenges_table:1120 - Global challenges table ready with difficulty column.
[2025-09-23 14:16:06] [DEBUG] [Database] init_db:1344 - ✅ Global Challenges table initialized successfully
[2025-09-23 14:16:06] [DEBUG] [Database] init_db:1341 - Initializing Invite Tracker table...
[2025-09-23 14:16:06] [INFO] [Database] init_invite_tracker_tables:1210 - Initializing invite tracker tables
[2025-09-23 14:16:06] [INFO] [Database] init_invite_tracker_tables:1277 - ✅ Invite tracker tables initialized successfully
[2025-09-23 14:16:06] [DEBUG] [Database] init_db:1344 - ✅ Invite Tracker table initialized successfully
[2025-09-23 14:16:06] [DEBUG] [Database] init_db:1341 - Initializing Steam Users table...
[2025-09-23 14:16:06] [INFO] [Database] init_steam_users_table:1297 - Steam users table ready.
[2025-09-23 14:16:06] [DEBUG] [Database] init_db:1344 - ✅ Steam Users table initialized successfully
[2025-09-23 14:16:06] [DEBUG] [Database] init_db:1341 - Initializing Challenge Manga table...
[2025-09-23 14:16:06] [DEBUG] [Database] init_db:1344 - ✅ Challenge Manga table initialized successfully
[2025-09-23 14:16:06] [INFO] [Database] init_db:1355 - ============================================================
[2025-09-23 14:16:06] [INFO] [Database] init_db:1356 - DATABASE INITIALIZATION SUMMARY
[2025-09-23 14:16:06] [INFO] [Database] init_db:1357 - Total tables: 12
[2025-09-23 14:16:06] [INFO] [Database] init_db:1358 - Successfully initialized: 12
[2025-09-23 14:16:06] [INFO] [Database] init_db:1359 - Failed to initialize: 0
[2025-09-23 14:16:06] [INFO] [Database] init_db:1360 - Total time: 0.04 seconds
[2025-09-23 14:16:06] [INFO] [Database] init_db:1365 - ✅ All database tables initialized successfully
[2025-09-23 14:16:06] [INFO] [Database] init_db:1367 - ============================================================
[2025-09-23 14:16:06] [INFO] [Database] init_db:1372 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-23 14:16:07] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-23 14:16:07] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-23 14:16:07] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.002s
[2025-09-23 14:16:07] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-23 14:16:10] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:16:10] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:16:10] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-23 14:16:10] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:16:10] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:16:10] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:16:10] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-23 14:16:10] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:16:10] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:16:10] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:16:10] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-23 14:16:10] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:16:10] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:16:10] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:16:10] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-23 14:16:10] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:16:10] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:16:10] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:16:10] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-23 14:16:10] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.004s
[2025-09-23 14:16:10] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:16:10] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:16:10] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-23 14:16:10] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:16:10] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:16:10] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:16:10] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-23 14:16:10] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:16:10] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:16:10] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:16:10] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-23 14:16:10] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('628xd7Sa', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('A8Un8tA2', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('AWZ4mqN7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417339097411747853, -1, 2)
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BM4TWaw9', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417210716318072944, -1, 1)
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HEGVx495', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.004s
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HXt8GDc7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417205674059763805, -1, 1)
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HwHu3fKv', 1417205672847736955, 695087864450383912, 'lili', 1417534932724486265, -1, 0)
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('Y9Yq7ufy', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, -1, 1)
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.004s
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('aDWyseRm', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417205674059763805, -1, 1)
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('brpzD6Jm', 1417205672847736955, 336949613464649728, 'rapidecline', 1417310229460418580, -1, 0)
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('fSuFfGvr', 1417205672847736955, 365529294065369088, 'DsF ULYSSE', 1417205674059763805, -1, 0)
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('rRpCcb9N', 1417205672847736955, 964639984667721810, 'Brainy', 1417210265954684968, -1, 0)
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.004s
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('sSTAtTJH', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417673227366436997, -1, 1)
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vYtDjBux', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vfwD3rVk', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('zFX6KGvA', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417209847346102312, -1, 1)
[2025-09-23 14:16:11] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:18:21] [INFO] [Database] <module>:60 - ==================================================
[2025-09-23 14:18:21] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-23 14:18:21] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-23 14:18:21] [INFO] [Database] <module>:63 - ==================================================
[2025-09-23 14:18:21] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-23 14:18:21] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-23 14:18:21] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-23 14:18:21] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-23 14:18:21] [INFO] [Database] init_db:1307 - ============================================================
[2025-09-23 14:18:21] [INFO] [Database] init_db:1308 - STARTING DATABASE INITIALIZATION
[2025-09-23 14:18:21] [INFO] [Database] init_db:1309 - ============================================================
[2025-09-23 14:18:21] [INFO] [Database] init_db:1333 - Verifying database connectivity...
[2025-09-23 14:18:21] [INFO] [Database] init_db:1336 - ✅ Database connectivity verified
[2025-09-23 14:18:21] [DEBUG] [Database] init_db:1341 - Initializing Users table...
[2025-09-23 14:18:21] [INFO] [Database] init_users_table:168 - Initializing users table
[2025-09-23 14:18:21] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-23 14:18:21] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-23 14:18:21] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-23 14:18:21] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-23 14:18:21] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-23 14:18:21] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.002s: duplicate column name: anilist_username
[2025-09-23 14:18:21] [DEBUG] [Database] init_users_table:200 - Column 'anilist_username' already exists in users table
[2025-09-23 14:18:21] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-23 14:18:21] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-23 14:18:21] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.002s: duplicate column name: anilist_id
[2025-09-23 14:18:21] [DEBUG] [Database] init_users_table:200 - Column 'anilist_id' already exists in users table
[2025-09-23 14:18:21] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-23 14:18:21] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 14:18:21] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.001s: duplicate column name: created_at
[2025-09-23 14:18:21] [DEBUG] [Database] init_users_table:200 - Column 'created_at' already exists in users table
[2025-09-23 14:18:21] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-23 14:18:21] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 14:18:21] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.002s: duplicate column name: updated_at
[2025-09-23 14:18:21] [DEBUG] [Database] init_users_table:200 - Column 'updated_at' already exists in users table
[2025-09-23 14:18:21] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-23 14:18:21] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 14:18:21] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.002s
[2025-09-23 14:18:21] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 14:18:21] [DEBUG] [Database] init_users_table:207 - Users table schema: 8 columns
[2025-09-23 14:18:21] [DEBUG] [Database] init_users_table:209 -   Column: id (INTEGER)
[2025-09-23 14:18:21] [DEBUG] [Database] init_users_table:209 -   Column: discord_id (INTEGER)
[2025-09-23 14:18:21] [DEBUG] [Database] init_users_table:209 -   Column: guild_id (INTEGER)
[2025-09-23 14:18:21] [DEBUG] [Database] init_users_table:209 -   Column: username (TEXT)
[2025-09-23 14:18:21] [DEBUG] [Database] init_users_table:209 -   Column: anilist_username (TEXT)
[2025-09-23 14:18:21] [DEBUG] [Database] init_users_table:209 -   Column: anilist_id (INTEGER)
[2025-09-23 14:18:21] [DEBUG] [Database] init_users_table:209 -   Column: created_at (DATETIME)
[2025-09-23 14:18:21] [DEBUG] [Database] init_users_table:209 -   Column: updated_at (DATETIME)
[2025-09-23 14:18:21] [INFO] [Database] init_users_table:211 - ✅ Users table initialization completed successfully
[2025-09-23 14:18:21] [DEBUG] [Database] init_db:1344 - ✅ Users table initialized successfully
[2025-09-23 14:18:21] [DEBUG] [Database] init_db:1341 - Initializing Challenge Rules table...
[2025-09-23 14:18:21] [INFO] [Database] init_challenge_rules_table:660 - Initializing challenge rules table
[2025-09-23 14:18:21] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-23 14:18:21] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-23 14:18:21] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.002s
[2025-09-23 14:18:21] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-23 14:18:21] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 14:18:21] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.001s: Cannot add a column with non-constant default
[2025-09-23 14:18:21] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-23 14:18:21] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 14:18:21] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.002s: Cannot add a column with non-constant default
[2025-09-23 14:18:21] [INFO] [Database] init_challenge_rules_table:684 - ✅ Challenge rules table initialization completed
[2025-09-23 14:18:21] [DEBUG] [Database] init_db:1344 - ✅ Challenge Rules table initialized successfully
[2025-09-23 14:18:21] [DEBUG] [Database] init_db:1341 - Initializing Recommendation Votes table...
[2025-09-23 14:18:21] [INFO] [Database] init_recommendation_votes_table:752 - Manga recommendation votes table ready.
[2025-09-23 14:18:21] [DEBUG] [Database] init_db:1344 - ✅ Recommendation Votes table initialized successfully
[2025-09-23 14:18:21] [DEBUG] [Database] init_db:1341 - Initializing User Stats table...
[2025-09-23 14:18:21] [INFO] [Database] init_user_stats_table:770 - User stats table ready.
[2025-09-23 14:18:21] [DEBUG] [Database] init_db:1344 - ✅ User Stats table initialized successfully
[2025-09-23 14:18:21] [DEBUG] [Database] init_db:1341 - Initializing Achievements table...
[2025-09-23 14:18:21] [INFO] [Database] init_achievements_table:786 - Achievements table ready.
[2025-09-23 14:18:21] [DEBUG] [Database] init_db:1344 - ✅ Achievements table initialized successfully
[2025-09-23 14:18:21] [DEBUG] [Database] init_db:1341 - Initializing User Manga Progress table...
[2025-09-23 14:18:21] [INFO] [Database] init_user_manga_progress_table:822 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-23 14:18:21] [DEBUG] [Database] init_db:1344 - ✅ User Manga Progress table initialized successfully
[2025-09-23 14:18:21] [DEBUG] [Database] init_db:1341 - Initializing Manga Challenges table...
[2025-09-23 14:18:21] [DEBUG] [Database] init_db:1344 - ✅ Manga Challenges table initialized successfully
[2025-09-23 14:18:21] [DEBUG] [Database] init_db:1341 - Initializing User Progress table...
[2025-09-23 14:18:21] [DEBUG] [Database] init_db:1344 - ✅ User Progress table initialized successfully
[2025-09-23 14:18:21] [DEBUG] [Database] init_db:1341 - Initializing Global Challenges table...
[2025-09-23 14:18:21] [INFO] [Database] init_global_challenges_table:1120 - Global challenges table ready with difficulty column.
[2025-09-23 14:18:21] [DEBUG] [Database] init_db:1344 - ✅ Global Challenges table initialized successfully
[2025-09-23 14:18:21] [DEBUG] [Database] init_db:1341 - Initializing Invite Tracker table...
[2025-09-23 14:18:21] [INFO] [Database] init_invite_tracker_tables:1210 - Initializing invite tracker tables
[2025-09-23 14:18:21] [INFO] [Database] init_invite_tracker_tables:1277 - ✅ Invite tracker tables initialized successfully
[2025-09-23 14:18:21] [DEBUG] [Database] init_db:1344 - ✅ Invite Tracker table initialized successfully
[2025-09-23 14:18:21] [DEBUG] [Database] init_db:1341 - Initializing Steam Users table...
[2025-09-23 14:18:21] [INFO] [Database] init_steam_users_table:1297 - Steam users table ready.
[2025-09-23 14:18:21] [DEBUG] [Database] init_db:1344 - ✅ Steam Users table initialized successfully
[2025-09-23 14:18:21] [DEBUG] [Database] init_db:1341 - Initializing Challenge Manga table...
[2025-09-23 14:18:21] [DEBUG] [Database] init_db:1344 - ✅ Challenge Manga table initialized successfully
[2025-09-23 14:18:21] [INFO] [Database] init_db:1355 - ============================================================
[2025-09-23 14:18:21] [INFO] [Database] init_db:1356 - DATABASE INITIALIZATION SUMMARY
[2025-09-23 14:18:21] [INFO] [Database] init_db:1357 - Total tables: 12
[2025-09-23 14:18:21] [INFO] [Database] init_db:1358 - Successfully initialized: 12
[2025-09-23 14:18:21] [INFO] [Database] init_db:1359 - Failed to initialize: 0
[2025-09-23 14:18:21] [INFO] [Database] init_db:1360 - Total time: 0.04 seconds
[2025-09-23 14:18:21] [INFO] [Database] init_db:1365 - ✅ All database tables initialized successfully
[2025-09-23 14:18:21] [INFO] [Database] init_db:1367 - ============================================================
[2025-09-23 14:18:21] [INFO] [Database] init_db:1372 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-23 14:18:21] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-23 14:18:21] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-23 14:18:21] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.002s
[2025-09-23 14:18:21] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.009s
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('628xd7Sa', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('A8Un8tA2', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('AWZ4mqN7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417339097411747853, -1, 2)
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BM4TWaw9', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417210716318072944, -1, 1)
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HEGVx495', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HXt8GDc7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417205674059763805, -1, 1)
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HwHu3fKv', 1417205672847736955, 695087864450383912, 'lili', 1417534932724486265, -1, 0)
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('Y9Yq7ufy', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, -1, 1)
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('aDWyseRm', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417205674059763805, -1, 1)
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('brpzD6Jm', 1417205672847736955, 336949613464649728, 'rapidecline', 1417310229460418580, -1, 0)
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('fSuFfGvr', 1417205672847736955, 365529294065369088, 'DsF ULYSSE', 1417205674059763805, -1, 0)
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('rRpCcb9N', 1417205672847736955, 964639984667721810, 'Brainy', 1417210265954684968, -1, 0)
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('sSTAtTJH', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417673227366436997, -1, 1)
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vYtDjBux', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vfwD3rVk', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('zFX6KGvA', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417209847346102312, -1, 1)
[2025-09-23 14:18:25] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:21:19] [INFO] [Database] <module>:60 - ==================================================
[2025-09-23 14:21:19] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-23 14:21:19] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-23 14:21:19] [INFO] [Database] <module>:63 - ==================================================
[2025-09-23 14:21:19] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-23 14:21:19] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-23 14:21:20] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-23 14:21:20] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-23 14:21:20] [INFO] [Database] init_db:1307 - ============================================================
[2025-09-23 14:21:20] [INFO] [Database] init_db:1308 - STARTING DATABASE INITIALIZATION
[2025-09-23 14:21:20] [INFO] [Database] init_db:1309 - ============================================================
[2025-09-23 14:21:20] [INFO] [Database] init_db:1333 - Verifying database connectivity...
[2025-09-23 14:21:20] [INFO] [Database] init_db:1336 - ✅ Database connectivity verified
[2025-09-23 14:21:20] [DEBUG] [Database] init_db:1341 - Initializing Users table...
[2025-09-23 14:21:20] [INFO] [Database] init_users_table:168 - Initializing users table
[2025-09-23 14:21:20] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-23 14:21:20] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-23 14:21:20] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-23 14:21:20] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-23 14:21:20] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-23 14:21:20] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.002s: duplicate column name: anilist_username
[2025-09-23 14:21:20] [DEBUG] [Database] init_users_table:200 - Column 'anilist_username' already exists in users table
[2025-09-23 14:21:20] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-23 14:21:20] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-23 14:21:20] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.001s: duplicate column name: anilist_id
[2025-09-23 14:21:20] [DEBUG] [Database] init_users_table:200 - Column 'anilist_id' already exists in users table
[2025-09-23 14:21:20] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-23 14:21:20] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 14:21:20] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.001s: duplicate column name: created_at
[2025-09-23 14:21:20] [DEBUG] [Database] init_users_table:200 - Column 'created_at' already exists in users table
[2025-09-23 14:21:20] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-23 14:21:20] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 14:21:20] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.001s: duplicate column name: updated_at
[2025-09-23 14:21:20] [DEBUG] [Database] init_users_table:200 - Column 'updated_at' already exists in users table
[2025-09-23 14:21:20] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-23 14:21:20] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 14:21:20] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.002s
[2025-09-23 14:21:20] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 14:21:20] [DEBUG] [Database] init_users_table:207 - Users table schema: 8 columns
[2025-09-23 14:21:20] [DEBUG] [Database] init_users_table:209 -   Column: id (INTEGER)
[2025-09-23 14:21:20] [DEBUG] [Database] init_users_table:209 -   Column: discord_id (INTEGER)
[2025-09-23 14:21:20] [DEBUG] [Database] init_users_table:209 -   Column: guild_id (INTEGER)
[2025-09-23 14:21:20] [DEBUG] [Database] init_users_table:209 -   Column: username (TEXT)
[2025-09-23 14:21:20] [DEBUG] [Database] init_users_table:209 -   Column: anilist_username (TEXT)
[2025-09-23 14:21:20] [DEBUG] [Database] init_users_table:209 -   Column: anilist_id (INTEGER)
[2025-09-23 14:21:20] [DEBUG] [Database] init_users_table:209 -   Column: created_at (DATETIME)
[2025-09-23 14:21:20] [DEBUG] [Database] init_users_table:209 -   Column: updated_at (DATETIME)
[2025-09-23 14:21:20] [INFO] [Database] init_users_table:211 - ✅ Users table initialization completed successfully
[2025-09-23 14:21:20] [DEBUG] [Database] init_db:1344 - ✅ Users table initialized successfully
[2025-09-23 14:21:20] [DEBUG] [Database] init_db:1341 - Initializing Challenge Rules table...
[2025-09-23 14:21:20] [INFO] [Database] init_challenge_rules_table:660 - Initializing challenge rules table
[2025-09-23 14:21:20] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-23 14:21:20] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-23 14:21:20] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.002s
[2025-09-23 14:21:20] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-23 14:21:20] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 14:21:20] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.002s: Cannot add a column with non-constant default
[2025-09-23 14:21:20] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-23 14:21:20] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 14:21:20] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.002s: Cannot add a column with non-constant default
[2025-09-23 14:21:20] [INFO] [Database] init_challenge_rules_table:684 - ✅ Challenge rules table initialization completed
[2025-09-23 14:21:20] [DEBUG] [Database] init_db:1344 - ✅ Challenge Rules table initialized successfully
[2025-09-23 14:21:20] [DEBUG] [Database] init_db:1341 - Initializing Recommendation Votes table...
[2025-09-23 14:21:20] [INFO] [Database] init_recommendation_votes_table:752 - Manga recommendation votes table ready.
[2025-09-23 14:21:20] [DEBUG] [Database] init_db:1344 - ✅ Recommendation Votes table initialized successfully
[2025-09-23 14:21:20] [DEBUG] [Database] init_db:1341 - Initializing User Stats table...
[2025-09-23 14:21:20] [INFO] [Database] init_user_stats_table:770 - User stats table ready.
[2025-09-23 14:21:20] [DEBUG] [Database] init_db:1344 - ✅ User Stats table initialized successfully
[2025-09-23 14:21:20] [DEBUG] [Database] init_db:1341 - Initializing Achievements table...
[2025-09-23 14:21:20] [INFO] [Database] init_achievements_table:786 - Achievements table ready.
[2025-09-23 14:21:20] [DEBUG] [Database] init_db:1344 - ✅ Achievements table initialized successfully
[2025-09-23 14:21:20] [DEBUG] [Database] init_db:1341 - Initializing User Manga Progress table...
[2025-09-23 14:21:20] [INFO] [Database] init_user_manga_progress_table:822 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-23 14:21:20] [DEBUG] [Database] init_db:1344 - ✅ User Manga Progress table initialized successfully
[2025-09-23 14:21:20] [DEBUG] [Database] init_db:1341 - Initializing Manga Challenges table...
[2025-09-23 14:21:20] [DEBUG] [Database] init_db:1344 - ✅ Manga Challenges table initialized successfully
[2025-09-23 14:21:20] [DEBUG] [Database] init_db:1341 - Initializing User Progress table...
[2025-09-23 14:21:20] [DEBUG] [Database] init_db:1344 - ✅ User Progress table initialized successfully
[2025-09-23 14:21:20] [DEBUG] [Database] init_db:1341 - Initializing Global Challenges table...
[2025-09-23 14:21:20] [INFO] [Database] init_global_challenges_table:1120 - Global challenges table ready with difficulty column.
[2025-09-23 14:21:20] [DEBUG] [Database] init_db:1344 - ✅ Global Challenges table initialized successfully
[2025-09-23 14:21:20] [DEBUG] [Database] init_db:1341 - Initializing Invite Tracker table...
[2025-09-23 14:21:20] [INFO] [Database] init_invite_tracker_tables:1210 - Initializing invite tracker tables
[2025-09-23 14:21:20] [INFO] [Database] init_invite_tracker_tables:1277 - ✅ Invite tracker tables initialized successfully
[2025-09-23 14:21:20] [DEBUG] [Database] init_db:1344 - ✅ Invite Tracker table initialized successfully
[2025-09-23 14:21:20] [DEBUG] [Database] init_db:1341 - Initializing Steam Users table...
[2025-09-23 14:21:20] [INFO] [Database] init_steam_users_table:1297 - Steam users table ready.
[2025-09-23 14:21:20] [DEBUG] [Database] init_db:1344 - ✅ Steam Users table initialized successfully
[2025-09-23 14:21:20] [DEBUG] [Database] init_db:1341 - Initializing Challenge Manga table...
[2025-09-23 14:21:20] [DEBUG] [Database] init_db:1344 - ✅ Challenge Manga table initialized successfully
[2025-09-23 14:21:20] [INFO] [Database] init_db:1355 - ============================================================
[2025-09-23 14:21:20] [INFO] [Database] init_db:1356 - DATABASE INITIALIZATION SUMMARY
[2025-09-23 14:21:20] [INFO] [Database] init_db:1357 - Total tables: 12
[2025-09-23 14:21:20] [INFO] [Database] init_db:1358 - Successfully initialized: 12
[2025-09-23 14:21:20] [INFO] [Database] init_db:1359 - Failed to initialize: 0
[2025-09-23 14:21:20] [INFO] [Database] init_db:1360 - Total time: 0.04 seconds
[2025-09-23 14:21:20] [INFO] [Database] init_db:1365 - ✅ All database tables initialized successfully
[2025-09-23 14:21:20] [INFO] [Database] init_db:1367 - ============================================================
[2025-09-23 14:21:20] [INFO] [Database] init_db:1372 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-23 14:21:20] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-23 14:21:20] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-23 14:21:20] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.002s
[2025-09-23 14:21:20] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-23 14:21:23] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:21:23] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:21:23] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-23 14:21:23] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:21:23] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:21:23] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:21:23] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-23 14:21:23] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:21:23] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:21:23] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:21:23] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-23 14:21:23] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:21:23] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:21:23] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:21:23] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-23 14:21:23] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:21:23] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:21:23] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:21:23] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-23 14:21:23] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:21:23] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:21:23] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:21:23] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-23 14:21:23] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:21:23] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:21:23] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:21:23] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-23 14:21:23] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:21:23] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:21:23] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:21:23] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-23 14:21:23] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('628xd7Sa', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('A8Un8tA2', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('AWZ4mqN7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417339097411747853, -1, 2)
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BM4TWaw9', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417210716318072944, -1, 1)
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HEGVx495', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HXt8GDc7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417205674059763805, -1, 1)
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HwHu3fKv', 1417205672847736955, 695087864450383912, 'lili', 1417534932724486265, -1, 0)
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('Y9Yq7ufy', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, -1, 1)
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('aDWyseRm', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417205674059763805, -1, 1)
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.004s
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('brpzD6Jm', 1417205672847736955, 336949613464649728, 'rapidecline', 1417310229460418580, -1, 0)
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('fSuFfGvr', 1417205672847736955, 365529294065369088, 'DsF ULYSSE', 1417205674059763805, -1, 0)
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('rRpCcb9N', 1417205672847736955, 964639984667721810, 'Brainy', 1417210265954684968, -1, 0)
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('sSTAtTJH', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417673227366436997, -1, 1)
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vYtDjBux', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vfwD3rVk', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('zFX6KGvA', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417209847346102312, -1, 1)
[2025-09-23 14:21:24] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.004s
[2025-09-23 14:22:31] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-23 14:22:31] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-23 14:22:31] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.004s
[2025-09-23 14:22:31] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-23 14:22:31] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:31] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:31] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-23 14:22:31] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 14:22:31] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:31] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:31] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-23 14:22:31] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:22:31] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:31] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:31] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-23 14:22:31] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:22:31] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:31] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:31] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-23 14:22:31] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:22:31] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:31] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:31] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-23 14:22:31] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:22:31] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:31] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:31] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-23 14:22:31] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:22:31] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:31] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:31] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-23 14:22:31] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 14:22:31] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:31] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:31] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-23 14:22:31] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('628xd7Sa', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('A8Un8tA2', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('AWZ4mqN7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417339097411747853, -1, 2)
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BM4TWaw9', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417210716318072944, -1, 1)
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HEGVx495', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HXt8GDc7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417205674059763805, -1, 1)
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HwHu3fKv', 1417205672847736955, 695087864450383912, 'lili', 1417534932724486265, -1, 0)
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('Y9Yq7ufy', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, -1, 1)
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('aDWyseRm', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417205674059763805, -1, 1)
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('brpzD6Jm', 1417205672847736955, 336949613464649728, 'rapidecline', 1417310229460418580, -1, 0)
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('fSuFfGvr', 1417205672847736955, 365529294065369088, 'DsF ULYSSE', 1417205674059763805, -1, 0)
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('rRpCcb9N', 1417205672847736955, 964639984667721810, 'Brainy', 1417210265954684968, -1, 0)
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('sSTAtTJH', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417673227366436997, -1, 1)
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vYtDjBux', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vfwD3rVk', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('zFX6KGvA', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417209847346102312, -1, 1)
[2025-09-23 14:22:32] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:22:35] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-23 14:22:35] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-23 14:22:35] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.004s
[2025-09-23 14:22:35] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-23 14:22:35] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:35] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:35] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-23 14:22:35] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:22:35] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:35] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:35] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-23 14:22:35] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-23 14:22:35] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:35] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:35] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-23 14:22:35] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:22:35] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:35] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:35] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-23 14:22:35] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-23 14:22:35] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:35] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:35] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-23 14:22:35] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:22:35] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:35] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:35] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-23 14:22:35] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 14:22:35] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:35] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:35] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-23 14:22:35] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-23 14:22:35] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:35] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:35] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-23 14:22:35] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('628xd7Sa', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('A8Un8tA2', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('AWZ4mqN7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417339097411747853, -1, 2)
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BM4TWaw9', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417210716318072944, -1, 1)
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HEGVx495', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HXt8GDc7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417205674059763805, -1, 1)
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HwHu3fKv', 1417205672847736955, 695087864450383912, 'lili', 1417534932724486265, -1, 0)
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('Y9Yq7ufy', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, -1, 1)
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('aDWyseRm', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417205674059763805, -1, 1)
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('brpzD6Jm', 1417205672847736955, 336949613464649728, 'rapidecline', 1417310229460418580, -1, 0)
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('fSuFfGvr', 1417205672847736955, 365529294065369088, 'DsF ULYSSE', 1417205674059763805, -1, 0)
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('rRpCcb9N', 1417205672847736955, 964639984667721810, 'Brainy', 1417210265954684968, -1, 0)
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('sSTAtTJH', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417673227366436997, -1, 1)
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vYtDjBux', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vfwD3rVk', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('zFX6KGvA', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417209847346102312, -1, 1)
[2025-09-23 14:22:36] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:22:44] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-23 14:22:44] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-23 14:22:44] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.003s
[2025-09-23 14:22:44] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('628xd7Sa', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('A8Un8tA2', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('AWZ4mqN7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417339097411747853, -1, 2)
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BM4TWaw9', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417210716318072944, -1, 1)
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HEGVx495', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HXt8GDc7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417205674059763805, -1, 1)
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HwHu3fKv', 1417205672847736955, 695087864450383912, 'lili', 1417534932724486265, -1, 0)
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('Y9Yq7ufy', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, -1, 1)
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('aDWyseRm', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417205674059763805, -1, 1)
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('brpzD6Jm', 1417205672847736955, 336949613464649728, 'rapidecline', 1417310229460418580, -1, 0)
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('fSuFfGvr', 1417205672847736955, 365529294065369088, 'DsF ULYSSE', 1417205674059763805, -1, 0)
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('rRpCcb9N', 1417205672847736955, 964639984667721810, 'Brainy', 1417210265954684968, -1, 0)
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('sSTAtTJH', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417673227366436997, -1, 1)
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vYtDjBux', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vfwD3rVk', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('zFX6KGvA', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417209847346102312, -1, 1)
[2025-09-23 14:22:45] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:22:48] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-23 14:22:48] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-23 14:22:48] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.003s
[2025-09-23 14:22:48] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-23 14:22:48] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:48] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:48] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-23 14:22:48] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:22:48] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:48] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:48] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-23 14:22:48] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:22:48] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:48] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:48] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-23 14:22:48] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:22:48] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:48] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:48] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-23 14:22:48] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 14:22:48] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:48] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:48] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-23 14:22:48] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:22:48] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:48] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:48] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-23 14:22:48] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:22:48] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:48] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:48] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-23 14:22:48] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:22:48] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:48] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:48] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-23 14:22:48] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('628xd7Sa', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('A8Un8tA2', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('AWZ4mqN7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417339097411747853, -1, 2)
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BM4TWaw9', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417210716318072944, -1, 1)
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HEGVx495', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HXt8GDc7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417205674059763805, -1, 1)
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HwHu3fKv', 1417205672847736955, 695087864450383912, 'lili', 1417534932724486265, -1, 0)
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('Y9Yq7ufy', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, -1, 1)
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('aDWyseRm', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417205674059763805, -1, 1)
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('brpzD6Jm', 1417205672847736955, 336949613464649728, 'rapidecline', 1417310229460418580, -1, 0)
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('fSuFfGvr', 1417205672847736955, 365529294065369088, 'DsF ULYSSE', 1417205674059763805, -1, 0)
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('rRpCcb9N', 1417205672847736955, 964639984667721810, 'Brainy', 1417210265954684968, -1, 0)
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('sSTAtTJH', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417673227366436997, -1, 1)
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vYtDjBux', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vfwD3rVk', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('zFX6KGvA', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417209847346102312, -1, 1)
[2025-09-23 14:22:49] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:22:59] [INFO] [Database] <module>:60 - ==================================================
[2025-09-23 14:22:59] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-23 14:22:59] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-23 14:22:59] [INFO] [Database] <module>:63 - ==================================================
[2025-09-23 14:22:59] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-23 14:22:59] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-23 14:22:59] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-23 14:22:59] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-23 14:22:59] [INFO] [Database] init_db:1307 - ============================================================
[2025-09-23 14:22:59] [INFO] [Database] init_db:1308 - STARTING DATABASE INITIALIZATION
[2025-09-23 14:22:59] [INFO] [Database] init_db:1309 - ============================================================
[2025-09-23 14:22:59] [INFO] [Database] init_db:1333 - Verifying database connectivity...
[2025-09-23 14:22:59] [INFO] [Database] init_db:1336 - ✅ Database connectivity verified
[2025-09-23 14:22:59] [DEBUG] [Database] init_db:1341 - Initializing Users table...
[2025-09-23 14:22:59] [INFO] [Database] init_users_table:168 - Initializing users table
[2025-09-23 14:22:59] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-23 14:22:59] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-23 14:22:59] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-23 14:22:59] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-23 14:22:59] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-23 14:22:59] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.001s: duplicate column name: anilist_username
[2025-09-23 14:22:59] [DEBUG] [Database] init_users_table:200 - Column 'anilist_username' already exists in users table
[2025-09-23 14:22:59] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-23 14:22:59] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-23 14:22:59] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.001s: duplicate column name: anilist_id
[2025-09-23 14:22:59] [DEBUG] [Database] init_users_table:200 - Column 'anilist_id' already exists in users table
[2025-09-23 14:22:59] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-23 14:22:59] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 14:22:59] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.001s: duplicate column name: created_at
[2025-09-23 14:22:59] [DEBUG] [Database] init_users_table:200 - Column 'created_at' already exists in users table
[2025-09-23 14:22:59] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-23 14:22:59] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 14:22:59] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.001s: duplicate column name: updated_at
[2025-09-23 14:22:59] [DEBUG] [Database] init_users_table:200 - Column 'updated_at' already exists in users table
[2025-09-23 14:22:59] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-23 14:22:59] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 14:22:59] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.002s
[2025-09-23 14:22:59] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 14:22:59] [DEBUG] [Database] init_users_table:207 - Users table schema: 8 columns
[2025-09-23 14:22:59] [DEBUG] [Database] init_users_table:209 -   Column: id (INTEGER)
[2025-09-23 14:22:59] [DEBUG] [Database] init_users_table:209 -   Column: discord_id (INTEGER)
[2025-09-23 14:22:59] [DEBUG] [Database] init_users_table:209 -   Column: guild_id (INTEGER)
[2025-09-23 14:22:59] [DEBUG] [Database] init_users_table:209 -   Column: username (TEXT)
[2025-09-23 14:22:59] [DEBUG] [Database] init_users_table:209 -   Column: anilist_username (TEXT)
[2025-09-23 14:22:59] [DEBUG] [Database] init_users_table:209 -   Column: anilist_id (INTEGER)
[2025-09-23 14:22:59] [DEBUG] [Database] init_users_table:209 -   Column: created_at (DATETIME)
[2025-09-23 14:22:59] [DEBUG] [Database] init_users_table:209 -   Column: updated_at (DATETIME)
[2025-09-23 14:22:59] [INFO] [Database] init_users_table:211 - ✅ Users table initialization completed successfully
[2025-09-23 14:22:59] [DEBUG] [Database] init_db:1344 - ✅ Users table initialized successfully
[2025-09-23 14:22:59] [DEBUG] [Database] init_db:1341 - Initializing Challenge Rules table...
[2025-09-23 14:22:59] [INFO] [Database] init_challenge_rules_table:660 - Initializing challenge rules table
[2025-09-23 14:22:59] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-23 14:22:59] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-23 14:22:59] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.002s
[2025-09-23 14:22:59] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-23 14:22:59] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 14:22:59] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.002s: Cannot add a column with non-constant default
[2025-09-23 14:22:59] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-23 14:22:59] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 14:22:59] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.002s: Cannot add a column with non-constant default
[2025-09-23 14:22:59] [INFO] [Database] init_challenge_rules_table:684 - ✅ Challenge rules table initialization completed
[2025-09-23 14:22:59] [DEBUG] [Database] init_db:1344 - ✅ Challenge Rules table initialized successfully
[2025-09-23 14:22:59] [DEBUG] [Database] init_db:1341 - Initializing Recommendation Votes table...
[2025-09-23 14:22:59] [INFO] [Database] init_recommendation_votes_table:752 - Manga recommendation votes table ready.
[2025-09-23 14:22:59] [DEBUG] [Database] init_db:1344 - ✅ Recommendation Votes table initialized successfully
[2025-09-23 14:22:59] [DEBUG] [Database] init_db:1341 - Initializing User Stats table...
[2025-09-23 14:22:59] [INFO] [Database] init_user_stats_table:770 - User stats table ready.
[2025-09-23 14:22:59] [DEBUG] [Database] init_db:1344 - ✅ User Stats table initialized successfully
[2025-09-23 14:22:59] [DEBUG] [Database] init_db:1341 - Initializing Achievements table...
[2025-09-23 14:22:59] [INFO] [Database] init_achievements_table:786 - Achievements table ready.
[2025-09-23 14:22:59] [DEBUG] [Database] init_db:1344 - ✅ Achievements table initialized successfully
[2025-09-23 14:22:59] [DEBUG] [Database] init_db:1341 - Initializing User Manga Progress table...
[2025-09-23 14:22:59] [INFO] [Database] init_user_manga_progress_table:822 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-23 14:22:59] [DEBUG] [Database] init_db:1344 - ✅ User Manga Progress table initialized successfully
[2025-09-23 14:22:59] [DEBUG] [Database] init_db:1341 - Initializing Manga Challenges table...
[2025-09-23 14:22:59] [DEBUG] [Database] init_db:1344 - ✅ Manga Challenges table initialized successfully
[2025-09-23 14:22:59] [DEBUG] [Database] init_db:1341 - Initializing User Progress table...
[2025-09-23 14:22:59] [DEBUG] [Database] init_db:1344 - ✅ User Progress table initialized successfully
[2025-09-23 14:22:59] [DEBUG] [Database] init_db:1341 - Initializing Global Challenges table...
[2025-09-23 14:22:59] [INFO] [Database] init_global_challenges_table:1120 - Global challenges table ready with difficulty column.
[2025-09-23 14:22:59] [DEBUG] [Database] init_db:1344 - ✅ Global Challenges table initialized successfully
[2025-09-23 14:22:59] [DEBUG] [Database] init_db:1341 - Initializing Invite Tracker table...
[2025-09-23 14:22:59] [INFO] [Database] init_invite_tracker_tables:1210 - Initializing invite tracker tables
[2025-09-23 14:22:59] [INFO] [Database] init_invite_tracker_tables:1277 - ✅ Invite tracker tables initialized successfully
[2025-09-23 14:22:59] [DEBUG] [Database] init_db:1344 - ✅ Invite Tracker table initialized successfully
[2025-09-23 14:22:59] [DEBUG] [Database] init_db:1341 - Initializing Steam Users table...
[2025-09-23 14:22:59] [INFO] [Database] init_steam_users_table:1297 - Steam users table ready.
[2025-09-23 14:22:59] [DEBUG] [Database] init_db:1344 - ✅ Steam Users table initialized successfully
[2025-09-23 14:22:59] [DEBUG] [Database] init_db:1341 - Initializing Challenge Manga table...
[2025-09-23 14:22:59] [DEBUG] [Database] init_db:1344 - ✅ Challenge Manga table initialized successfully
[2025-09-23 14:22:59] [INFO] [Database] init_db:1355 - ============================================================
[2025-09-23 14:22:59] [INFO] [Database] init_db:1356 - DATABASE INITIALIZATION SUMMARY
[2025-09-23 14:22:59] [INFO] [Database] init_db:1357 - Total tables: 12
[2025-09-23 14:22:59] [INFO] [Database] init_db:1358 - Successfully initialized: 12
[2025-09-23 14:22:59] [INFO] [Database] init_db:1359 - Failed to initialize: 0
[2025-09-23 14:22:59] [INFO] [Database] init_db:1360 - Total time: 0.04 seconds
[2025-09-23 14:22:59] [INFO] [Database] init_db:1365 - ✅ All database tables initialized successfully
[2025-09-23 14:22:59] [INFO] [Database] init_db:1367 - ============================================================
[2025-09-23 14:22:59] [INFO] [Database] init_db:1372 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-23 14:22:59] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-23 14:22:59] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-23 14:22:59] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.002s
[2025-09-23 14:22:59] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-23 14:23:02] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:23:02] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:23:02] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-23 14:23:02] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:23:02] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:23:02] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:23:02] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-23 14:23:02] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:23:02] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:23:02] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:23:02] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-23 14:23:02] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:23:02] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:23:02] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:23:02] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-23 14:23:02] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.004s
[2025-09-23 14:23:02] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:23:02] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:23:02] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-23 14:23:02] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.004s
[2025-09-23 14:23:02] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:23:02] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:23:02] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-23 14:23:02] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:23:02] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:23:02] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:23:02] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-23 14:23:02] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:23:02] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:23:02] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:23:02] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-23 14:23:02] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('628xd7Sa', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('A8Un8tA2', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('AWZ4mqN7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417339097411747853, -1, 2)
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BM4TWaw9', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417210716318072944, -1, 1)
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HEGVx495', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HXt8GDc7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417205674059763805, -1, 1)
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HwHu3fKv', 1417205672847736955, 695087864450383912, 'lili', 1417534932724486265, -1, 0)
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('Y9Yq7ufy', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, -1, 1)
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('aDWyseRm', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417205674059763805, -1, 1)
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('brpzD6Jm', 1417205672847736955, 336949613464649728, 'rapidecline', 1417310229460418580, -1, 0)
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('fSuFfGvr', 1417205672847736955, 365529294065369088, 'DsF ULYSSE', 1417205674059763805, -1, 0)
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('rRpCcb9N', 1417205672847736955, 964639984667721810, 'Brainy', 1417210265954684968, -1, 0)
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('sSTAtTJH', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417673227366436997, -1, 1)
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vYtDjBux', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vfwD3rVk', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.004s
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('zFX6KGvA', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417209847346102312, -1, 1)
[2025-09-23 14:23:03] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:28:44] [INFO] [Database] <module>:60 - ==================================================
[2025-09-23 14:28:44] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-23 14:28:44] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-23 14:28:44] [INFO] [Database] <module>:63 - ==================================================
[2025-09-23 14:28:44] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-23 14:28:44] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-23 14:28:44] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-23 14:28:44] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-23 14:30:46] [INFO] [Database] <module>:60 - ==================================================
[2025-09-23 14:30:46] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-23 14:30:46] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-23 14:30:46] [INFO] [Database] <module>:63 - ==================================================
[2025-09-23 14:30:46] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-23 14:30:46] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-23 14:30:46] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-23 14:30:46] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-23 14:30:46] [DEBUG] [Database] get_user_guild_aware:344 - Retrieving user data for Discord ID: 123456789 in guild: 897814031346319382
[2025-09-23 14:30:46] [DEBUG] [Database] execute_db_operation:115 - Executing get user 123456789 from guild 897814031346319382
[2025-09-23 14:30:46] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE discord_id = ? AND guild_id = ?
[2025-09-23 14:30:46] [DEBUG] [Database] execute_db_operation:118 - Parameters: (123456789, 897814031346319382)
[2025-09-23 14:30:46] [DEBUG] [Database] execute_db_operation:142 - get user 123456789 from guild 897814031346319382 completed in 0.002s
[2025-09-23 14:30:46] [DEBUG] [Database] get_user_guild_aware:363 - No user found for Discord ID: 123456789 in guild 897814031346319382
[2025-09-23 14:30:46] [WARNING] [Database] get_user:310 - Using deprecated get_user function. Consider using get_user_guild_aware for multi-guild support
[2025-09-23 14:30:46] [DEBUG] [Database] get_user:311 - Retrieving user data for Discord ID: 123456789
[2025-09-23 14:30:46] [DEBUG] [Database] execute_db_operation:115 - Executing get user 123456789 from default guild
[2025-09-23 14:30:46] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE discord_id = ? AND guild_id = ?
[2025-09-23 14:30:46] [DEBUG] [Database] execute_db_operation:118 - Parameters: (123456789, 897814031346319382)
[2025-09-23 14:30:46] [DEBUG] [Database] execute_db_operation:142 - get user 123456789 from default guild completed in 0.001s
[2025-09-23 14:30:46] [DEBUG] [Database] get_user:330 - No user found for Discord ID: 123456789 in default guild
[2025-09-23 14:31:14] [INFO] [Database] <module>:60 - ==================================================
[2025-09-23 14:31:14] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-23 14:31:14] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-23 14:31:14] [INFO] [Database] <module>:63 - ==================================================
[2025-09-23 14:31:14] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-23 14:31:14] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-23 14:31:14] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-23 14:31:14] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-23 14:31:52] [INFO] [Database] <module>:60 - ==================================================
[2025-09-23 14:31:52] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-23 14:31:52] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-23 14:31:52] [INFO] [Database] <module>:63 - ==================================================
[2025-09-23 14:31:52] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-23 14:31:52] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-23 14:31:52] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-23 14:31:52] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-23 14:31:52] [INFO] [Database] init_db:1307 - ============================================================
[2025-09-23 14:31:52] [INFO] [Database] init_db:1308 - STARTING DATABASE INITIALIZATION
[2025-09-23 14:31:52] [INFO] [Database] init_db:1309 - ============================================================
[2025-09-23 14:31:52] [INFO] [Database] init_db:1333 - Verifying database connectivity...
[2025-09-23 14:31:52] [INFO] [Database] init_db:1336 - ✅ Database connectivity verified
[2025-09-23 14:31:52] [DEBUG] [Database] init_db:1341 - Initializing Users table...
[2025-09-23 14:31:52] [INFO] [Database] init_users_table:168 - Initializing users table
[2025-09-23 14:31:52] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-23 14:31:52] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-23 14:31:52] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-23 14:31:52] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-23 14:31:52] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-23 14:31:52] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.002s: duplicate column name: anilist_username
[2025-09-23 14:31:52] [DEBUG] [Database] init_users_table:200 - Column 'anilist_username' already exists in users table
[2025-09-23 14:31:52] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-23 14:31:52] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-23 14:31:52] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.002s: duplicate column name: anilist_id
[2025-09-23 14:31:52] [DEBUG] [Database] init_users_table:200 - Column 'anilist_id' already exists in users table
[2025-09-23 14:31:52] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-23 14:31:52] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 14:31:52] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.001s: duplicate column name: created_at
[2025-09-23 14:31:52] [DEBUG] [Database] init_users_table:200 - Column 'created_at' already exists in users table
[2025-09-23 14:31:52] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-23 14:31:52] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 14:31:52] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.002s: duplicate column name: updated_at
[2025-09-23 14:31:52] [DEBUG] [Database] init_users_table:200 - Column 'updated_at' already exists in users table
[2025-09-23 14:31:52] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-23 14:31:52] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 14:31:52] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.002s
[2025-09-23 14:31:52] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 14:31:52] [DEBUG] [Database] init_users_table:207 - Users table schema: 8 columns
[2025-09-23 14:31:52] [DEBUG] [Database] init_users_table:209 -   Column: id (INTEGER)
[2025-09-23 14:31:52] [DEBUG] [Database] init_users_table:209 -   Column: discord_id (INTEGER)
[2025-09-23 14:31:52] [DEBUG] [Database] init_users_table:209 -   Column: guild_id (INTEGER)
[2025-09-23 14:31:52] [DEBUG] [Database] init_users_table:209 -   Column: username (TEXT)
[2025-09-23 14:31:52] [DEBUG] [Database] init_users_table:209 -   Column: anilist_username (TEXT)
[2025-09-23 14:31:52] [DEBUG] [Database] init_users_table:209 -   Column: anilist_id (INTEGER)
[2025-09-23 14:31:52] [DEBUG] [Database] init_users_table:209 -   Column: created_at (DATETIME)
[2025-09-23 14:31:52] [DEBUG] [Database] init_users_table:209 -   Column: updated_at (DATETIME)
[2025-09-23 14:31:52] [INFO] [Database] init_users_table:211 - ✅ Users table initialization completed successfully
[2025-09-23 14:31:52] [DEBUG] [Database] init_db:1344 - ✅ Users table initialized successfully
[2025-09-23 14:31:52] [DEBUG] [Database] init_db:1341 - Initializing Challenge Rules table...
[2025-09-23 14:31:52] [INFO] [Database] init_challenge_rules_table:660 - Initializing challenge rules table
[2025-09-23 14:31:52] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-23 14:31:52] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-23 14:31:52] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.002s
[2025-09-23 14:31:52] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-23 14:31:52] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 14:31:52] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.001s: Cannot add a column with non-constant default
[2025-09-23 14:31:52] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-23 14:31:52] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 14:31:52] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.002s: Cannot add a column with non-constant default
[2025-09-23 14:31:52] [INFO] [Database] init_challenge_rules_table:684 - ✅ Challenge rules table initialization completed
[2025-09-23 14:31:52] [DEBUG] [Database] init_db:1344 - ✅ Challenge Rules table initialized successfully
[2025-09-23 14:31:52] [DEBUG] [Database] init_db:1341 - Initializing Recommendation Votes table...
[2025-09-23 14:31:52] [INFO] [Database] init_recommendation_votes_table:752 - Manga recommendation votes table ready.
[2025-09-23 14:31:52] [DEBUG] [Database] init_db:1344 - ✅ Recommendation Votes table initialized successfully
[2025-09-23 14:31:52] [DEBUG] [Database] init_db:1341 - Initializing User Stats table...
[2025-09-23 14:31:52] [INFO] [Database] init_user_stats_table:770 - User stats table ready.
[2025-09-23 14:31:52] [DEBUG] [Database] init_db:1344 - ✅ User Stats table initialized successfully
[2025-09-23 14:31:52] [DEBUG] [Database] init_db:1341 - Initializing Achievements table...
[2025-09-23 14:31:52] [INFO] [Database] init_achievements_table:786 - Achievements table ready.
[2025-09-23 14:31:52] [DEBUG] [Database] init_db:1344 - ✅ Achievements table initialized successfully
[2025-09-23 14:31:52] [DEBUG] [Database] init_db:1341 - Initializing User Manga Progress table...
[2025-09-23 14:31:52] [INFO] [Database] init_user_manga_progress_table:822 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-23 14:31:52] [DEBUG] [Database] init_db:1344 - ✅ User Manga Progress table initialized successfully
[2025-09-23 14:31:52] [DEBUG] [Database] init_db:1341 - Initializing Manga Challenges table...
[2025-09-23 14:31:52] [DEBUG] [Database] init_db:1344 - ✅ Manga Challenges table initialized successfully
[2025-09-23 14:31:52] [DEBUG] [Database] init_db:1341 - Initializing User Progress table...
[2025-09-23 14:31:52] [DEBUG] [Database] init_db:1344 - ✅ User Progress table initialized successfully
[2025-09-23 14:31:52] [DEBUG] [Database] init_db:1341 - Initializing Global Challenges table...
[2025-09-23 14:31:52] [INFO] [Database] init_global_challenges_table:1120 - Global challenges table ready with difficulty column.
[2025-09-23 14:31:52] [DEBUG] [Database] init_db:1344 - ✅ Global Challenges table initialized successfully
[2025-09-23 14:31:52] [DEBUG] [Database] init_db:1341 - Initializing Invite Tracker table...
[2025-09-23 14:31:52] [INFO] [Database] init_invite_tracker_tables:1210 - Initializing invite tracker tables
[2025-09-23 14:31:52] [INFO] [Database] init_invite_tracker_tables:1277 - ✅ Invite tracker tables initialized successfully
[2025-09-23 14:31:52] [DEBUG] [Database] init_db:1344 - ✅ Invite Tracker table initialized successfully
[2025-09-23 14:31:52] [DEBUG] [Database] init_db:1341 - Initializing Steam Users table...
[2025-09-23 14:31:52] [INFO] [Database] init_steam_users_table:1297 - Steam users table ready.
[2025-09-23 14:31:52] [DEBUG] [Database] init_db:1344 - ✅ Steam Users table initialized successfully
[2025-09-23 14:31:52] [DEBUG] [Database] init_db:1341 - Initializing Challenge Manga table...
[2025-09-23 14:31:52] [DEBUG] [Database] init_db:1344 - ✅ Challenge Manga table initialized successfully
[2025-09-23 14:31:52] [INFO] [Database] init_db:1355 - ============================================================
[2025-09-23 14:31:52] [INFO] [Database] init_db:1356 - DATABASE INITIALIZATION SUMMARY
[2025-09-23 14:31:52] [INFO] [Database] init_db:1357 - Total tables: 12
[2025-09-23 14:31:52] [INFO] [Database] init_db:1358 - Successfully initialized: 12
[2025-09-23 14:31:52] [INFO] [Database] init_db:1359 - Failed to initialize: 0
[2025-09-23 14:31:52] [INFO] [Database] init_db:1360 - Total time: 0.04 seconds
[2025-09-23 14:31:52] [INFO] [Database] init_db:1365 - ✅ All database tables initialized successfully
[2025-09-23 14:31:52] [INFO] [Database] init_db:1367 - ============================================================
[2025-09-23 14:31:52] [INFO] [Database] init_db:1372 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-23 14:31:52] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-23 14:31:52] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-23 14:31:52] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.002s
[2025-09-23 14:31:52] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-23 14:31:56] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:31:56] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:31:56] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-23 14:31:56] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:31:56] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:31:56] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:31:56] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-23 14:31:56] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:31:56] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:31:56] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:31:56] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-23 14:31:56] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:31:56] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:31:56] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:31:56] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-23 14:31:56] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.009s
[2025-09-23 14:31:56] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:31:56] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:31:56] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-23 14:31:56] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 14:31:56] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:31:56] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:31:56] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-23 14:31:56] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-23 14:31:56] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:31:56] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:31:56] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-23 14:31:56] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 14:31:56] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:31:56] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:31:56] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-23 14:31:56] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('628xd7Sa', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.009s
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('A8Un8tA2', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('AWZ4mqN7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417339097411747853, -1, 2)
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BM4TWaw9', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417210716318072944, -1, 1)
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HEGVx495', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HXt8GDc7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417205674059763805, -1, 1)
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HwHu3fKv', 1417205672847736955, 695087864450383912, 'lili', 1417534932724486265, -1, 0)
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('Y9Yq7ufy', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, -1, 1)
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('aDWyseRm', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417205674059763805, -1, 1)
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('brpzD6Jm', 1417205672847736955, 336949613464649728, 'rapidecline', 1417310229460418580, -1, 0)
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('fSuFfGvr', 1417205672847736955, 365529294065369088, 'DsF ULYSSE', 1417205674059763805, -1, 0)
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('rRpCcb9N', 1417205672847736955, 964639984667721810, 'Brainy', 1417210265954684968, -1, 0)
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('sSTAtTJH', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417673227366436997, -1, 1)
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.009s
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vYtDjBux', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vfwD3rVk', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('zFX6KGvA', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417209847346102312, -1, 1)
[2025-09-23 14:31:57] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:38:02] [DEBUG] [Database] get_user_guild_aware:344 - Retrieving user data for Discord ID: 331164413623009281 in guild: 897814031346319382
[2025-09-23 14:38:02] [DEBUG] [Database] execute_db_operation:115 - Executing get user 331164413623009281 from guild 897814031346319382
[2025-09-23 14:38:02] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE discord_id = ? AND guild_id = ?
[2025-09-23 14:38:02] [DEBUG] [Database] execute_db_operation:118 - Parameters: (331164413623009281, 897814031346319382)
[2025-09-23 14:38:02] [DEBUG] [Database] execute_db_operation:142 - get user 331164413623009281 from guild 897814031346319382 completed in 0.002s
[2025-09-23 14:38:02] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-23 14:38:02] [DEBUG] [Database] get_user_guild_aware:361 - ✅ Found user: Kyerstorm (ID: 1) in guild 897814031346319382
[2025-09-23 14:43:49] [INFO] [Database] <module>:60 - ==================================================
[2025-09-23 14:43:49] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-23 14:43:49] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-23 14:43:49] [INFO] [Database] <module>:63 - ==================================================
[2025-09-23 14:43:49] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-23 14:43:49] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-23 14:43:49] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-23 14:43:49] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-23 14:43:56] [INFO] [Database] <module>:60 - ==================================================
[2025-09-23 14:43:56] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-23 14:43:56] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-23 14:43:56] [INFO] [Database] <module>:63 - ==================================================
[2025-09-23 14:43:56] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-23 14:43:56] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-23 14:43:56] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-23 14:43:56] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-23 14:43:56] [INFO] [Database] init_db:1307 - ============================================================
[2025-09-23 14:43:56] [INFO] [Database] init_db:1308 - STARTING DATABASE INITIALIZATION
[2025-09-23 14:43:56] [INFO] [Database] init_db:1309 - ============================================================
[2025-09-23 14:43:56] [INFO] [Database] init_db:1333 - Verifying database connectivity...
[2025-09-23 14:43:56] [INFO] [Database] init_db:1336 - ✅ Database connectivity verified
[2025-09-23 14:43:56] [DEBUG] [Database] init_db:1341 - Initializing Users table...
[2025-09-23 14:43:56] [INFO] [Database] init_users_table:168 - Initializing users table
[2025-09-23 14:43:56] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-23 14:43:56] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-23 14:43:56] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-23 14:43:56] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-23 14:43:56] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-23 14:43:56] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.002s: duplicate column name: anilist_username
[2025-09-23 14:43:56] [DEBUG] [Database] init_users_table:200 - Column 'anilist_username' already exists in users table
[2025-09-23 14:43:56] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-23 14:43:56] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-23 14:43:56] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.001s: duplicate column name: anilist_id
[2025-09-23 14:43:56] [DEBUG] [Database] init_users_table:200 - Column 'anilist_id' already exists in users table
[2025-09-23 14:43:56] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-23 14:43:56] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 14:43:56] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.002s: duplicate column name: created_at
[2025-09-23 14:43:56] [DEBUG] [Database] init_users_table:200 - Column 'created_at' already exists in users table
[2025-09-23 14:43:56] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-23 14:43:56] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 14:43:56] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.001s: duplicate column name: updated_at
[2025-09-23 14:43:56] [DEBUG] [Database] init_users_table:200 - Column 'updated_at' already exists in users table
[2025-09-23 14:43:56] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-23 14:43:56] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 14:43:56] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.003s
[2025-09-23 14:43:56] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 14:43:56] [DEBUG] [Database] init_users_table:207 - Users table schema: 8 columns
[2025-09-23 14:43:56] [DEBUG] [Database] init_users_table:209 -   Column: id (INTEGER)
[2025-09-23 14:43:56] [DEBUG] [Database] init_users_table:209 -   Column: discord_id (INTEGER)
[2025-09-23 14:43:56] [DEBUG] [Database] init_users_table:209 -   Column: guild_id (INTEGER)
[2025-09-23 14:43:56] [DEBUG] [Database] init_users_table:209 -   Column: username (TEXT)
[2025-09-23 14:43:56] [DEBUG] [Database] init_users_table:209 -   Column: anilist_username (TEXT)
[2025-09-23 14:43:56] [DEBUG] [Database] init_users_table:209 -   Column: anilist_id (INTEGER)
[2025-09-23 14:43:56] [DEBUG] [Database] init_users_table:209 -   Column: created_at (DATETIME)
[2025-09-23 14:43:56] [DEBUG] [Database] init_users_table:209 -   Column: updated_at (DATETIME)
[2025-09-23 14:43:56] [INFO] [Database] init_users_table:211 - ✅ Users table initialization completed successfully
[2025-09-23 14:43:56] [DEBUG] [Database] init_db:1344 - ✅ Users table initialized successfully
[2025-09-23 14:43:56] [DEBUG] [Database] init_db:1341 - Initializing Challenge Rules table...
[2025-09-23 14:43:56] [INFO] [Database] init_challenge_rules_table:660 - Initializing challenge rules table
[2025-09-23 14:43:56] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-23 14:43:56] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-23 14:43:56] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.002s
[2025-09-23 14:43:56] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-23 14:43:56] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 14:43:56] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.002s: Cannot add a column with non-constant default
[2025-09-23 14:43:56] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-23 14:43:56] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 14:43:56] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.001s: Cannot add a column with non-constant default
[2025-09-23 14:43:56] [INFO] [Database] init_challenge_rules_table:684 - ✅ Challenge rules table initialization completed
[2025-09-23 14:43:56] [DEBUG] [Database] init_db:1344 - ✅ Challenge Rules table initialized successfully
[2025-09-23 14:43:56] [DEBUG] [Database] init_db:1341 - Initializing Recommendation Votes table...
[2025-09-23 14:43:56] [INFO] [Database] init_recommendation_votes_table:752 - Manga recommendation votes table ready.
[2025-09-23 14:43:56] [DEBUG] [Database] init_db:1344 - ✅ Recommendation Votes table initialized successfully
[2025-09-23 14:43:56] [DEBUG] [Database] init_db:1341 - Initializing User Stats table...
[2025-09-23 14:43:56] [INFO] [Database] init_user_stats_table:770 - User stats table ready.
[2025-09-23 14:43:56] [DEBUG] [Database] init_db:1344 - ✅ User Stats table initialized successfully
[2025-09-23 14:43:56] [DEBUG] [Database] init_db:1341 - Initializing Achievements table...
[2025-09-23 14:43:56] [INFO] [Database] init_achievements_table:786 - Achievements table ready.
[2025-09-23 14:43:56] [DEBUG] [Database] init_db:1344 - ✅ Achievements table initialized successfully
[2025-09-23 14:43:56] [DEBUG] [Database] init_db:1341 - Initializing User Manga Progress table...
[2025-09-23 14:43:56] [INFO] [Database] init_user_manga_progress_table:822 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-23 14:43:56] [DEBUG] [Database] init_db:1344 - ✅ User Manga Progress table initialized successfully
[2025-09-23 14:43:56] [DEBUG] [Database] init_db:1341 - Initializing Manga Challenges table...
[2025-09-23 14:43:56] [DEBUG] [Database] init_db:1344 - ✅ Manga Challenges table initialized successfully
[2025-09-23 14:43:56] [DEBUG] [Database] init_db:1341 - Initializing User Progress table...
[2025-09-23 14:43:56] [DEBUG] [Database] init_db:1344 - ✅ User Progress table initialized successfully
[2025-09-23 14:43:56] [DEBUG] [Database] init_db:1341 - Initializing Global Challenges table...
[2025-09-23 14:43:56] [INFO] [Database] init_global_challenges_table:1120 - Global challenges table ready with difficulty column.
[2025-09-23 14:43:56] [DEBUG] [Database] init_db:1344 - ✅ Global Challenges table initialized successfully
[2025-09-23 14:43:56] [DEBUG] [Database] init_db:1341 - Initializing Invite Tracker table...
[2025-09-23 14:43:56] [INFO] [Database] init_invite_tracker_tables:1210 - Initializing invite tracker tables
[2025-09-23 14:43:56] [INFO] [Database] init_invite_tracker_tables:1277 - ✅ Invite tracker tables initialized successfully
[2025-09-23 14:43:56] [DEBUG] [Database] init_db:1344 - ✅ Invite Tracker table initialized successfully
[2025-09-23 14:43:56] [DEBUG] [Database] init_db:1341 - Initializing Steam Users table...
[2025-09-23 14:43:56] [INFO] [Database] init_steam_users_table:1297 - Steam users table ready.
[2025-09-23 14:43:56] [DEBUG] [Database] init_db:1344 - ✅ Steam Users table initialized successfully
[2025-09-23 14:43:56] [DEBUG] [Database] init_db:1341 - Initializing Challenge Manga table...
[2025-09-23 14:43:56] [DEBUG] [Database] init_db:1344 - ✅ Challenge Manga table initialized successfully
[2025-09-23 14:43:56] [INFO] [Database] init_db:1355 - ============================================================
[2025-09-23 14:43:56] [INFO] [Database] init_db:1356 - DATABASE INITIALIZATION SUMMARY
[2025-09-23 14:43:56] [INFO] [Database] init_db:1357 - Total tables: 12
[2025-09-23 14:43:56] [INFO] [Database] init_db:1358 - Successfully initialized: 12
[2025-09-23 14:43:56] [INFO] [Database] init_db:1359 - Failed to initialize: 0
[2025-09-23 14:43:56] [INFO] [Database] init_db:1360 - Total time: 0.04 seconds
[2025-09-23 14:43:56] [INFO] [Database] init_db:1365 - ✅ All database tables initialized successfully
[2025-09-23 14:43:56] [INFO] [Database] init_db:1367 - ============================================================
[2025-09-23 14:43:56] [INFO] [Database] init_db:1372 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-23 14:43:56] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-23 14:43:56] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-23 14:43:56] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.002s
[2025-09-23 14:43:56] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-23 14:44:00] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:44:00] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:44:00] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-23 14:44:00] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:44:00] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:44:00] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:44:00] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-23 14:44:00] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:44:00] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:44:00] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:44:00] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-23 14:44:00] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:44:00] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:44:00] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:44:00] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-23 14:44:00] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:44:00] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:44:00] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:44:00] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-23 14:44:00] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:44:00] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:44:00] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:44:00] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-23 14:44:00] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:44:00] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:44:00] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:44:00] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-23 14:44:00] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:44:00] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:44:00] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:44:00] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-23 14:44:00] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('628xd7Sa', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('A8Un8tA2', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('AWZ4mqN7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417339097411747853, -1, 2)
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BM4TWaw9', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417210716318072944, -1, 1)
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HEGVx495', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HXt8GDc7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417205674059763805, -1, 1)
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HwHu3fKv', 1417205672847736955, 695087864450383912, 'lili', 1417534932724486265, -1, 0)
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('Y9Yq7ufy', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, -1, 1)
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('aDWyseRm', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417205674059763805, -1, 1)
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('brpzD6Jm', 1417205672847736955, 336949613464649728, 'rapidecline', 1417310229460418580, -1, 0)
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('fSuFfGvr', 1417205672847736955, 365529294065369088, 'DsF ULYSSE', 1417205674059763805, -1, 0)
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('rRpCcb9N', 1417205672847736955, 964639984667721810, 'Brainy', 1417210265954684968, -1, 0)
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('sSTAtTJH', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417673227366436997, -1, 1)
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vYtDjBux', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vfwD3rVk', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('zFX6KGvA', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417209847346102312, -1, 1)
[2025-09-23 14:44:01] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:44:58] [INFO] [Database] <module>:60 - ==================================================
[2025-09-23 14:44:58] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-23 14:44:58] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-23 14:44:58] [INFO] [Database] <module>:63 - ==================================================
[2025-09-23 14:44:58] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-23 14:44:58] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-23 14:44:58] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-23 14:44:58] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-23 14:44:58] [DEBUG] [Database] get_all_users:383 - Retrieving all users from database
[2025-09-23 14:44:58] [DEBUG] [Database] execute_db_operation:115 - Executing get all users
[2025-09-23 14:44:58] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users ORDER BY username
[2025-09-23 14:44:58] [DEBUG] [Database] execute_db_operation:142 - get all users completed in 0.003s
[2025-09-23 14:44:58] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-23 14:44:58] [INFO] [Database] get_all_users:393 - ✅ Retrieved 19 users from database
[2025-09-23 14:45:27] [INFO] [Database] <module>:60 - ==================================================
[2025-09-23 14:45:27] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-23 14:45:27] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-23 14:45:27] [INFO] [Database] <module>:63 - ==================================================
[2025-09-23 14:45:27] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-23 14:45:27] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-23 14:45:27] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-23 14:45:27] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-23 14:45:27] [INFO] [Database] init_db:1307 - ============================================================
[2025-09-23 14:45:27] [INFO] [Database] init_db:1308 - STARTING DATABASE INITIALIZATION
[2025-09-23 14:45:27] [INFO] [Database] init_db:1309 - ============================================================
[2025-09-23 14:45:27] [INFO] [Database] init_db:1333 - Verifying database connectivity...
[2025-09-23 14:45:27] [INFO] [Database] init_db:1336 - ✅ Database connectivity verified
[2025-09-23 14:45:27] [DEBUG] [Database] init_db:1341 - Initializing Users table...
[2025-09-23 14:45:27] [INFO] [Database] init_users_table:168 - Initializing users table
[2025-09-23 14:45:27] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-23 14:45:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-23 14:45:27] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-23 14:45:27] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-23 14:45:27] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-23 14:45:27] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.001s: duplicate column name: anilist_username
[2025-09-23 14:45:27] [DEBUG] [Database] init_users_table:200 - Column 'anilist_username' already exists in users table
[2025-09-23 14:45:27] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-23 14:45:27] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-23 14:45:27] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.001s: duplicate column name: anilist_id
[2025-09-23 14:45:27] [DEBUG] [Database] init_users_table:200 - Column 'anilist_id' already exists in users table
[2025-09-23 14:45:27] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-23 14:45:27] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 14:45:27] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.001s: duplicate column name: created_at
[2025-09-23 14:45:27] [DEBUG] [Database] init_users_table:200 - Column 'created_at' already exists in users table
[2025-09-23 14:45:27] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-23 14:45:27] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 14:45:27] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.001s: duplicate column name: updated_at
[2025-09-23 14:45:27] [DEBUG] [Database] init_users_table:200 - Column 'updated_at' already exists in users table
[2025-09-23 14:45:27] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-23 14:45:27] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 14:45:27] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.002s
[2025-09-23 14:45:27] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 14:45:27] [DEBUG] [Database] init_users_table:207 - Users table schema: 8 columns
[2025-09-23 14:45:27] [DEBUG] [Database] init_users_table:209 -   Column: id (INTEGER)
[2025-09-23 14:45:27] [DEBUG] [Database] init_users_table:209 -   Column: discord_id (INTEGER)
[2025-09-23 14:45:27] [DEBUG] [Database] init_users_table:209 -   Column: guild_id (INTEGER)
[2025-09-23 14:45:27] [DEBUG] [Database] init_users_table:209 -   Column: username (TEXT)
[2025-09-23 14:45:27] [DEBUG] [Database] init_users_table:209 -   Column: anilist_username (TEXT)
[2025-09-23 14:45:27] [DEBUG] [Database] init_users_table:209 -   Column: anilist_id (INTEGER)
[2025-09-23 14:45:27] [DEBUG] [Database] init_users_table:209 -   Column: created_at (DATETIME)
[2025-09-23 14:45:27] [DEBUG] [Database] init_users_table:209 -   Column: updated_at (DATETIME)
[2025-09-23 14:45:27] [INFO] [Database] init_users_table:211 - ✅ Users table initialization completed successfully
[2025-09-23 14:45:27] [DEBUG] [Database] init_db:1344 - ✅ Users table initialized successfully
[2025-09-23 14:45:27] [DEBUG] [Database] init_db:1341 - Initializing Challenge Rules table...
[2025-09-23 14:45:27] [INFO] [Database] init_challenge_rules_table:660 - Initializing challenge rules table
[2025-09-23 14:45:27] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-23 14:45:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-23 14:45:27] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.001s
[2025-09-23 14:45:27] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-23 14:45:27] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 14:45:27] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.002s: Cannot add a column with non-constant default
[2025-09-23 14:45:27] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-23 14:45:27] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 14:45:27] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.001s: Cannot add a column with non-constant default
[2025-09-23 14:45:27] [INFO] [Database] init_challenge_rules_table:684 - ✅ Challenge rules table initialization completed
[2025-09-23 14:45:27] [DEBUG] [Database] init_db:1344 - ✅ Challenge Rules table initialized successfully
[2025-09-23 14:45:27] [DEBUG] [Database] init_db:1341 - Initializing Recommendation Votes table...
[2025-09-23 14:45:27] [INFO] [Database] init_recommendation_votes_table:752 - Manga recommendation votes table ready.
[2025-09-23 14:45:27] [DEBUG] [Database] init_db:1344 - ✅ Recommendation Votes table initialized successfully
[2025-09-23 14:45:27] [DEBUG] [Database] init_db:1341 - Initializing User Stats table...
[2025-09-23 14:45:27] [INFO] [Database] init_user_stats_table:770 - User stats table ready.
[2025-09-23 14:45:27] [DEBUG] [Database] init_db:1344 - ✅ User Stats table initialized successfully
[2025-09-23 14:45:27] [DEBUG] [Database] init_db:1341 - Initializing Achievements table...
[2025-09-23 14:45:27] [INFO] [Database] init_achievements_table:786 - Achievements table ready.
[2025-09-23 14:45:27] [DEBUG] [Database] init_db:1344 - ✅ Achievements table initialized successfully
[2025-09-23 14:45:27] [DEBUG] [Database] init_db:1341 - Initializing User Manga Progress table...
[2025-09-23 14:45:27] [INFO] [Database] init_user_manga_progress_table:822 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-23 14:45:27] [DEBUG] [Database] init_db:1344 - ✅ User Manga Progress table initialized successfully
[2025-09-23 14:45:27] [DEBUG] [Database] init_db:1341 - Initializing Manga Challenges table...
[2025-09-23 14:45:27] [DEBUG] [Database] init_db:1344 - ✅ Manga Challenges table initialized successfully
[2025-09-23 14:45:27] [DEBUG] [Database] init_db:1341 - Initializing User Progress table...
[2025-09-23 14:45:27] [DEBUG] [Database] init_db:1344 - ✅ User Progress table initialized successfully
[2025-09-23 14:45:27] [DEBUG] [Database] init_db:1341 - Initializing Global Challenges table...
[2025-09-23 14:45:27] [INFO] [Database] init_global_challenges_table:1120 - Global challenges table ready with difficulty column.
[2025-09-23 14:45:27] [DEBUG] [Database] init_db:1344 - ✅ Global Challenges table initialized successfully
[2025-09-23 14:45:27] [DEBUG] [Database] init_db:1341 - Initializing Invite Tracker table...
[2025-09-23 14:45:27] [INFO] [Database] init_invite_tracker_tables:1210 - Initializing invite tracker tables
[2025-09-23 14:45:27] [INFO] [Database] init_invite_tracker_tables:1277 - ✅ Invite tracker tables initialized successfully
[2025-09-23 14:45:27] [DEBUG] [Database] init_db:1344 - ✅ Invite Tracker table initialized successfully
[2025-09-23 14:45:27] [DEBUG] [Database] init_db:1341 - Initializing Steam Users table...
[2025-09-23 14:45:27] [INFO] [Database] init_steam_users_table:1297 - Steam users table ready.
[2025-09-23 14:45:27] [DEBUG] [Database] init_db:1344 - ✅ Steam Users table initialized successfully
[2025-09-23 14:45:27] [DEBUG] [Database] init_db:1341 - Initializing Challenge Manga table...
[2025-09-23 14:45:27] [DEBUG] [Database] init_db:1344 - ✅ Challenge Manga table initialized successfully
[2025-09-23 14:45:27] [INFO] [Database] init_db:1355 - ============================================================
[2025-09-23 14:45:27] [INFO] [Database] init_db:1356 - DATABASE INITIALIZATION SUMMARY
[2025-09-23 14:45:27] [INFO] [Database] init_db:1357 - Total tables: 12
[2025-09-23 14:45:27] [INFO] [Database] init_db:1358 - Successfully initialized: 12
[2025-09-23 14:45:27] [INFO] [Database] init_db:1359 - Failed to initialize: 0
[2025-09-23 14:45:27] [INFO] [Database] init_db:1360 - Total time: 0.04 seconds
[2025-09-23 14:45:27] [INFO] [Database] init_db:1365 - ✅ All database tables initialized successfully
[2025-09-23 14:45:27] [INFO] [Database] init_db:1367 - ============================================================
[2025-09-23 14:45:27] [INFO] [Database] init_db:1372 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-23 14:45:27] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-23 14:45:27] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-23 14:45:27] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.002s
[2025-09-23 14:45:27] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-23 14:45:31] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:45:31] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:45:31] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-23 14:45:31] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:45:31] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:45:31] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:45:31] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-23 14:45:31] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:45:31] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:45:31] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:45:31] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-23 14:45:31] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 14:45:31] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:45:31] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:45:31] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-23 14:45:31] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:45:31] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:45:31] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:45:31] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-23 14:45:31] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:45:31] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:45:31] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:45:31] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-23 14:45:31] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:45:31] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:45:31] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:45:31] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-23 14:45:31] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:45:31] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:45:31] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:45:31] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-23 14:45:31] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('628xd7Sa', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('A8Un8tA2', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('AWZ4mqN7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417339097411747853, -1, 2)
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BM4TWaw9', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417210716318072944, -1, 1)
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HEGVx495', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HXt8GDc7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417205674059763805, -1, 1)
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HwHu3fKv', 1417205672847736955, 695087864450383912, 'lili', 1417534932724486265, -1, 0)
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('Y9Yq7ufy', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, -1, 1)
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('aDWyseRm', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417205674059763805, -1, 1)
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('brpzD6Jm', 1417205672847736955, 336949613464649728, 'rapidecline', 1417310229460418580, -1, 0)
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('fSuFfGvr', 1417205672847736955, 365529294065369088, 'DsF ULYSSE', 1417205674059763805, -1, 0)
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('rRpCcb9N', 1417205672847736955, 964639984667721810, 'Brainy', 1417210265954684968, -1, 0)
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('sSTAtTJH', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417673227366436997, -1, 1)
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vYtDjBux', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vfwD3rVk', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('zFX6KGvA', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417209847346102312, -1, 1)
[2025-09-23 14:45:32] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 14:46:15] [DEBUG] [Database] get_user_guild_aware:344 - Retrieving user data for Discord ID: 331164413623009281 in guild: 897814031346319382
[2025-09-23 14:46:15] [DEBUG] [Database] execute_db_operation:115 - Executing get user 331164413623009281 from guild 897814031346319382
[2025-09-23 14:46:15] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE discord_id = ? AND guild_id = ?
[2025-09-23 14:46:15] [DEBUG] [Database] execute_db_operation:118 - Parameters: (331164413623009281, 897814031346319382)
[2025-09-23 14:46:15] [DEBUG] [Database] execute_db_operation:142 - get user 331164413623009281 from guild 897814031346319382 completed in 0.003s
[2025-09-23 14:46:15] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-23 14:46:15] [DEBUG] [Database] get_user_guild_aware:361 - ✅ Found user: Kyerstorm (ID: 1) in guild 897814031346319382
[2025-09-23 14:51:18] [DEBUG] [Database] get_user_guild_aware:344 - Retrieving user data for Discord ID: 331164413623009281 in guild: 897814031346319382
[2025-09-23 14:51:18] [DEBUG] [Database] execute_db_operation:115 - Executing get user 331164413623009281 from guild 897814031346319382
[2025-09-23 14:51:18] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE discord_id = ? AND guild_id = ?
[2025-09-23 14:51:18] [DEBUG] [Database] execute_db_operation:118 - Parameters: (331164413623009281, 897814031346319382)
[2025-09-23 14:51:18] [DEBUG] [Database] execute_db_operation:142 - get user 331164413623009281 from guild 897814031346319382 completed in 0.002s
[2025-09-23 14:51:18] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-23 14:51:18] [DEBUG] [Database] get_user_guild_aware:361 - ✅ Found user: Kyerstorm (ID: 1) in guild 897814031346319382
[2025-09-23 14:59:02] [WARNING] [Database] get_user:310 - Using deprecated get_user function. Consider using get_user_guild_aware for multi-guild support
[2025-09-23 14:59:02] [DEBUG] [Database] get_user:311 - Retrieving user data for Discord ID: 331164413623009281
[2025-09-23 14:59:02] [DEBUG] [Database] execute_db_operation:115 - Executing get user 331164413623009281 from default guild
[2025-09-23 14:59:02] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE discord_id = ? AND guild_id = ?
[2025-09-23 14:59:02] [DEBUG] [Database] execute_db_operation:118 - Parameters: (331164413623009281, 897814031346319382)
[2025-09-23 14:59:02] [DEBUG] [Database] execute_db_operation:142 - get user 331164413623009281 from default guild completed in 0.002s
[2025-09-23 14:59:02] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-23 14:59:02] [DEBUG] [Database] get_user:328 - ✅ Found user: Kyerstorm (ID: 1) in default guild
[2025-09-23 15:00:52] [WARNING] [Database] get_user:310 - Using deprecated get_user function. Consider using get_user_guild_aware for multi-guild support
[2025-09-23 15:00:52] [DEBUG] [Database] get_user:311 - Retrieving user data for Discord ID: 331164413623009281
[2025-09-23 15:00:52] [DEBUG] [Database] execute_db_operation:115 - Executing get user 331164413623009281 from default guild
[2025-09-23 15:00:52] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE discord_id = ? AND guild_id = ?
[2025-09-23 15:00:52] [DEBUG] [Database] execute_db_operation:118 - Parameters: (331164413623009281, 897814031346319382)
[2025-09-23 15:00:52] [DEBUG] [Database] execute_db_operation:142 - get user 331164413623009281 from default guild completed in 0.002s
[2025-09-23 15:00:52] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-23 15:00:52] [DEBUG] [Database] get_user:328 - ✅ Found user: Kyerstorm (ID: 1) in default guild
[2025-09-23 15:09:31] [WARNING] [Database] get_user:310 - Using deprecated get_user function. Consider using get_user_guild_aware for multi-guild support
[2025-09-23 15:09:31] [DEBUG] [Database] get_user:311 - Retrieving user data for Discord ID: 369957492962099201
[2025-09-23 15:09:31] [DEBUG] [Database] execute_db_operation:115 - Executing get user 369957492962099201 from default guild
[2025-09-23 15:09:31] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE discord_id = ? AND guild_id = ?
[2025-09-23 15:09:31] [DEBUG] [Database] execute_db_operation:118 - Parameters: (369957492962099201, 897814031346319382)
[2025-09-23 15:09:31] [DEBUG] [Database] execute_db_operation:142 - get user 369957492962099201 from default guild completed in 0.003s
[2025-09-23 15:09:31] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-23 15:09:31] [DEBUG] [Database] get_user:328 - ✅ Found user: xuehua (ID: 6) in default guild
[2025-09-23 15:10:02] [WARNING] [Database] get_user:310 - Using deprecated get_user function. Consider using get_user_guild_aware for multi-guild support
[2025-09-23 15:10:02] [DEBUG] [Database] get_user:311 - Retrieving user data for Discord ID: 461675352952012801
[2025-09-23 15:10:02] [DEBUG] [Database] execute_db_operation:115 - Executing get user 461675352952012801 from default guild
[2025-09-23 15:10:02] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE discord_id = ? AND guild_id = ?
[2025-09-23 15:10:02] [DEBUG] [Database] execute_db_operation:118 - Parameters: (461675352952012801, 897814031346319382)
[2025-09-23 15:10:02] [DEBUG] [Database] execute_db_operation:142 - get user 461675352952012801 from default guild completed in 0.002s
[2025-09-23 15:10:02] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-23 15:10:02] [DEBUG] [Database] get_user:328 - ✅ Found user: tes (ID: 3) in default guild
[2025-09-23 15:23:05] [DEBUG] [Database] get_user_guild_aware:344 - Retrieving user data for Discord ID: 331164413623009281 in guild: 897814031346319382
[2025-09-23 15:23:05] [DEBUG] [Database] execute_db_operation:115 - Executing get user 331164413623009281 from guild 897814031346319382
[2025-09-23 15:23:05] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE discord_id = ? AND guild_id = ?
[2025-09-23 15:23:05] [DEBUG] [Database] execute_db_operation:118 - Parameters: (331164413623009281, 897814031346319382)
[2025-09-23 15:23:05] [DEBUG] [Database] execute_db_operation:142 - get user 331164413623009281 from guild 897814031346319382 completed in 0.002s
[2025-09-23 15:23:05] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-23 15:23:05] [DEBUG] [Database] get_user_guild_aware:361 - ✅ Found user: Kyerstorm (ID: 1) in guild 897814031346319382
[2025-09-23 15:29:29] [INFO] [Database] <module>:60 - ==================================================
[2025-09-23 15:29:29] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-23 15:29:29] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-23 15:29:29] [INFO] [Database] <module>:63 - ==================================================
[2025-09-23 15:29:29] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-23 15:29:29] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-23 15:29:29] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-23 15:29:29] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-23 15:29:29] [INFO] [Database] init_db:1307 - ============================================================
[2025-09-23 15:29:29] [INFO] [Database] init_db:1308 - STARTING DATABASE INITIALIZATION
[2025-09-23 15:29:29] [INFO] [Database] init_db:1309 - ============================================================
[2025-09-23 15:29:29] [INFO] [Database] init_db:1333 - Verifying database connectivity...
[2025-09-23 15:29:29] [INFO] [Database] init_db:1336 - ✅ Database connectivity verified
[2025-09-23 15:29:29] [DEBUG] [Database] init_db:1341 - Initializing Users table...
[2025-09-23 15:29:29] [INFO] [Database] init_users_table:168 - Initializing users table
[2025-09-23 15:29:29] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-23 15:29:29] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-23 15:29:29] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-23 15:29:29] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-23 15:29:29] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-23 15:29:29] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.002s: duplicate column name: anilist_username
[2025-09-23 15:29:29] [DEBUG] [Database] init_users_table:200 - Column 'anilist_username' already exists in users table
[2025-09-23 15:29:29] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-23 15:29:29] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-23 15:29:29] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.001s: duplicate column name: anilist_id
[2025-09-23 15:29:29] [DEBUG] [Database] init_users_table:200 - Column 'anilist_id' already exists in users table
[2025-09-23 15:29:29] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-23 15:29:29] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 15:29:29] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.001s: duplicate column name: created_at
[2025-09-23 15:29:29] [DEBUG] [Database] init_users_table:200 - Column 'created_at' already exists in users table
[2025-09-23 15:29:29] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-23 15:29:29] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 15:29:29] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.002s: duplicate column name: updated_at
[2025-09-23 15:29:29] [DEBUG] [Database] init_users_table:200 - Column 'updated_at' already exists in users table
[2025-09-23 15:29:29] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-23 15:29:29] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 15:29:29] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.002s
[2025-09-23 15:29:29] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 15:29:29] [DEBUG] [Database] init_users_table:207 - Users table schema: 8 columns
[2025-09-23 15:29:29] [DEBUG] [Database] init_users_table:209 -   Column: id (INTEGER)
[2025-09-23 15:29:29] [DEBUG] [Database] init_users_table:209 -   Column: discord_id (INTEGER)
[2025-09-23 15:29:29] [DEBUG] [Database] init_users_table:209 -   Column: guild_id (INTEGER)
[2025-09-23 15:29:29] [DEBUG] [Database] init_users_table:209 -   Column: username (TEXT)
[2025-09-23 15:29:29] [DEBUG] [Database] init_users_table:209 -   Column: anilist_username (TEXT)
[2025-09-23 15:29:29] [DEBUG] [Database] init_users_table:209 -   Column: anilist_id (INTEGER)
[2025-09-23 15:29:29] [DEBUG] [Database] init_users_table:209 -   Column: created_at (DATETIME)
[2025-09-23 15:29:29] [DEBUG] [Database] init_users_table:209 -   Column: updated_at (DATETIME)
[2025-09-23 15:29:29] [INFO] [Database] init_users_table:211 - ✅ Users table initialization completed successfully
[2025-09-23 15:29:29] [DEBUG] [Database] init_db:1344 - ✅ Users table initialized successfully
[2025-09-23 15:29:29] [DEBUG] [Database] init_db:1341 - Initializing Challenge Rules table...
[2025-09-23 15:29:29] [INFO] [Database] init_challenge_rules_table:660 - Initializing challenge rules table
[2025-09-23 15:29:29] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-23 15:29:29] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-23 15:29:29] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.002s
[2025-09-23 15:29:29] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-23 15:29:29] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 15:29:29] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.001s: Cannot add a column with non-constant default
[2025-09-23 15:29:29] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-23 15:29:29] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 15:29:29] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.002s: Cannot add a column with non-constant default
[2025-09-23 15:29:29] [INFO] [Database] init_challenge_rules_table:684 - ✅ Challenge rules table initialization completed
[2025-09-23 15:29:29] [DEBUG] [Database] init_db:1344 - ✅ Challenge Rules table initialized successfully
[2025-09-23 15:29:29] [DEBUG] [Database] init_db:1341 - Initializing Recommendation Votes table...
[2025-09-23 15:29:29] [INFO] [Database] init_recommendation_votes_table:752 - Manga recommendation votes table ready.
[2025-09-23 15:29:29] [DEBUG] [Database] init_db:1344 - ✅ Recommendation Votes table initialized successfully
[2025-09-23 15:29:29] [DEBUG] [Database] init_db:1341 - Initializing User Stats table...
[2025-09-23 15:29:29] [INFO] [Database] init_user_stats_table:770 - User stats table ready.
[2025-09-23 15:29:29] [DEBUG] [Database] init_db:1344 - ✅ User Stats table initialized successfully
[2025-09-23 15:29:29] [DEBUG] [Database] init_db:1341 - Initializing Achievements table...
[2025-09-23 15:29:29] [INFO] [Database] init_achievements_table:786 - Achievements table ready.
[2025-09-23 15:29:29] [DEBUG] [Database] init_db:1344 - ✅ Achievements table initialized successfully
[2025-09-23 15:29:29] [DEBUG] [Database] init_db:1341 - Initializing User Manga Progress table...
[2025-09-23 15:29:29] [INFO] [Database] init_user_manga_progress_table:822 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-23 15:29:29] [DEBUG] [Database] init_db:1344 - ✅ User Manga Progress table initialized successfully
[2025-09-23 15:29:29] [DEBUG] [Database] init_db:1341 - Initializing Manga Challenges table...
[2025-09-23 15:29:29] [DEBUG] [Database] init_db:1344 - ✅ Manga Challenges table initialized successfully
[2025-09-23 15:29:29] [DEBUG] [Database] init_db:1341 - Initializing User Progress table...
[2025-09-23 15:29:29] [DEBUG] [Database] init_db:1344 - ✅ User Progress table initialized successfully
[2025-09-23 15:29:29] [DEBUG] [Database] init_db:1341 - Initializing Global Challenges table...
[2025-09-23 15:29:29] [INFO] [Database] init_global_challenges_table:1120 - Global challenges table ready with difficulty column.
[2025-09-23 15:29:29] [DEBUG] [Database] init_db:1344 - ✅ Global Challenges table initialized successfully
[2025-09-23 15:29:29] [DEBUG] [Database] init_db:1341 - Initializing Invite Tracker table...
[2025-09-23 15:29:29] [INFO] [Database] init_invite_tracker_tables:1210 - Initializing invite tracker tables
[2025-09-23 15:29:29] [INFO] [Database] init_invite_tracker_tables:1277 - ✅ Invite tracker tables initialized successfully
[2025-09-23 15:29:29] [DEBUG] [Database] init_db:1344 - ✅ Invite Tracker table initialized successfully
[2025-09-23 15:29:29] [DEBUG] [Database] init_db:1341 - Initializing Steam Users table...
[2025-09-23 15:29:29] [INFO] [Database] init_steam_users_table:1297 - Steam users table ready.
[2025-09-23 15:29:29] [DEBUG] [Database] init_db:1344 - ✅ Steam Users table initialized successfully
[2025-09-23 15:29:29] [DEBUG] [Database] init_db:1341 - Initializing Challenge Manga table...
[2025-09-23 15:29:29] [DEBUG] [Database] init_db:1344 - ✅ Challenge Manga table initialized successfully
[2025-09-23 15:29:29] [INFO] [Database] init_db:1355 - ============================================================
[2025-09-23 15:29:29] [INFO] [Database] init_db:1356 - DATABASE INITIALIZATION SUMMARY
[2025-09-23 15:29:29] [INFO] [Database] init_db:1357 - Total tables: 12
[2025-09-23 15:29:29] [INFO] [Database] init_db:1358 - Successfully initialized: 12
[2025-09-23 15:29:29] [INFO] [Database] init_db:1359 - Failed to initialize: 0
[2025-09-23 15:29:29] [INFO] [Database] init_db:1360 - Total time: 0.04 seconds
[2025-09-23 15:29:29] [INFO] [Database] init_db:1365 - ✅ All database tables initialized successfully
[2025-09-23 15:29:29] [INFO] [Database] init_db:1367 - ============================================================
[2025-09-23 15:29:29] [INFO] [Database] init_db:1372 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-23 15:29:29] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-23 15:29:29] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-23 15:29:29] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.002s
[2025-09-23 15:29:29] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.009s
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.010s
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.010s
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('628xd7Sa', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('A8Un8tA2', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('AWZ4mqN7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417339097411747853, -1, 2)
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BM4TWaw9', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417210716318072944, -1, 1)
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HEGVx495', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HXt8GDc7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417205674059763805, -1, 1)
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HwHu3fKv', 1417205672847736955, 695087864450383912, 'lili', 1417534932724486265, -1, 0)
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('Y9Yq7ufy', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, -1, 1)
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:29:33] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('aDWyseRm', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417205674059763805, -1, 1)
[2025-09-23 15:29:34] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 15:29:34] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:29:34] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:29:34] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('brpzD6Jm', 1417205672847736955, 336949613464649728, 'rapidecline', 1417310229460418580, -1, 0)
[2025-09-23 15:29:34] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 15:29:34] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:29:34] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:29:34] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('fSuFfGvr', 1417205672847736955, 365529294065369088, 'DsF ULYSSE', 1417205674059763805, -1, 0)
[2025-09-23 15:29:34] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 15:29:34] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:29:34] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:29:34] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('rRpCcb9N', 1417205672847736955, 964639984667721810, 'Brainy', 1417210265954684968, -1, 0)
[2025-09-23 15:29:34] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 15:29:34] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:29:34] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:29:34] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('sSTAtTJH', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417673227366436997, -1, 1)
[2025-09-23 15:29:34] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 15:29:34] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:29:34] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:29:34] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vYtDjBux', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 15:29:34] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 15:29:34] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:29:34] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:29:34] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vfwD3rVk', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 15:29:34] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-23 15:29:34] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:29:34] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:29:34] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('zFX6KGvA', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417209847346102312, -1, 1)
[2025-09-23 15:29:34] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-23 15:30:15] [INFO] [Database] <module>:60 - ==================================================
[2025-09-23 15:30:15] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-23 15:30:15] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-23 15:30:15] [INFO] [Database] <module>:63 - ==================================================
[2025-09-23 15:30:15] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-23 15:30:15] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-23 15:30:15] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-23 15:30:15] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-23 15:30:15] [INFO] [Database] init_db:1307 - ============================================================
[2025-09-23 15:30:15] [INFO] [Database] init_db:1308 - STARTING DATABASE INITIALIZATION
[2025-09-23 15:30:15] [INFO] [Database] init_db:1309 - ============================================================
[2025-09-23 15:30:15] [INFO] [Database] init_db:1333 - Verifying database connectivity...
[2025-09-23 15:30:15] [INFO] [Database] init_db:1336 - ✅ Database connectivity verified
[2025-09-23 15:30:15] [DEBUG] [Database] init_db:1341 - Initializing Users table...
[2025-09-23 15:30:15] [INFO] [Database] init_users_table:168 - Initializing users table
[2025-09-23 15:30:15] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-23 15:30:15] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-23 15:30:15] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-23 15:30:15] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-23 15:30:15] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-23 15:30:15] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.001s: duplicate column name: anilist_username
[2025-09-23 15:30:15] [DEBUG] [Database] init_users_table:200 - Column 'anilist_username' already exists in users table
[2025-09-23 15:30:15] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-23 15:30:15] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-23 15:30:15] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.002s: duplicate column name: anilist_id
[2025-09-23 15:30:15] [DEBUG] [Database] init_users_table:200 - Column 'anilist_id' already exists in users table
[2025-09-23 15:30:15] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-23 15:30:15] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 15:30:15] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.002s: duplicate column name: created_at
[2025-09-23 15:30:15] [DEBUG] [Database] init_users_table:200 - Column 'created_at' already exists in users table
[2025-09-23 15:30:15] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-23 15:30:15] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 15:30:15] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.002s: duplicate column name: updated_at
[2025-09-23 15:30:15] [DEBUG] [Database] init_users_table:200 - Column 'updated_at' already exists in users table
[2025-09-23 15:30:15] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-23 15:30:15] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 15:30:15] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.002s
[2025-09-23 15:30:15] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 15:30:15] [DEBUG] [Database] init_users_table:207 - Users table schema: 8 columns
[2025-09-23 15:30:15] [DEBUG] [Database] init_users_table:209 -   Column: id (INTEGER)
[2025-09-23 15:30:15] [DEBUG] [Database] init_users_table:209 -   Column: discord_id (INTEGER)
[2025-09-23 15:30:15] [DEBUG] [Database] init_users_table:209 -   Column: guild_id (INTEGER)
[2025-09-23 15:30:15] [DEBUG] [Database] init_users_table:209 -   Column: username (TEXT)
[2025-09-23 15:30:15] [DEBUG] [Database] init_users_table:209 -   Column: anilist_username (TEXT)
[2025-09-23 15:30:15] [DEBUG] [Database] init_users_table:209 -   Column: anilist_id (INTEGER)
[2025-09-23 15:30:15] [DEBUG] [Database] init_users_table:209 -   Column: created_at (DATETIME)
[2025-09-23 15:30:15] [DEBUG] [Database] init_users_table:209 -   Column: updated_at (DATETIME)
[2025-09-23 15:30:15] [INFO] [Database] init_users_table:211 - ✅ Users table initialization completed successfully
[2025-09-23 15:30:15] [DEBUG] [Database] init_db:1344 - ✅ Users table initialized successfully
[2025-09-23 15:30:15] [DEBUG] [Database] init_db:1341 - Initializing Challenge Rules table...
[2025-09-23 15:30:15] [INFO] [Database] init_challenge_rules_table:660 - Initializing challenge rules table
[2025-09-23 15:30:15] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-23 15:30:15] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-23 15:30:15] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.002s
[2025-09-23 15:30:15] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-23 15:30:15] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 15:30:15] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.002s: Cannot add a column with non-constant default
[2025-09-23 15:30:15] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-23 15:30:15] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 15:30:15] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.001s: Cannot add a column with non-constant default
[2025-09-23 15:30:15] [INFO] [Database] init_challenge_rules_table:684 - ✅ Challenge rules table initialization completed
[2025-09-23 15:30:15] [DEBUG] [Database] init_db:1344 - ✅ Challenge Rules table initialized successfully
[2025-09-23 15:30:15] [DEBUG] [Database] init_db:1341 - Initializing Recommendation Votes table...
[2025-09-23 15:30:15] [INFO] [Database] init_recommendation_votes_table:752 - Manga recommendation votes table ready.
[2025-09-23 15:30:15] [DEBUG] [Database] init_db:1344 - ✅ Recommendation Votes table initialized successfully
[2025-09-23 15:30:15] [DEBUG] [Database] init_db:1341 - Initializing User Stats table...
[2025-09-23 15:30:15] [INFO] [Database] init_user_stats_table:770 - User stats table ready.
[2025-09-23 15:30:15] [DEBUG] [Database] init_db:1344 - ✅ User Stats table initialized successfully
[2025-09-23 15:30:15] [DEBUG] [Database] init_db:1341 - Initializing Achievements table...
[2025-09-23 15:30:15] [INFO] [Database] init_achievements_table:786 - Achievements table ready.
[2025-09-23 15:30:15] [DEBUG] [Database] init_db:1344 - ✅ Achievements table initialized successfully
[2025-09-23 15:30:15] [DEBUG] [Database] init_db:1341 - Initializing User Manga Progress table...
[2025-09-23 15:30:15] [INFO] [Database] init_user_manga_progress_table:822 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-23 15:30:15] [DEBUG] [Database] init_db:1344 - ✅ User Manga Progress table initialized successfully
[2025-09-23 15:30:15] [DEBUG] [Database] init_db:1341 - Initializing Manga Challenges table...
[2025-09-23 15:30:15] [DEBUG] [Database] init_db:1344 - ✅ Manga Challenges table initialized successfully
[2025-09-23 15:30:15] [DEBUG] [Database] init_db:1341 - Initializing User Progress table...
[2025-09-23 15:30:15] [DEBUG] [Database] init_db:1344 - ✅ User Progress table initialized successfully
[2025-09-23 15:30:15] [DEBUG] [Database] init_db:1341 - Initializing Global Challenges table...
[2025-09-23 15:30:15] [INFO] [Database] init_global_challenges_table:1120 - Global challenges table ready with difficulty column.
[2025-09-23 15:30:15] [DEBUG] [Database] init_db:1344 - ✅ Global Challenges table initialized successfully
[2025-09-23 15:30:15] [DEBUG] [Database] init_db:1341 - Initializing Invite Tracker table...
[2025-09-23 15:30:15] [INFO] [Database] init_invite_tracker_tables:1210 - Initializing invite tracker tables
[2025-09-23 15:30:15] [INFO] [Database] init_invite_tracker_tables:1277 - ✅ Invite tracker tables initialized successfully
[2025-09-23 15:30:15] [DEBUG] [Database] init_db:1344 - ✅ Invite Tracker table initialized successfully
[2025-09-23 15:30:15] [DEBUG] [Database] init_db:1341 - Initializing Steam Users table...
[2025-09-23 15:30:15] [INFO] [Database] init_steam_users_table:1297 - Steam users table ready.
[2025-09-23 15:30:15] [DEBUG] [Database] init_db:1344 - ✅ Steam Users table initialized successfully
[2025-09-23 15:30:15] [DEBUG] [Database] init_db:1341 - Initializing Challenge Manga table...
[2025-09-23 15:30:15] [DEBUG] [Database] init_db:1344 - ✅ Challenge Manga table initialized successfully
[2025-09-23 15:30:15] [INFO] [Database] init_db:1355 - ============================================================
[2025-09-23 15:30:15] [INFO] [Database] init_db:1356 - DATABASE INITIALIZATION SUMMARY
[2025-09-23 15:30:15] [INFO] [Database] init_db:1357 - Total tables: 12
[2025-09-23 15:30:15] [INFO] [Database] init_db:1358 - Successfully initialized: 12
[2025-09-23 15:30:15] [INFO] [Database] init_db:1359 - Failed to initialize: 0
[2025-09-23 15:30:15] [INFO] [Database] init_db:1360 - Total time: 0.04 seconds
[2025-09-23 15:30:15] [INFO] [Database] init_db:1365 - ✅ All database tables initialized successfully
[2025-09-23 15:30:15] [INFO] [Database] init_db:1367 - ============================================================
[2025-09-23 15:30:15] [INFO] [Database] init_db:1372 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-23 15:30:15] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-23 15:30:15] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-23 15:30:15] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.002s
[2025-09-23 15:30:15] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-23 15:30:19] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:30:19] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:30:19] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-23 15:30:19] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-23 15:30:19] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:30:19] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:30:19] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-23 15:30:19] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-23 15:30:19] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:30:19] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:30:19] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-23 15:30:19] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 15:30:19] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:30:19] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:30:19] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-23 15:30:19] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.009s
[2025-09-23 15:30:19] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:30:19] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:30:19] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-23 15:30:19] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-23 15:30:19] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:30:19] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:30:19] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-23 15:30:19] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 15:30:19] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:30:19] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:30:19] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-23 15:30:19] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 15:30:19] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:30:19] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:30:19] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-23 15:30:19] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('628xd7Sa', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('A8Un8tA2', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('AWZ4mqN7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417339097411747853, -1, 2)
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BM4TWaw9', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417210716318072944, -1, 1)
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HEGVx495', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HXt8GDc7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417205674059763805, -1, 1)
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HwHu3fKv', 1417205672847736955, 695087864450383912, 'lili', 1417534932724486265, -1, 0)
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('Y9Yq7ufy', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, -1, 1)
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.009s
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('aDWyseRm', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417205674059763805, -1, 1)
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('brpzD6Jm', 1417205672847736955, 336949613464649728, 'rapidecline', 1417310229460418580, -1, 0)
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('fSuFfGvr', 1417205672847736955, 365529294065369088, 'DsF ULYSSE', 1417205674059763805, -1, 0)
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('rRpCcb9N', 1417205672847736955, 964639984667721810, 'Brainy', 1417210265954684968, -1, 0)
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('sSTAtTJH', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417673227366436997, -1, 1)
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vYtDjBux', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vfwD3rVk', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.011s
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('zFX6KGvA', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417209847346102312, -1, 1)
[2025-09-23 15:30:20] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 15:30:26] [DEBUG] [Database] get_user_guild_aware:344 - Retrieving user data for Discord ID: 331164413623009281 in guild: 897814031346319382
[2025-09-23 15:30:26] [DEBUG] [Database] execute_db_operation:115 - Executing get user 331164413623009281 from guild 897814031346319382
[2025-09-23 15:30:26] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE discord_id = ? AND guild_id = ?
[2025-09-23 15:30:26] [DEBUG] [Database] execute_db_operation:118 - Parameters: (331164413623009281, 897814031346319382)
[2025-09-23 15:30:26] [DEBUG] [Database] execute_db_operation:142 - get user 331164413623009281 from guild 897814031346319382 completed in 0.003s
[2025-09-23 15:30:26] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-23 15:30:26] [DEBUG] [Database] get_user_guild_aware:361 - ✅ Found user: Kyerstorm (ID: 1) in guild 897814031346319382
[2025-09-23 15:36:20] [DEBUG] [Database] get_user_guild_aware:344 - Retrieving user data for Discord ID: 1419744000977403994 in guild: 897814031346319382
[2025-09-23 15:36:20] [DEBUG] [Database] execute_db_operation:115 - Executing get user 1419744000977403994 from guild 897814031346319382
[2025-09-23 15:36:20] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE discord_id = ? AND guild_id = ?
[2025-09-23 15:36:20] [DEBUG] [Database] execute_db_operation:118 - Parameters: (1419744000977403994, 897814031346319382)
[2025-09-23 15:36:20] [DEBUG] [Database] execute_db_operation:142 - get user 1419744000977403994 from guild 897814031346319382 completed in 0.003s
[2025-09-23 15:36:20] [DEBUG] [Database] get_user_guild_aware:363 - No user found for Discord ID: 1419744000977403994 in guild 897814031346319382
[2025-09-23 15:36:23] [DEBUG] [Database] get_user_guild_aware:344 - Retrieving user data for Discord ID: 1419744000977403994 in guild: 897814031346319382
[2025-09-23 15:36:23] [DEBUG] [Database] execute_db_operation:115 - Executing get user 1419744000977403994 from guild 897814031346319382
[2025-09-23 15:36:23] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE discord_id = ? AND guild_id = ?
[2025-09-23 15:36:23] [DEBUG] [Database] execute_db_operation:118 - Parameters: (1419744000977403994, 897814031346319382)
[2025-09-23 15:36:23] [DEBUG] [Database] execute_db_operation:142 - get user 1419744000977403994 from guild 897814031346319382 completed in 0.002s
[2025-09-23 15:36:23] [DEBUG] [Database] get_user_guild_aware:363 - No user found for Discord ID: 1419744000977403994 in guild 897814031346319382
[2025-09-23 15:37:06] [DEBUG] [Database] get_user_guild_aware:344 - Retrieving user data for Discord ID: 1419744000977403994 in guild: 897814031346319382
[2025-09-23 15:37:06] [DEBUG] [Database] execute_db_operation:115 - Executing get user 1419744000977403994 from guild 897814031346319382
[2025-09-23 15:37:06] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE discord_id = ? AND guild_id = ?
[2025-09-23 15:37:06] [DEBUG] [Database] execute_db_operation:118 - Parameters: (1419744000977403994, 897814031346319382)
[2025-09-23 15:37:07] [DEBUG] [Database] execute_db_operation:142 - get user 1419744000977403994 from guild 897814031346319382 completed in 0.002s
[2025-09-23 15:37:07] [DEBUG] [Database] get_user_guild_aware:363 - No user found for Discord ID: 1419744000977403994 in guild 897814031346319382
[2025-09-23 15:37:16] [INFO] [Database] <module>:60 - ==================================================
[2025-09-23 15:37:16] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-23 15:37:16] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-23 15:37:16] [INFO] [Database] <module>:63 - ==================================================
[2025-09-23 15:37:16] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-23 15:37:16] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-23 15:37:16] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-23 15:37:16] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-23 15:37:24] [INFO] [Database] <module>:60 - ==================================================
[2025-09-23 15:37:24] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-23 15:37:24] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-23 15:37:24] [INFO] [Database] <module>:63 - ==================================================
[2025-09-23 15:37:24] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-23 15:37:24] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-23 15:37:24] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-23 15:37:24] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-23 15:37:24] [INFO] [Database] init_db:1307 - ============================================================
[2025-09-23 15:37:24] [INFO] [Database] init_db:1308 - STARTING DATABASE INITIALIZATION
[2025-09-23 15:37:24] [INFO] [Database] init_db:1309 - ============================================================
[2025-09-23 15:37:24] [INFO] [Database] init_db:1333 - Verifying database connectivity...
[2025-09-23 15:37:24] [INFO] [Database] init_db:1336 - ✅ Database connectivity verified
[2025-09-23 15:37:24] [DEBUG] [Database] init_db:1341 - Initializing Users table...
[2025-09-23 15:37:24] [INFO] [Database] init_users_table:168 - Initializing users table
[2025-09-23 15:37:24] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-23 15:37:24] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-23 15:37:24] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-23 15:37:24] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-23 15:37:24] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-23 15:37:24] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.002s: duplicate column name: anilist_username
[2025-09-23 15:37:24] [DEBUG] [Database] init_users_table:200 - Column 'anilist_username' already exists in users table
[2025-09-23 15:37:24] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-23 15:37:24] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-23 15:37:24] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.001s: duplicate column name: anilist_id
[2025-09-23 15:37:24] [DEBUG] [Database] init_users_table:200 - Column 'anilist_id' already exists in users table
[2025-09-23 15:37:24] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-23 15:37:24] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 15:37:24] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.001s: duplicate column name: created_at
[2025-09-23 15:37:24] [DEBUG] [Database] init_users_table:200 - Column 'created_at' already exists in users table
[2025-09-23 15:37:24] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-23 15:37:24] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 15:37:24] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.001s: duplicate column name: updated_at
[2025-09-23 15:37:24] [DEBUG] [Database] init_users_table:200 - Column 'updated_at' already exists in users table
[2025-09-23 15:37:24] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-23 15:37:24] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 15:37:24] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.001s
[2025-09-23 15:37:24] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 15:37:24] [DEBUG] [Database] init_users_table:207 - Users table schema: 8 columns
[2025-09-23 15:37:24] [DEBUG] [Database] init_users_table:209 -   Column: id (INTEGER)
[2025-09-23 15:37:24] [DEBUG] [Database] init_users_table:209 -   Column: discord_id (INTEGER)
[2025-09-23 15:37:24] [DEBUG] [Database] init_users_table:209 -   Column: guild_id (INTEGER)
[2025-09-23 15:37:24] [DEBUG] [Database] init_users_table:209 -   Column: username (TEXT)
[2025-09-23 15:37:24] [DEBUG] [Database] init_users_table:209 -   Column: anilist_username (TEXT)
[2025-09-23 15:37:24] [DEBUG] [Database] init_users_table:209 -   Column: anilist_id (INTEGER)
[2025-09-23 15:37:24] [DEBUG] [Database] init_users_table:209 -   Column: created_at (DATETIME)
[2025-09-23 15:37:24] [DEBUG] [Database] init_users_table:209 -   Column: updated_at (DATETIME)
[2025-09-23 15:37:24] [INFO] [Database] init_users_table:211 - ✅ Users table initialization completed successfully
[2025-09-23 15:37:24] [DEBUG] [Database] init_db:1344 - ✅ Users table initialized successfully
[2025-09-23 15:37:24] [DEBUG] [Database] init_db:1341 - Initializing Challenge Rules table...
[2025-09-23 15:37:24] [INFO] [Database] init_challenge_rules_table:660 - Initializing challenge rules table
[2025-09-23 15:37:24] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-23 15:37:24] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-23 15:37:24] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.002s
[2025-09-23 15:37:24] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-23 15:37:24] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 15:37:24] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.001s: Cannot add a column with non-constant default
[2025-09-23 15:37:24] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-23 15:37:24] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 15:37:24] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.002s: Cannot add a column with non-constant default
[2025-09-23 15:37:24] [INFO] [Database] init_challenge_rules_table:684 - ✅ Challenge rules table initialization completed
[2025-09-23 15:37:24] [DEBUG] [Database] init_db:1344 - ✅ Challenge Rules table initialized successfully
[2025-09-23 15:37:24] [DEBUG] [Database] init_db:1341 - Initializing Recommendation Votes table...
[2025-09-23 15:37:24] [INFO] [Database] init_recommendation_votes_table:752 - Manga recommendation votes table ready.
[2025-09-23 15:37:24] [DEBUG] [Database] init_db:1344 - ✅ Recommendation Votes table initialized successfully
[2025-09-23 15:37:24] [DEBUG] [Database] init_db:1341 - Initializing User Stats table...
[2025-09-23 15:37:24] [INFO] [Database] init_user_stats_table:770 - User stats table ready.
[2025-09-23 15:37:24] [DEBUG] [Database] init_db:1344 - ✅ User Stats table initialized successfully
[2025-09-23 15:37:24] [DEBUG] [Database] init_db:1341 - Initializing Achievements table...
[2025-09-23 15:37:24] [INFO] [Database] init_achievements_table:786 - Achievements table ready.
[2025-09-23 15:37:24] [DEBUG] [Database] init_db:1344 - ✅ Achievements table initialized successfully
[2025-09-23 15:37:24] [DEBUG] [Database] init_db:1341 - Initializing User Manga Progress table...
[2025-09-23 15:37:24] [INFO] [Database] init_user_manga_progress_table:822 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-23 15:37:24] [DEBUG] [Database] init_db:1344 - ✅ User Manga Progress table initialized successfully
[2025-09-23 15:37:24] [DEBUG] [Database] init_db:1341 - Initializing Manga Challenges table...
[2025-09-23 15:37:24] [DEBUG] [Database] init_db:1344 - ✅ Manga Challenges table initialized successfully
[2025-09-23 15:37:24] [DEBUG] [Database] init_db:1341 - Initializing User Progress table...
[2025-09-23 15:37:24] [DEBUG] [Database] init_db:1344 - ✅ User Progress table initialized successfully
[2025-09-23 15:37:24] [DEBUG] [Database] init_db:1341 - Initializing Global Challenges table...
[2025-09-23 15:37:24] [INFO] [Database] init_global_challenges_table:1120 - Global challenges table ready with difficulty column.
[2025-09-23 15:37:24] [DEBUG] [Database] init_db:1344 - ✅ Global Challenges table initialized successfully
[2025-09-23 15:37:24] [DEBUG] [Database] init_db:1341 - Initializing Invite Tracker table...
[2025-09-23 15:37:24] [INFO] [Database] init_invite_tracker_tables:1210 - Initializing invite tracker tables
[2025-09-23 15:37:24] [INFO] [Database] init_invite_tracker_tables:1277 - ✅ Invite tracker tables initialized successfully
[2025-09-23 15:37:24] [DEBUG] [Database] init_db:1344 - ✅ Invite Tracker table initialized successfully
[2025-09-23 15:37:24] [DEBUG] [Database] init_db:1341 - Initializing Steam Users table...
[2025-09-23 15:37:24] [INFO] [Database] init_steam_users_table:1297 - Steam users table ready.
[2025-09-23 15:37:24] [DEBUG] [Database] init_db:1344 - ✅ Steam Users table initialized successfully
[2025-09-23 15:37:24] [DEBUG] [Database] init_db:1341 - Initializing Challenge Manga table...
[2025-09-23 15:37:24] [DEBUG] [Database] init_db:1344 - ✅ Challenge Manga table initialized successfully
[2025-09-23 15:37:24] [INFO] [Database] init_db:1355 - ============================================================
[2025-09-23 15:37:24] [INFO] [Database] init_db:1356 - DATABASE INITIALIZATION SUMMARY
[2025-09-23 15:37:24] [INFO] [Database] init_db:1357 - Total tables: 12
[2025-09-23 15:37:24] [INFO] [Database] init_db:1358 - Successfully initialized: 12
[2025-09-23 15:37:24] [INFO] [Database] init_db:1359 - Failed to initialize: 0
[2025-09-23 15:37:24] [INFO] [Database] init_db:1360 - Total time: 0.04 seconds
[2025-09-23 15:37:24] [INFO] [Database] init_db:1365 - ✅ All database tables initialized successfully
[2025-09-23 15:37:24] [INFO] [Database] init_db:1367 - ============================================================
[2025-09-23 15:37:24] [INFO] [Database] init_db:1372 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-23 15:37:24] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-23 15:37:24] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-23 15:37:24] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.002s
[2025-09-23 15:37:24] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-23 15:37:27] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:37:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:37:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-23 15:37:27] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 15:37:27] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:37:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:37:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-23 15:37:27] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 15:37:27] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:37:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:37:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-23 15:37:27] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 15:37:27] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:37:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:37:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-23 15:37:27] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 15:37:27] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:37:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:37:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-23 15:37:27] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 15:37:27] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:37:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:37:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-23 15:37:27] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-23 15:37:27] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:37:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:37:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-23 15:37:27] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 15:37:27] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:37:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:37:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-23 15:37:27] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.009s
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('628xd7Sa', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('A8Un8tA2', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('AWZ4mqN7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417339097411747853, -1, 2)
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BM4TWaw9', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417210716318072944, -1, 1)
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HEGVx495', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HXt8GDc7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417205674059763805, -1, 1)
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HwHu3fKv', 1417205672847736955, 695087864450383912, 'lili', 1417534932724486265, -1, 0)
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('Y9Yq7ufy', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, -1, 1)
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('aDWyseRm', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417205674059763805, -1, 1)
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('brpzD6Jm', 1417205672847736955, 336949613464649728, 'rapidecline', 1417310229460418580, -1, 0)
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('fSuFfGvr', 1417205672847736955, 365529294065369088, 'DsF ULYSSE', 1417205674059763805, -1, 0)
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('rRpCcb9N', 1417205672847736955, 964639984667721810, 'Brainy', 1417210265954684968, -1, 0)
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('sSTAtTJH', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417673227366436997, -1, 1)
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vYtDjBux', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vfwD3rVk', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('zFX6KGvA', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417209847346102312, -1, 1)
[2025-09-23 15:37:28] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-23 15:37:51] [DEBUG] [Database] get_user_guild_aware:344 - Retrieving user data for Discord ID: 1419744000977403994 in guild: 897814031346319382
[2025-09-23 15:37:51] [DEBUG] [Database] execute_db_operation:115 - Executing get user 1419744000977403994 from guild 897814031346319382
[2025-09-23 15:37:51] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE discord_id = ? AND guild_id = ?
[2025-09-23 15:37:51] [DEBUG] [Database] execute_db_operation:118 - Parameters: (1419744000977403994, 897814031346319382)
[2025-09-23 15:37:51] [DEBUG] [Database] execute_db_operation:142 - get user 1419744000977403994 from guild 897814031346319382 completed in 0.003s
[2025-09-23 15:37:51] [DEBUG] [Database] get_user_guild_aware:363 - No user found for Discord ID: 1419744000977403994 in guild 897814031346319382
[2025-09-23 15:38:02] [INFO] [Database] save_user_guild_aware:1621 - Saving user (guild-aware): Vireon (Discord ID: 1419744000977403994, Guild ID: 897814031346319382)
[2025-09-23 15:38:02] [DEBUG] [Database] get_user_guild_aware:344 - Retrieving user data for Discord ID: 1419744000977403994 in guild: 897814031346319382
[2025-09-23 15:38:02] [DEBUG] [Database] execute_db_operation:115 - Executing get user 1419744000977403994 from guild 897814031346319382
[2025-09-23 15:38:02] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE discord_id = ? AND guild_id = ?
[2025-09-23 15:38:02] [DEBUG] [Database] execute_db_operation:118 - Parameters: (1419744000977403994, 897814031346319382)
[2025-09-23 15:38:02] [DEBUG] [Database] execute_db_operation:142 - get user 1419744000977403994 from guild 897814031346319382 completed in 0.002s
[2025-09-23 15:38:02] [DEBUG] [Database] get_user_guild_aware:363 - No user found for Discord ID: 1419744000977403994 in guild 897814031346319382
[2025-09-23 15:38:02] [DEBUG] [Database] execute_db_operation:115 - Executing save user Vireon in guild 897814031346319382 (insert)
[2025-09-23 15:38:02] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO users (discord_id, guild_id, username, updated_at)
            VALUES (?, ?, ?, CURRENT_TIMESTAMP)
            ON CONFLICT(discord_id, guild_id) DO UPDATE SET 
                username=excluded.username,
                updated_at=CURRENT_TIMESTAMP
        
[2025-09-23 15:38:02] [DEBUG] [Database] execute_db_operation:118 - Parameters: (1419744000977403994, 897814031346319382, 'Vireon')
[2025-09-23 15:38:02] [DEBUG] [Database] execute_db_operation:142 - save user Vireon in guild 897814031346319382 (insert) completed in 0.006s
[2025-09-23 15:38:02] [INFO] [Database] save_user_guild_aware:1649 - ✅ Successfully saved user: Vireon in guild 897814031346319382 (insert)
[2025-09-23 15:38:02] [DEBUG] [Database] get_user_guild_aware:344 - Retrieving user data for Discord ID: 1419744000977403994 in guild: 897814031346319382
[2025-09-23 15:38:02] [DEBUG] [Database] execute_db_operation:115 - Executing get user 1419744000977403994 from guild 897814031346319382
[2025-09-23 15:38:02] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE discord_id = ? AND guild_id = ?
[2025-09-23 15:38:02] [DEBUG] [Database] execute_db_operation:118 - Parameters: (1419744000977403994, 897814031346319382)
[2025-09-23 15:38:02] [DEBUG] [Database] execute_db_operation:142 - get user 1419744000977403994 from guild 897814031346319382 completed in 0.002s
[2025-09-23 15:38:02] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-23 15:38:02] [DEBUG] [Database] get_user_guild_aware:361 - ✅ Found user: Vireon (ID: 25) in guild 897814031346319382
[2025-09-23 15:45:44] [INFO] [Database] <module>:60 - ==================================================
[2025-09-23 15:45:44] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-23 15:45:44] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-23 15:45:44] [INFO] [Database] <module>:63 - ==================================================
[2025-09-23 15:45:44] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-23 15:45:44] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-23 15:45:44] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-23 15:45:44] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-23 15:45:44] [INFO] [Database] init_db:1307 - ============================================================
[2025-09-23 15:45:44] [INFO] [Database] init_db:1308 - STARTING DATABASE INITIALIZATION
[2025-09-23 15:45:44] [INFO] [Database] init_db:1309 - ============================================================
[2025-09-23 15:45:44] [INFO] [Database] init_db:1333 - Verifying database connectivity...
[2025-09-23 15:45:44] [INFO] [Database] init_db:1336 - ✅ Database connectivity verified
[2025-09-23 15:45:44] [DEBUG] [Database] init_db:1341 - Initializing Users table...
[2025-09-23 15:45:44] [INFO] [Database] init_users_table:168 - Initializing users table
[2025-09-23 15:45:44] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-23 15:45:44] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-23 15:45:44] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-23 15:45:44] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-23 15:45:44] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-23 15:45:44] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.001s: duplicate column name: anilist_username
[2025-09-23 15:45:44] [DEBUG] [Database] init_users_table:200 - Column 'anilist_username' already exists in users table
[2025-09-23 15:45:44] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-23 15:45:44] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-23 15:45:44] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.001s: duplicate column name: anilist_id
[2025-09-23 15:45:44] [DEBUG] [Database] init_users_table:200 - Column 'anilist_id' already exists in users table
[2025-09-23 15:45:44] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-23 15:45:44] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 15:45:44] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.001s: duplicate column name: created_at
[2025-09-23 15:45:44] [DEBUG] [Database] init_users_table:200 - Column 'created_at' already exists in users table
[2025-09-23 15:45:44] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-23 15:45:44] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 15:45:44] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.001s: duplicate column name: updated_at
[2025-09-23 15:45:44] [DEBUG] [Database] init_users_table:200 - Column 'updated_at' already exists in users table
[2025-09-23 15:45:44] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-23 15:45:44] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 15:45:44] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.002s
[2025-09-23 15:45:44] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 15:45:44] [DEBUG] [Database] init_users_table:207 - Users table schema: 8 columns
[2025-09-23 15:45:44] [DEBUG] [Database] init_users_table:209 -   Column: id (INTEGER)
[2025-09-23 15:45:44] [DEBUG] [Database] init_users_table:209 -   Column: discord_id (INTEGER)
[2025-09-23 15:45:44] [DEBUG] [Database] init_users_table:209 -   Column: guild_id (INTEGER)
[2025-09-23 15:45:44] [DEBUG] [Database] init_users_table:209 -   Column: username (TEXT)
[2025-09-23 15:45:44] [DEBUG] [Database] init_users_table:209 -   Column: anilist_username (TEXT)
[2025-09-23 15:45:44] [DEBUG] [Database] init_users_table:209 -   Column: anilist_id (INTEGER)
[2025-09-23 15:45:44] [DEBUG] [Database] init_users_table:209 -   Column: created_at (DATETIME)
[2025-09-23 15:45:44] [DEBUG] [Database] init_users_table:209 -   Column: updated_at (DATETIME)
[2025-09-23 15:45:44] [INFO] [Database] init_users_table:211 - ✅ Users table initialization completed successfully
[2025-09-23 15:45:44] [DEBUG] [Database] init_db:1344 - ✅ Users table initialized successfully
[2025-09-23 15:45:44] [DEBUG] [Database] init_db:1341 - Initializing Challenge Rules table...
[2025-09-23 15:45:44] [INFO] [Database] init_challenge_rules_table:660 - Initializing challenge rules table
[2025-09-23 15:45:44] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-23 15:45:44] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-23 15:45:44] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.001s
[2025-09-23 15:45:44] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-23 15:45:44] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 15:45:44] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.002s: Cannot add a column with non-constant default
[2025-09-23 15:45:44] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-23 15:45:44] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 15:45:44] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.002s: Cannot add a column with non-constant default
[2025-09-23 15:45:44] [INFO] [Database] init_challenge_rules_table:684 - ✅ Challenge rules table initialization completed
[2025-09-23 15:45:44] [DEBUG] [Database] init_db:1344 - ✅ Challenge Rules table initialized successfully
[2025-09-23 15:45:44] [DEBUG] [Database] init_db:1341 - Initializing Recommendation Votes table...
[2025-09-23 15:45:44] [INFO] [Database] init_recommendation_votes_table:752 - Manga recommendation votes table ready.
[2025-09-23 15:45:44] [DEBUG] [Database] init_db:1344 - ✅ Recommendation Votes table initialized successfully
[2025-09-23 15:45:44] [DEBUG] [Database] init_db:1341 - Initializing User Stats table...
[2025-09-23 15:45:44] [INFO] [Database] init_user_stats_table:770 - User stats table ready.
[2025-09-23 15:45:44] [DEBUG] [Database] init_db:1344 - ✅ User Stats table initialized successfully
[2025-09-23 15:45:44] [DEBUG] [Database] init_db:1341 - Initializing Achievements table...
[2025-09-23 15:45:44] [INFO] [Database] init_achievements_table:786 - Achievements table ready.
[2025-09-23 15:45:44] [DEBUG] [Database] init_db:1344 - ✅ Achievements table initialized successfully
[2025-09-23 15:45:44] [DEBUG] [Database] init_db:1341 - Initializing User Manga Progress table...
[2025-09-23 15:45:44] [INFO] [Database] init_user_manga_progress_table:822 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-23 15:45:44] [DEBUG] [Database] init_db:1344 - ✅ User Manga Progress table initialized successfully
[2025-09-23 15:45:44] [DEBUG] [Database] init_db:1341 - Initializing Manga Challenges table...
[2025-09-23 15:45:44] [DEBUG] [Database] init_db:1344 - ✅ Manga Challenges table initialized successfully
[2025-09-23 15:45:44] [DEBUG] [Database] init_db:1341 - Initializing User Progress table...
[2025-09-23 15:45:44] [DEBUG] [Database] init_db:1344 - ✅ User Progress table initialized successfully
[2025-09-23 15:45:44] [DEBUG] [Database] init_db:1341 - Initializing Global Challenges table...
[2025-09-23 15:45:44] [INFO] [Database] init_global_challenges_table:1120 - Global challenges table ready with difficulty column.
[2025-09-23 15:45:44] [DEBUG] [Database] init_db:1344 - ✅ Global Challenges table initialized successfully
[2025-09-23 15:45:44] [DEBUG] [Database] init_db:1341 - Initializing Invite Tracker table...
[2025-09-23 15:45:44] [INFO] [Database] init_invite_tracker_tables:1210 - Initializing invite tracker tables
[2025-09-23 15:45:44] [INFO] [Database] init_invite_tracker_tables:1277 - ✅ Invite tracker tables initialized successfully
[2025-09-23 15:45:44] [DEBUG] [Database] init_db:1344 - ✅ Invite Tracker table initialized successfully
[2025-09-23 15:45:44] [DEBUG] [Database] init_db:1341 - Initializing Steam Users table...
[2025-09-23 15:45:44] [INFO] [Database] init_steam_users_table:1297 - Steam users table ready.
[2025-09-23 15:45:44] [DEBUG] [Database] init_db:1344 - ✅ Steam Users table initialized successfully
[2025-09-23 15:45:44] [DEBUG] [Database] init_db:1341 - Initializing Challenge Manga table...
[2025-09-23 15:45:44] [DEBUG] [Database] init_db:1344 - ✅ Challenge Manga table initialized successfully
[2025-09-23 15:45:44] [INFO] [Database] init_db:1355 - ============================================================
[2025-09-23 15:45:44] [INFO] [Database] init_db:1356 - DATABASE INITIALIZATION SUMMARY
[2025-09-23 15:45:44] [INFO] [Database] init_db:1357 - Total tables: 12
[2025-09-23 15:45:44] [INFO] [Database] init_db:1358 - Successfully initialized: 12
[2025-09-23 15:45:44] [INFO] [Database] init_db:1359 - Failed to initialize: 0
[2025-09-23 15:45:44] [INFO] [Database] init_db:1360 - Total time: 0.04 seconds
[2025-09-23 15:45:44] [INFO] [Database] init_db:1365 - ✅ All database tables initialized successfully
[2025-09-23 15:45:44] [INFO] [Database] init_db:1367 - ============================================================
[2025-09-23 15:45:44] [INFO] [Database] init_db:1372 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-23 15:45:44] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-23 15:45:44] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-23 15:45:44] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.002s
[2025-09-23 15:45:44] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-23 15:45:47] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:45:47] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:45:47] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-23 15:45:47] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 15:45:47] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:45:47] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:45:47] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-23 15:45:47] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 15:45:47] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:45:47] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:45:47] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-23 15:45:47] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 15:45:47] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:45:47] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:45:47] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-23 15:45:47] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 15:45:47] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:45:47] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:45:47] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-23 15:45:47] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 15:45:47] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:45:47] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:45:47] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-23 15:45:47] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 15:45:47] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:45:47] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:45:47] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-23 15:45:47] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 15:45:47] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:45:47] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:45:47] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-23 15:45:47] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('628xd7Sa', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('A8Un8tA2', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('AWZ4mqN7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417339097411747853, -1, 2)
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BM4TWaw9', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417210716318072944, -1, 1)
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HEGVx495', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HXt8GDc7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417205674059763805, -1, 1)
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HwHu3fKv', 1417205672847736955, 695087864450383912, 'lili', 1417534932724486265, -1, 0)
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('Y9Yq7ufy', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, -1, 1)
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('aDWyseRm', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417205674059763805, -1, 1)
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('brpzD6Jm', 1417205672847736955, 336949613464649728, 'rapidecline', 1417310229460418580, -1, 0)
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('fSuFfGvr', 1417205672847736955, 365529294065369088, 'DsF ULYSSE', 1417205674059763805, -1, 0)
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('rRpCcb9N', 1417205672847736955, 964639984667721810, 'Brainy', 1417210265954684968, -1, 0)
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.004s
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('sSTAtTJH', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417673227366436997, -1, 1)
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vYtDjBux', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vfwD3rVk', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('zFX6KGvA', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417209847346102312, -1, 1)
[2025-09-23 15:45:48] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 15:46:54] [DEBUG] [Database] get_user_guild_aware:344 - Retrieving user data for Discord ID: 1419744000977403994 in guild: 897814031346319382
[2025-09-23 15:46:54] [DEBUG] [Database] execute_db_operation:115 - Executing get user 1419744000977403994 from guild 897814031346319382
[2025-09-23 15:46:54] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE discord_id = ? AND guild_id = ?
[2025-09-23 15:46:54] [DEBUG] [Database] execute_db_operation:118 - Parameters: (1419744000977403994, 897814031346319382)
[2025-09-23 15:46:54] [DEBUG] [Database] execute_db_operation:142 - get user 1419744000977403994 from guild 897814031346319382 completed in 0.003s
[2025-09-23 15:46:54] [DEBUG] [Database] get_user_guild_aware:363 - No user found for Discord ID: 1419744000977403994 in guild 897814031346319382
[2025-09-23 15:47:05] [DEBUG] [Database] get_user_guild_aware:344 - Retrieving user data for Discord ID: 1419744000977403994 in guild: 897814031346319382
[2025-09-23 15:47:05] [DEBUG] [Database] execute_db_operation:115 - Executing get user 1419744000977403994 from guild 897814031346319382
[2025-09-23 15:47:05] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE discord_id = ? AND guild_id = ?
[2025-09-23 15:47:05] [DEBUG] [Database] execute_db_operation:118 - Parameters: (1419744000977403994, 897814031346319382)
[2025-09-23 15:47:05] [DEBUG] [Database] execute_db_operation:142 - get user 1419744000977403994 from guild 897814031346319382 completed in 0.002s
[2025-09-23 15:47:05] [DEBUG] [Database] get_user_guild_aware:363 - No user found for Discord ID: 1419744000977403994 in guild 897814031346319382
[2025-09-23 15:47:05] [INFO] [Database] register_user_guild_aware:1559 - Registering user slopking._ (ID: 1419744000977403994) in guild 897814031346319382
[2025-09-23 15:47:05] [INFO] [Database] add_user_guild_aware:265 - Adding new user: slopking._ (Discord ID: 1419744000977403994) to guild 897814031346319382
[2025-09-23 15:47:05] [DEBUG] [Database] add_user_guild_aware:276 - User data - Discord ID: 1419744000977403994, Guild ID: 897814031346319382, Username: slopking._
[2025-09-23 15:47:05] [DEBUG] [Database] add_user_guild_aware:278 - AniList data - Username: Vireon, ID: 7023294
[2025-09-23 15:47:05] [DEBUG] [Database] execute_db_operation:115 - Executing add user slopking._ to guild 897814031346319382
[2025-09-23 15:47:05] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT OR REPLACE INTO users (discord_id, guild_id, username, anilist_username, anilist_id, updated_at)
            VALUES (?, ?, ?, ?, ?, CURRENT_TIMESTAMP)
        
[2025-09-23 15:47:05] [DEBUG] [Database] execute_db_operation:118 - Parameters: (1419744000977403994, 897814031346319382, 'slopking._', 'Vireon', 7023294)
[2025-09-23 15:47:05] [DEBUG] [Database] execute_db_operation:142 - add user slopking._ to guild 897814031346319382 completed in 0.005s
[2025-09-23 15:47:05] [INFO] [Database] add_user_guild_aware:291 - ✅ Successfully added user slopking._ (Discord ID: 1419744000977403994) to guild 897814031346319382
[2025-09-23 15:47:05] [INFO] [Database] register_user_guild_aware:1563 - ✅ Successfully registered user slopking._ in guild 897814031346319382
[2025-09-23 15:47:25] [DEBUG] [Database] get_user_guild_aware:344 - Retrieving user data for Discord ID: 1419744000977403994 in guild: 897814031346319382
[2025-09-23 15:47:25] [DEBUG] [Database] execute_db_operation:115 - Executing get user 1419744000977403994 from guild 897814031346319382
[2025-09-23 15:47:25] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE discord_id = ? AND guild_id = ?
[2025-09-23 15:47:25] [DEBUG] [Database] execute_db_operation:118 - Parameters: (1419744000977403994, 897814031346319382)
[2025-09-23 15:47:25] [DEBUG] [Database] execute_db_operation:142 - get user 1419744000977403994 from guild 897814031346319382 completed in 0.003s
[2025-09-23 15:47:25] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-23 15:47:25] [DEBUG] [Database] get_user_guild_aware:361 - ✅ Found user: slopking._ (ID: 26) in guild 897814031346319382
[2025-09-23 15:51:06] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-23 15:51:06] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 15:51:06] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-23 15:51:06] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 15:51:06] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-23 15:51:06] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-23 15:51:06] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-23 15:51:06] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-23 15:51:06] [DEBUG] [Database] execute_db_operation:115 - Executing remove user ID 15 (Discord: 1328060519273336899) from guild 897814031346319382
[2025-09-23 15:51:06] [DEBUG] [Database] execute_db_operation:116 - Query: DELETE FROM users WHERE id = ? AND discord_id = ? AND guild_id = ?
[2025-09-23 15:51:06] [DEBUG] [Database] execute_db_operation:118 - Parameters: (15, 1328060519273336899, 897814031346319382)
[2025-09-23 15:51:06] [DEBUG] [Database] execute_db_operation:142 - remove user ID 15 (Discord: 1328060519273336899) from guild 897814031346319382 completed in 0.017s
[2025-09-23 15:51:08] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-23 15:51:08] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 15:51:08] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-23 15:51:08] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 15:51:08] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-23 15:51:08] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-23 15:51:08] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-23 15:51:08] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-23 15:51:11] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-23 15:51:11] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 15:51:11] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-23 15:51:11] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 15:51:11] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-23 15:51:11] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-23 15:51:11] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-23 15:51:11] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-23 15:51:13] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-23 15:51:13] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 15:51:13] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-23 15:51:13] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 15:51:13] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-23 15:51:13] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-23 15:51:13] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-23 15:51:13] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-23 15:53:13] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-23 15:53:13] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 15:53:13] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-23 15:53:13] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 15:53:13] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-23 15:53:13] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-23 15:53:13] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-23 15:53:13] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-23 15:53:15] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-23 15:53:15] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 15:53:15] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-23 15:53:15] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 15:53:15] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-23 15:53:15] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-23 15:53:15] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-23 15:53:15] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-23 15:53:18] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-23 15:53:18] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 15:53:18] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-23 15:53:18] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 15:53:18] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-23 15:53:18] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-23 15:53:18] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-23 15:53:18] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-23 15:53:19] [INFO] [Database] <module>:60 - ==================================================
[2025-09-23 15:53:19] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-23 15:53:19] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-23 15:53:19] [INFO] [Database] <module>:63 - ==================================================
[2025-09-23 15:53:19] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-23 15:53:19] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-23 15:53:19] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-23 15:53:19] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-23 15:53:19] [INFO] [Database] init_db:1406 - ============================================================
[2025-09-23 15:53:19] [INFO] [Database] init_db:1407 - STARTING DATABASE INITIALIZATION
[2025-09-23 15:53:19] [INFO] [Database] init_db:1408 - ============================================================
[2025-09-23 15:53:19] [INFO] [Database] init_db:1432 - Verifying database connectivity...
[2025-09-23 15:53:19] [INFO] [Database] init_db:1435 - ✅ Database connectivity verified
[2025-09-23 15:53:19] [DEBUG] [Database] init_db:1440 - Initializing Users table...
[2025-09-23 15:53:19] [INFO] [Database] init_users_table:216 - Initializing users table
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.001s
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-23 15:53:19] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.001s: duplicate column name: anilist_username
[2025-09-23 15:53:19] [DEBUG] [Database] init_users_table:249 - Column 'anilist_username' already exists in users table
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-23 15:53:19] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.001s: duplicate column name: anilist_id
[2025-09-23 15:53:19] [DEBUG] [Database] init_users_table:249 - Column 'anilist_id' already exists in users table
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:115 - Executing add guild_id column to users
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN guild_id INTEGER
[2025-09-23 15:53:19] [ERROR] [Database] execute_db_operation:156 - add guild_id column to users failed after 0.001s: duplicate column name: guild_id
[2025-09-23 15:53:19] [DEBUG] [Database] init_users_table:249 - Column 'guild_id' already exists in users table
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 15:53:19] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.001s: duplicate column name: created_at
[2025-09-23 15:53:19] [DEBUG] [Database] init_users_table:249 - Column 'created_at' already exists in users table
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 15:53:19] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.001s: duplicate column name: updated_at
[2025-09-23 15:53:19] [DEBUG] [Database] init_users_table:249 - Column 'updated_at' already exists in users table
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.001s
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 15:53:19] [DEBUG] [Database] init_users_table:256 - Users table schema: 8 columns
[2025-09-23 15:53:19] [DEBUG] [Database] init_users_table:258 -   Column: id (INTEGER)
[2025-09-23 15:53:19] [DEBUG] [Database] init_users_table:258 -   Column: discord_id (INTEGER)
[2025-09-23 15:53:19] [DEBUG] [Database] init_users_table:258 -   Column: guild_id (INTEGER)
[2025-09-23 15:53:19] [DEBUG] [Database] init_users_table:258 -   Column: username (TEXT)
[2025-09-23 15:53:19] [DEBUG] [Database] init_users_table:258 -   Column: anilist_username (TEXT)
[2025-09-23 15:53:19] [DEBUG] [Database] init_users_table:258 -   Column: anilist_id (INTEGER)
[2025-09-23 15:53:19] [DEBUG] [Database] init_users_table:258 -   Column: created_at (DATETIME)
[2025-09-23 15:53:19] [DEBUG] [Database] init_users_table:258 -   Column: updated_at (DATETIME)
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:115 - Executing check guild_id usage
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT COUNT(*) FROM users WHERE guild_id IS NOT NULL
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:142 - check guild_id usage completed in 0.002s
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 1
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 1, 'test1')
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 1 completed in 0.005s
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 2
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 2, 'test2')
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 2 completed in 0.006s
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:115 - Executing cleanup test data
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:116 - Query: DELETE FROM users WHERE discord_id = ?
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999,)
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:142 - cleanup test data completed in 0.004s
[2025-09-23 15:53:19] [INFO] [Database] init_users_table:296 - ✅ Multi-guild support confirmed - table supports multiple guilds per user
[2025-09-23 15:53:19] [INFO] [Database] init_users_table:310 - ✅ Users table initialization completed successfully
[2025-09-23 15:53:19] [DEBUG] [Database] init_db:1443 - ✅ Users table initialized successfully
[2025-09-23 15:53:19] [DEBUG] [Database] init_db:1440 - Initializing Challenge Rules table...
[2025-09-23 15:53:19] [INFO] [Database] init_challenge_rules_table:759 - Initializing challenge rules table
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.002s
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 15:53:19] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.001s: Cannot add a column with non-constant default
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 15:53:19] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.001s: Cannot add a column with non-constant default
[2025-09-23 15:53:19] [INFO] [Database] init_challenge_rules_table:783 - ✅ Challenge rules table initialization completed
[2025-09-23 15:53:19] [DEBUG] [Database] init_db:1443 - ✅ Challenge Rules table initialized successfully
[2025-09-23 15:53:19] [DEBUG] [Database] init_db:1440 - Initializing Recommendation Votes table...
[2025-09-23 15:53:19] [INFO] [Database] init_recommendation_votes_table:851 - Manga recommendation votes table ready.
[2025-09-23 15:53:19] [DEBUG] [Database] init_db:1443 - ✅ Recommendation Votes table initialized successfully
[2025-09-23 15:53:19] [DEBUG] [Database] init_db:1440 - Initializing User Stats table...
[2025-09-23 15:53:19] [INFO] [Database] init_user_stats_table:869 - User stats table ready.
[2025-09-23 15:53:19] [DEBUG] [Database] init_db:1443 - ✅ User Stats table initialized successfully
[2025-09-23 15:53:19] [DEBUG] [Database] init_db:1440 - Initializing Achievements table...
[2025-09-23 15:53:19] [INFO] [Database] init_achievements_table:885 - Achievements table ready.
[2025-09-23 15:53:19] [DEBUG] [Database] init_db:1443 - ✅ Achievements table initialized successfully
[2025-09-23 15:53:19] [DEBUG] [Database] init_db:1440 - Initializing User Manga Progress table...
[2025-09-23 15:53:19] [INFO] [Database] init_user_manga_progress_table:921 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-23 15:53:19] [DEBUG] [Database] init_db:1443 - ✅ User Manga Progress table initialized successfully
[2025-09-23 15:53:19] [DEBUG] [Database] init_db:1440 - Initializing Manga Challenges table...
[2025-09-23 15:53:19] [DEBUG] [Database] init_db:1443 - ✅ Manga Challenges table initialized successfully
[2025-09-23 15:53:19] [DEBUG] [Database] init_db:1440 - Initializing User Progress table...
[2025-09-23 15:53:19] [DEBUG] [Database] init_db:1443 - ✅ User Progress table initialized successfully
[2025-09-23 15:53:19] [DEBUG] [Database] init_db:1440 - Initializing Global Challenges table...
[2025-09-23 15:53:19] [INFO] [Database] init_global_challenges_table:1219 - Global challenges table ready with difficulty column.
[2025-09-23 15:53:19] [DEBUG] [Database] init_db:1443 - ✅ Global Challenges table initialized successfully
[2025-09-23 15:53:19] [DEBUG] [Database] init_db:1440 - Initializing Invite Tracker table...
[2025-09-23 15:53:19] [INFO] [Database] init_invite_tracker_tables:1309 - Initializing invite tracker tables
[2025-09-23 15:53:19] [INFO] [Database] init_invite_tracker_tables:1376 - ✅ Invite tracker tables initialized successfully
[2025-09-23 15:53:19] [DEBUG] [Database] init_db:1443 - ✅ Invite Tracker table initialized successfully
[2025-09-23 15:53:19] [DEBUG] [Database] init_db:1440 - Initializing Steam Users table...
[2025-09-23 15:53:19] [INFO] [Database] init_steam_users_table:1396 - Steam users table ready.
[2025-09-23 15:53:19] [DEBUG] [Database] init_db:1443 - ✅ Steam Users table initialized successfully
[2025-09-23 15:53:19] [DEBUG] [Database] init_db:1440 - Initializing Challenge Manga table...
[2025-09-23 15:53:19] [DEBUG] [Database] init_db:1443 - ✅ Challenge Manga table initialized successfully
[2025-09-23 15:53:19] [INFO] [Database] init_db:1454 - ============================================================
[2025-09-23 15:53:19] [INFO] [Database] init_db:1455 - DATABASE INITIALIZATION SUMMARY
[2025-09-23 15:53:19] [INFO] [Database] init_db:1456 - Total tables: 12
[2025-09-23 15:53:19] [INFO] [Database] init_db:1457 - Successfully initialized: 12
[2025-09-23 15:53:19] [INFO] [Database] init_db:1458 - Failed to initialize: 0
[2025-09-23 15:53:19] [INFO] [Database] init_db:1459 - Total time: 0.05 seconds
[2025-09-23 15:53:19] [INFO] [Database] init_db:1464 - ✅ All database tables initialized successfully
[2025-09-23 15:53:19] [INFO] [Database] init_db:1466 - ============================================================
[2025-09-23 15:53:19] [INFO] [Database] init_db:1471 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.001s
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:115 - Executing test insert guild 1
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username, anilist_username) VALUES (?, ?, ?, ?)
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:118 - Parameters: (123456789, 111, 'TestUser1', 'testuser1')
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:142 - test insert guild 1 completed in 0.004s
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:115 - Executing test insert guild 2
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username, anilist_username) VALUES (?, ?, ?, ?)
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:118 - Parameters: (123456789, 222, 'TestUser2', 'testuser2')
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:142 - test insert guild 2 completed in 0.005s
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:115 - Executing count test records
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT COUNT(*) FROM users WHERE discord_id = ?
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:118 - Parameters: (123456789,)
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:142 - count test records completed in 0.002s
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:115 - Executing cleanup test data
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:116 - Query: DELETE FROM users WHERE discord_id = ?
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:118 - Parameters: (123456789,)
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:142 - cleanup test data completed in 0.004s
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:115 - Executing count total users
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT COUNT(*) FROM users
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:142 - count total users completed in 0.002s
[2025-09-23 15:53:19] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-23 15:53:20] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-23 15:53:20] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 15:53:20] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-23 15:53:20] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 15:53:20] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-23 15:53:20] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-23 15:53:20] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-23 15:53:20] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-23 15:54:36] [INFO] [Database] <module>:60 - ==================================================
[2025-09-23 15:54:36] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-23 15:54:36] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-23 15:54:36] [INFO] [Database] <module>:63 - ==================================================
[2025-09-23 15:54:36] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-23 15:54:36] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-23 15:54:36] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-23 15:54:36] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-23 15:57:15] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-23 15:57:15] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 15:57:15] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-23 15:57:15] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 15:57:15] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-23 15:57:15] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-23 15:57:15] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-23 15:57:15] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-23 15:57:17] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-23 15:57:17] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 15:57:17] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-23 15:57:17] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 15:57:17] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-23 15:57:17] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-23 15:57:17] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-23 15:57:17] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-23 15:57:19] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-23 15:57:19] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 15:57:19] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-23 15:57:19] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 15:57:19] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-23 15:57:19] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-23 15:57:19] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-23 15:57:19] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-23 15:57:21] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-23 15:57:21] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 15:57:21] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-23 15:57:21] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 15:57:21] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-23 15:57:21] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-23 15:57:21] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-23 15:57:21] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-23 15:57:24] [INFO] [Database] <module>:60 - ==================================================
[2025-09-23 15:57:24] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-23 15:57:24] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-23 15:57:24] [INFO] [Database] <module>:63 - ==================================================
[2025-09-23 15:57:24] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-23 15:57:24] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-23 15:57:24] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-23 15:57:24] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-23 15:57:24] [INFO] [Database] init_db:1406 - ============================================================
[2025-09-23 15:57:24] [INFO] [Database] init_db:1407 - STARTING DATABASE INITIALIZATION
[2025-09-23 15:57:24] [INFO] [Database] init_db:1408 - ============================================================
[2025-09-23 15:57:24] [INFO] [Database] init_db:1432 - Verifying database connectivity...
[2025-09-23 15:57:24] [INFO] [Database] init_db:1435 - ✅ Database connectivity verified
[2025-09-23 15:57:24] [DEBUG] [Database] init_db:1440 - Initializing Users table...
[2025-09-23 15:57:24] [INFO] [Database] init_users_table:216 - Initializing users table
[2025-09-23 15:57:24] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-23 15:57:24] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-23 15:57:24] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-23 15:57:24] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-23 15:57:24] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-23 15:57:24] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.001s: duplicate column name: anilist_username
[2025-09-23 15:57:24] [DEBUG] [Database] init_users_table:249 - Column 'anilist_username' already exists in users table
[2025-09-23 15:57:24] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-23 15:57:24] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-23 15:57:24] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.001s: duplicate column name: anilist_id
[2025-09-23 15:57:24] [DEBUG] [Database] init_users_table:249 - Column 'anilist_id' already exists in users table
[2025-09-23 15:57:24] [DEBUG] [Database] execute_db_operation:115 - Executing add guild_id column to users
[2025-09-23 15:57:24] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN guild_id INTEGER
[2025-09-23 15:57:24] [ERROR] [Database] execute_db_operation:156 - add guild_id column to users failed after 0.001s: duplicate column name: guild_id
[2025-09-23 15:57:24] [DEBUG] [Database] init_users_table:249 - Column 'guild_id' already exists in users table
[2025-09-23 15:57:24] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-23 15:57:24] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 15:57:24] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.001s: duplicate column name: created_at
[2025-09-23 15:57:24] [DEBUG] [Database] init_users_table:249 - Column 'created_at' already exists in users table
[2025-09-23 15:57:24] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-23 15:57:24] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 15:57:24] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.001s: duplicate column name: updated_at
[2025-09-23 15:57:24] [DEBUG] [Database] init_users_table:249 - Column 'updated_at' already exists in users table
[2025-09-23 15:57:24] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-23 15:57:24] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 15:57:24] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.002s
[2025-09-23 15:57:24] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 15:57:24] [DEBUG] [Database] init_users_table:256 - Users table schema: 8 columns
[2025-09-23 15:57:24] [DEBUG] [Database] init_users_table:258 -   Column: id (INTEGER)
[2025-09-23 15:57:24] [DEBUG] [Database] init_users_table:258 -   Column: discord_id (INTEGER)
[2025-09-23 15:57:24] [DEBUG] [Database] init_users_table:258 -   Column: guild_id (INTEGER)
[2025-09-23 15:57:24] [DEBUG] [Database] init_users_table:258 -   Column: username (TEXT)
[2025-09-23 15:57:24] [DEBUG] [Database] init_users_table:258 -   Column: anilist_username (TEXT)
[2025-09-23 15:57:24] [DEBUG] [Database] init_users_table:258 -   Column: anilist_id (INTEGER)
[2025-09-23 15:57:24] [DEBUG] [Database] init_users_table:258 -   Column: created_at (DATETIME)
[2025-09-23 15:57:24] [DEBUG] [Database] init_users_table:258 -   Column: updated_at (DATETIME)
[2025-09-23 15:57:24] [DEBUG] [Database] execute_db_operation:115 - Executing check guild_id usage
[2025-09-23 15:57:24] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT COUNT(*) FROM users WHERE guild_id IS NOT NULL
[2025-09-23 15:57:24] [DEBUG] [Database] execute_db_operation:142 - check guild_id usage completed in 0.002s
[2025-09-23 15:57:24] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-23 15:57:24] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 1
[2025-09-23 15:57:24] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-23 15:57:24] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 1, 'test1')
[2025-09-23 15:57:24] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 1 completed in 0.005s
[2025-09-23 15:57:24] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 2
[2025-09-23 15:57:24] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-23 15:57:24] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 2, 'test2')
[2025-09-23 15:57:24] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 2 completed in 0.005s
[2025-09-23 15:57:24] [DEBUG] [Database] execute_db_operation:115 - Executing cleanup test data
[2025-09-23 15:57:24] [DEBUG] [Database] execute_db_operation:116 - Query: DELETE FROM users WHERE discord_id = ?
[2025-09-23 15:57:24] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999,)
[2025-09-23 15:57:24] [DEBUG] [Database] execute_db_operation:142 - cleanup test data completed in 0.005s
[2025-09-23 15:57:24] [INFO] [Database] init_users_table:296 - ✅ Multi-guild support confirmed - table supports multiple guilds per user
[2025-09-23 15:57:24] [INFO] [Database] init_users_table:310 - ✅ Users table initialization completed successfully
[2025-09-23 15:57:24] [DEBUG] [Database] init_db:1443 - ✅ Users table initialized successfully
[2025-09-23 15:57:24] [DEBUG] [Database] init_db:1440 - Initializing Challenge Rules table...
[2025-09-23 15:57:24] [INFO] [Database] init_challenge_rules_table:759 - Initializing challenge rules table
[2025-09-23 15:57:24] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-23 15:57:24] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-23 15:57:24] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.003s
[2025-09-23 15:57:24] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-23 15:57:24] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 15:57:24] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.002s: Cannot add a column with non-constant default
[2025-09-23 15:57:24] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-23 15:57:24] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 15:57:24] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.002s: Cannot add a column with non-constant default
[2025-09-23 15:57:24] [INFO] [Database] init_challenge_rules_table:783 - ✅ Challenge rules table initialization completed
[2025-09-23 15:57:24] [DEBUG] [Database] init_db:1443 - ✅ Challenge Rules table initialized successfully
[2025-09-23 15:57:24] [DEBUG] [Database] init_db:1440 - Initializing Recommendation Votes table...
[2025-09-23 15:57:24] [INFO] [Database] init_recommendation_votes_table:851 - Manga recommendation votes table ready.
[2025-09-23 15:57:24] [DEBUG] [Database] init_db:1443 - ✅ Recommendation Votes table initialized successfully
[2025-09-23 15:57:24] [DEBUG] [Database] init_db:1440 - Initializing User Stats table...
[2025-09-23 15:57:24] [INFO] [Database] init_user_stats_table:869 - User stats table ready.
[2025-09-23 15:57:24] [DEBUG] [Database] init_db:1443 - ✅ User Stats table initialized successfully
[2025-09-23 15:57:24] [DEBUG] [Database] init_db:1440 - Initializing Achievements table...
[2025-09-23 15:57:24] [INFO] [Database] init_achievements_table:885 - Achievements table ready.
[2025-09-23 15:57:24] [DEBUG] [Database] init_db:1443 - ✅ Achievements table initialized successfully
[2025-09-23 15:57:24] [DEBUG] [Database] init_db:1440 - Initializing User Manga Progress table...
[2025-09-23 15:57:24] [INFO] [Database] init_user_manga_progress_table:921 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-23 15:57:24] [DEBUG] [Database] init_db:1443 - ✅ User Manga Progress table initialized successfully
[2025-09-23 15:57:24] [DEBUG] [Database] init_db:1440 - Initializing Manga Challenges table...
[2025-09-23 15:57:24] [DEBUG] [Database] init_db:1443 - ✅ Manga Challenges table initialized successfully
[2025-09-23 15:57:24] [DEBUG] [Database] init_db:1440 - Initializing User Progress table...
[2025-09-23 15:57:24] [DEBUG] [Database] init_db:1443 - ✅ User Progress table initialized successfully
[2025-09-23 15:57:24] [DEBUG] [Database] init_db:1440 - Initializing Global Challenges table...
[2025-09-23 15:57:24] [INFO] [Database] init_global_challenges_table:1219 - Global challenges table ready with difficulty column.
[2025-09-23 15:57:24] [DEBUG] [Database] init_db:1443 - ✅ Global Challenges table initialized successfully
[2025-09-23 15:57:24] [DEBUG] [Database] init_db:1440 - Initializing Invite Tracker table...
[2025-09-23 15:57:24] [INFO] [Database] init_invite_tracker_tables:1309 - Initializing invite tracker tables
[2025-09-23 15:57:24] [INFO] [Database] init_invite_tracker_tables:1376 - ✅ Invite tracker tables initialized successfully
[2025-09-23 15:57:24] [DEBUG] [Database] init_db:1443 - ✅ Invite Tracker table initialized successfully
[2025-09-23 15:57:24] [DEBUG] [Database] init_db:1440 - Initializing Steam Users table...
[2025-09-23 15:57:24] [INFO] [Database] init_steam_users_table:1396 - Steam users table ready.
[2025-09-23 15:57:24] [DEBUG] [Database] init_db:1443 - ✅ Steam Users table initialized successfully
[2025-09-23 15:57:24] [DEBUG] [Database] init_db:1440 - Initializing Challenge Manga table...
[2025-09-23 15:57:24] [DEBUG] [Database] init_db:1443 - ✅ Challenge Manga table initialized successfully
[2025-09-23 15:57:24] [INFO] [Database] init_db:1454 - ============================================================
[2025-09-23 15:57:24] [INFO] [Database] init_db:1455 - DATABASE INITIALIZATION SUMMARY
[2025-09-23 15:57:24] [INFO] [Database] init_db:1456 - Total tables: 12
[2025-09-23 15:57:24] [INFO] [Database] init_db:1457 - Successfully initialized: 12
[2025-09-23 15:57:24] [INFO] [Database] init_db:1458 - Failed to initialize: 0
[2025-09-23 15:57:24] [INFO] [Database] init_db:1459 - Total time: 0.06 seconds
[2025-09-23 15:57:24] [INFO] [Database] init_db:1464 - ✅ All database tables initialized successfully
[2025-09-23 15:57:24] [INFO] [Database] init_db:1466 - ============================================================
[2025-09-23 15:57:24] [INFO] [Database] init_db:1471 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-23 15:57:24] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-23 15:57:24] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-23 15:57:24] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.002s
[2025-09-23 15:57:24] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-23 15:57:27] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-23 15:57:27] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 15:57:27] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-23 15:57:27] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 15:57:27] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-23 15:57:27] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-23 15:57:27] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-23 15:57:27] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-23 15:57:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:57:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:57:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-23 15:57:28] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 15:57:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:57:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:57:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-23 15:57:28] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 15:57:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:57:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:57:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-23 15:57:28] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 15:57:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:57:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:57:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-23 15:57:28] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 15:57:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:57:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:57:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-23 15:57:28] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 15:57:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:57:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:57:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-23 15:57:28] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 15:57:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:57:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:57:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-23 15:57:28] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 15:57:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:57:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:57:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-23 15:57:28] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('628xd7Sa', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('A8Un8tA2', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('AWZ4mqN7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417339097411747853, -1, 2)
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BM4TWaw9', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417210716318072944, -1, 1)
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HEGVx495', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HXt8GDc7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417205674059763805, -1, 1)
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HwHu3fKv', 1417205672847736955, 695087864450383912, 'lili', 1417534932724486265, -1, 0)
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.004s
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('Y9Yq7ufy', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, -1, 1)
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('aDWyseRm', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417205674059763805, -1, 1)
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('brpzD6Jm', 1417205672847736955, 336949613464649728, 'rapidecline', 1417310229460418580, -1, 0)
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('fSuFfGvr', 1417205672847736955, 365529294065369088, 'DsF ULYSSE', 1417205674059763805, -1, 0)
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('rRpCcb9N', 1417205672847736955, 964639984667721810, 'Brainy', 1417210265954684968, -1, 0)
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('sSTAtTJH', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417673227366436997, -1, 1)
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vYtDjBux', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vfwD3rVk', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('zFX6KGvA', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417209847346102312, -1, 1)
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-23 15:57:29] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-23 15:57:31] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-23 15:57:31] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 15:57:31] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-23 15:57:31] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 15:57:31] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-23 15:57:31] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-23 15:57:31] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-23 15:57:31] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-23 15:57:33] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-23 15:57:33] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 15:57:33] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-23 15:57:33] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 15:57:33] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-23 15:57:33] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-23 15:57:33] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-23 15:57:33] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-23 15:59:36] [INFO] [Database] <module>:60 - ==================================================
[2025-09-23 15:59:36] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-23 15:59:36] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-23 15:59:36] [INFO] [Database] <module>:63 - ==================================================
[2025-09-23 15:59:36] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-23 15:59:36] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-23 15:59:36] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-23 15:59:36] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-23 16:00:39] [INFO] [Database] <module>:60 - ==================================================
[2025-09-23 16:00:39] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-23 16:00:39] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-23 16:00:39] [INFO] [Database] <module>:63 - ==================================================
[2025-09-23 16:00:39] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-23 16:00:39] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-23 16:00:39] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-23 16:00:39] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-23 16:00:39] [INFO] [Database] init_db:1406 - ============================================================
[2025-09-23 16:00:39] [INFO] [Database] init_db:1407 - STARTING DATABASE INITIALIZATION
[2025-09-23 16:00:39] [INFO] [Database] init_db:1408 - ============================================================
[2025-09-23 16:00:39] [INFO] [Database] init_db:1432 - Verifying database connectivity...
[2025-09-23 16:00:39] [INFO] [Database] init_db:1435 - ✅ Database connectivity verified
[2025-09-23 16:00:39] [DEBUG] [Database] init_db:1440 - Initializing Users table...
[2025-09-23 16:00:39] [INFO] [Database] init_users_table:216 - Initializing users table
[2025-09-23 16:00:39] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-23 16:00:39] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-23 16:00:39] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-23 16:00:39] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-23 16:00:39] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-23 16:00:39] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.001s: duplicate column name: anilist_username
[2025-09-23 16:00:39] [DEBUG] [Database] init_users_table:249 - Column 'anilist_username' already exists in users table
[2025-09-23 16:00:39] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-23 16:00:39] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-23 16:00:39] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.001s: duplicate column name: anilist_id
[2025-09-23 16:00:39] [DEBUG] [Database] init_users_table:249 - Column 'anilist_id' already exists in users table
[2025-09-23 16:00:39] [DEBUG] [Database] execute_db_operation:115 - Executing add guild_id column to users
[2025-09-23 16:00:39] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN guild_id INTEGER
[2025-09-23 16:00:39] [ERROR] [Database] execute_db_operation:156 - add guild_id column to users failed after 0.002s: duplicate column name: guild_id
[2025-09-23 16:00:39] [DEBUG] [Database] init_users_table:249 - Column 'guild_id' already exists in users table
[2025-09-23 16:00:39] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-23 16:00:39] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 16:00:39] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.001s: duplicate column name: created_at
[2025-09-23 16:00:39] [DEBUG] [Database] init_users_table:249 - Column 'created_at' already exists in users table
[2025-09-23 16:00:39] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-23 16:00:39] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 16:00:39] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.001s: duplicate column name: updated_at
[2025-09-23 16:00:39] [DEBUG] [Database] init_users_table:249 - Column 'updated_at' already exists in users table
[2025-09-23 16:00:39] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-23 16:00:39] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 16:00:39] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.002s
[2025-09-23 16:00:39] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 16:00:39] [DEBUG] [Database] init_users_table:256 - Users table schema: 8 columns
[2025-09-23 16:00:39] [DEBUG] [Database] init_users_table:258 -   Column: id (INTEGER)
[2025-09-23 16:00:39] [DEBUG] [Database] init_users_table:258 -   Column: discord_id (INTEGER)
[2025-09-23 16:00:39] [DEBUG] [Database] init_users_table:258 -   Column: guild_id (INTEGER)
[2025-09-23 16:00:39] [DEBUG] [Database] init_users_table:258 -   Column: username (TEXT)
[2025-09-23 16:00:39] [DEBUG] [Database] init_users_table:258 -   Column: anilist_username (TEXT)
[2025-09-23 16:00:39] [DEBUG] [Database] init_users_table:258 -   Column: anilist_id (INTEGER)
[2025-09-23 16:00:39] [DEBUG] [Database] init_users_table:258 -   Column: created_at (DATETIME)
[2025-09-23 16:00:39] [DEBUG] [Database] init_users_table:258 -   Column: updated_at (DATETIME)
[2025-09-23 16:00:39] [DEBUG] [Database] execute_db_operation:115 - Executing check guild_id usage
[2025-09-23 16:00:39] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT COUNT(*) FROM users WHERE guild_id IS NOT NULL
[2025-09-23 16:00:39] [DEBUG] [Database] execute_db_operation:142 - check guild_id usage completed in 0.002s
[2025-09-23 16:00:39] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-23 16:00:39] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 1
[2025-09-23 16:00:39] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-23 16:00:39] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 1, 'test1')
[2025-09-23 16:00:39] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 1 completed in 0.006s
[2025-09-23 16:00:39] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 2
[2025-09-23 16:00:39] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-23 16:00:39] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 2, 'test2')
[2025-09-23 16:00:39] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 2 completed in 0.008s
[2025-09-23 16:00:39] [DEBUG] [Database] execute_db_operation:115 - Executing cleanup test data
[2025-09-23 16:00:39] [DEBUG] [Database] execute_db_operation:116 - Query: DELETE FROM users WHERE discord_id = ?
[2025-09-23 16:00:39] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999,)
[2025-09-23 16:00:39] [DEBUG] [Database] execute_db_operation:142 - cleanup test data completed in 0.005s
[2025-09-23 16:00:39] [INFO] [Database] init_users_table:296 - ✅ Multi-guild support confirmed - table supports multiple guilds per user
[2025-09-23 16:00:39] [INFO] [Database] init_users_table:310 - ✅ Users table initialization completed successfully
[2025-09-23 16:00:39] [DEBUG] [Database] init_db:1443 - ✅ Users table initialized successfully
[2025-09-23 16:00:39] [DEBUG] [Database] init_db:1440 - Initializing Challenge Rules table...
[2025-09-23 16:00:39] [INFO] [Database] init_challenge_rules_table:759 - Initializing challenge rules table
[2025-09-23 16:00:39] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-23 16:00:39] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-23 16:00:39] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.002s
[2025-09-23 16:00:39] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-23 16:00:39] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 16:00:39] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.002s: Cannot add a column with non-constant default
[2025-09-23 16:00:39] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-23 16:00:39] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 16:00:39] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.001s: Cannot add a column with non-constant default
[2025-09-23 16:00:39] [INFO] [Database] init_challenge_rules_table:783 - ✅ Challenge rules table initialization completed
[2025-09-23 16:00:39] [DEBUG] [Database] init_db:1443 - ✅ Challenge Rules table initialized successfully
[2025-09-23 16:00:39] [DEBUG] [Database] init_db:1440 - Initializing Recommendation Votes table...
[2025-09-23 16:00:39] [INFO] [Database] init_recommendation_votes_table:851 - Manga recommendation votes table ready.
[2025-09-23 16:00:39] [DEBUG] [Database] init_db:1443 - ✅ Recommendation Votes table initialized successfully
[2025-09-23 16:00:39] [DEBUG] [Database] init_db:1440 - Initializing User Stats table...
[2025-09-23 16:00:39] [INFO] [Database] init_user_stats_table:869 - User stats table ready.
[2025-09-23 16:00:39] [DEBUG] [Database] init_db:1443 - ✅ User Stats table initialized successfully
[2025-09-23 16:00:39] [DEBUG] [Database] init_db:1440 - Initializing Achievements table...
[2025-09-23 16:00:39] [INFO] [Database] init_achievements_table:885 - Achievements table ready.
[2025-09-23 16:00:39] [DEBUG] [Database] init_db:1443 - ✅ Achievements table initialized successfully
[2025-09-23 16:00:39] [DEBUG] [Database] init_db:1440 - Initializing User Manga Progress table...
[2025-09-23 16:00:39] [INFO] [Database] init_user_manga_progress_table:921 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-23 16:00:39] [DEBUG] [Database] init_db:1443 - ✅ User Manga Progress table initialized successfully
[2025-09-23 16:00:39] [DEBUG] [Database] init_db:1440 - Initializing Manga Challenges table...
[2025-09-23 16:00:39] [DEBUG] [Database] init_db:1443 - ✅ Manga Challenges table initialized successfully
[2025-09-23 16:00:39] [DEBUG] [Database] init_db:1440 - Initializing User Progress table...
[2025-09-23 16:00:39] [DEBUG] [Database] init_db:1443 - ✅ User Progress table initialized successfully
[2025-09-23 16:00:39] [DEBUG] [Database] init_db:1440 - Initializing Global Challenges table...
[2025-09-23 16:00:39] [INFO] [Database] init_global_challenges_table:1219 - Global challenges table ready with difficulty column.
[2025-09-23 16:00:39] [DEBUG] [Database] init_db:1443 - ✅ Global Challenges table initialized successfully
[2025-09-23 16:00:39] [DEBUG] [Database] init_db:1440 - Initializing Invite Tracker table...
[2025-09-23 16:00:39] [INFO] [Database] init_invite_tracker_tables:1309 - Initializing invite tracker tables
[2025-09-23 16:00:39] [INFO] [Database] init_invite_tracker_tables:1376 - ✅ Invite tracker tables initialized successfully
[2025-09-23 16:00:39] [DEBUG] [Database] init_db:1443 - ✅ Invite Tracker table initialized successfully
[2025-09-23 16:00:39] [DEBUG] [Database] init_db:1440 - Initializing Steam Users table...
[2025-09-23 16:00:39] [INFO] [Database] init_steam_users_table:1396 - Steam users table ready.
[2025-09-23 16:00:39] [DEBUG] [Database] init_db:1443 - ✅ Steam Users table initialized successfully
[2025-09-23 16:00:39] [DEBUG] [Database] init_db:1440 - Initializing Challenge Manga table...
[2025-09-23 16:00:39] [DEBUG] [Database] init_db:1443 - ✅ Challenge Manga table initialized successfully
[2025-09-23 16:00:39] [INFO] [Database] init_db:1454 - ============================================================
[2025-09-23 16:00:39] [INFO] [Database] init_db:1455 - DATABASE INITIALIZATION SUMMARY
[2025-09-23 16:00:39] [INFO] [Database] init_db:1456 - Total tables: 12
[2025-09-23 16:00:39] [INFO] [Database] init_db:1457 - Successfully initialized: 12
[2025-09-23 16:00:39] [INFO] [Database] init_db:1458 - Failed to initialize: 0
[2025-09-23 16:00:39] [INFO] [Database] init_db:1459 - Total time: 0.07 seconds
[2025-09-23 16:00:39] [INFO] [Database] init_db:1464 - ✅ All database tables initialized successfully
[2025-09-23 16:00:39] [INFO] [Database] init_db:1466 - ============================================================
[2025-09-23 16:00:39] [INFO] [Database] init_db:1471 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-23 16:00:39] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-23 16:00:39] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-23 16:00:39] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.002s
[2025-09-23 16:00:39] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-23 16:00:43] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-23 16:00:43] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 16:00:43] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-23 16:00:43] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 16:00:43] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-23 16:00:43] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-23 16:00:43] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-23 16:00:43] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-23 16:00:43] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:00:43] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:00:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-23 16:00:43] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:00:43] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:00:43] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:00:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-23 16:00:43] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 16:00:43] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:00:43] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:00:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-23 16:00:43] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:00:43] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:00:43] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:00:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-23 16:00:43] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:00:43] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:00:43] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:00:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-23 16:00:43] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:00:43] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:00:43] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:00:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-23 16:00:43] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:00:43] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:00:43] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:00:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-23 16:00:43] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:00:43] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:00:43] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:00:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-23 16:00:43] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('628xd7Sa', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('A8Un8tA2', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('AWZ4mqN7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417339097411747853, -1, 2)
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BM4TWaw9', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417210716318072944, -1, 1)
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HEGVx495', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HXt8GDc7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417205674059763805, -1, 1)
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HwHu3fKv', 1417205672847736955, 695087864450383912, 'lili', 1417534932724486265, -1, 0)
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('Y9Yq7ufy', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, -1, 1)
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('aDWyseRm', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417205674059763805, -1, 1)
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('brpzD6Jm', 1417205672847736955, 336949613464649728, 'rapidecline', 1417310229460418580, -1, 0)
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('fSuFfGvr', 1417205672847736955, 365529294065369088, 'DsF ULYSSE', 1417205674059763805, -1, 0)
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('rRpCcb9N', 1417205672847736955, 964639984667721810, 'Brainy', 1417210265954684968, -1, 0)
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('sSTAtTJH', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417673227366436997, -1, 1)
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vYtDjBux', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vfwD3rVk', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('zFX6KGvA', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417209847346102312, -1, 1)
[2025-09-23 16:00:44] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:00:45] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-23 16:00:45] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 16:00:45] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-23 16:00:45] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 16:00:45] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-23 16:00:45] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-23 16:00:45] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-23 16:00:45] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-23 16:00:47] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-23 16:00:47] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 16:00:47] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-23 16:00:47] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 16:00:47] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-23 16:00:47] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-23 16:00:47] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-23 16:00:47] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-23 16:00:49] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-23 16:00:49] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 16:00:49] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-23 16:00:49] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 16:00:49] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-23 16:00:49] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-23 16:00:49] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-23 16:00:49] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-23 16:02:49] [INFO] [Database] <module>:60 - ==================================================
[2025-09-23 16:02:49] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-23 16:02:49] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-23 16:02:49] [INFO] [Database] <module>:63 - ==================================================
[2025-09-23 16:02:49] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-23 16:02:49] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-23 16:02:49] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-23 16:02:49] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-23 16:02:49] [DEBUG] [Database] execute_db_operation:115 - Executing check schema
[2025-09-23 16:02:49] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 16:02:49] [DEBUG] [Database] execute_db_operation:142 - check schema completed in 0.002s
[2025-09-23 16:02:49] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 16:03:06] [INFO] [Database] <module>:60 - ==================================================
[2025-09-23 16:03:06] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-23 16:03:06] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-23 16:03:06] [INFO] [Database] <module>:63 - ==================================================
[2025-09-23 16:03:06] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-23 16:03:06] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-23 16:03:06] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-23 16:03:06] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-23 16:03:06] [DEBUG] [Database] execute_db_operation:115 - Executing check schema
[2025-09-23 16:03:06] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 16:03:06] [DEBUG] [Database] execute_db_operation:142 - check schema completed in 0.002s
[2025-09-23 16:03:06] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 16:03:06] [DEBUG] [Database] execute_db_operation:115 - Executing get sample user
[2025-09-23 16:03:06] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users LIMIT 1
[2025-09-23 16:03:06] [DEBUG] [Database] execute_db_operation:142 - get sample user completed in 0.001s
[2025-09-23 16:03:06] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-23 16:03:36] [INFO] [Database] <module>:60 - ==================================================
[2025-09-23 16:03:36] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-23 16:03:36] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-23 16:03:36] [INFO] [Database] <module>:63 - ==================================================
[2025-09-23 16:03:36] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-23 16:03:36] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-23 16:03:36] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-23 16:03:36] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-23 16:03:36] [INFO] [Database] init_db:1406 - ============================================================
[2025-09-23 16:03:36] [INFO] [Database] init_db:1407 - STARTING DATABASE INITIALIZATION
[2025-09-23 16:03:36] [INFO] [Database] init_db:1408 - ============================================================
[2025-09-23 16:03:36] [INFO] [Database] init_db:1432 - Verifying database connectivity...
[2025-09-23 16:03:36] [INFO] [Database] init_db:1435 - ✅ Database connectivity verified
[2025-09-23 16:03:36] [DEBUG] [Database] init_db:1440 - Initializing Users table...
[2025-09-23 16:03:36] [INFO] [Database] init_users_table:216 - Initializing users table
[2025-09-23 16:03:36] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-23 16:03:36] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-23 16:03:36] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-23 16:03:36] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-23 16:03:36] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-23 16:03:36] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.002s: duplicate column name: anilist_username
[2025-09-23 16:03:36] [DEBUG] [Database] init_users_table:249 - Column 'anilist_username' already exists in users table
[2025-09-23 16:03:36] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-23 16:03:36] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-23 16:03:36] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.001s: duplicate column name: anilist_id
[2025-09-23 16:03:36] [DEBUG] [Database] init_users_table:249 - Column 'anilist_id' already exists in users table
[2025-09-23 16:03:36] [DEBUG] [Database] execute_db_operation:115 - Executing add guild_id column to users
[2025-09-23 16:03:36] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN guild_id INTEGER
[2025-09-23 16:03:36] [ERROR] [Database] execute_db_operation:156 - add guild_id column to users failed after 0.001s: duplicate column name: guild_id
[2025-09-23 16:03:36] [DEBUG] [Database] init_users_table:249 - Column 'guild_id' already exists in users table
[2025-09-23 16:03:36] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-23 16:03:36] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 16:03:36] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.001s: duplicate column name: created_at
[2025-09-23 16:03:36] [DEBUG] [Database] init_users_table:249 - Column 'created_at' already exists in users table
[2025-09-23 16:03:36] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-23 16:03:36] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 16:03:36] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.001s: duplicate column name: updated_at
[2025-09-23 16:03:36] [DEBUG] [Database] init_users_table:249 - Column 'updated_at' already exists in users table
[2025-09-23 16:03:36] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-23 16:03:36] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 16:03:36] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.002s
[2025-09-23 16:03:36] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 16:03:36] [DEBUG] [Database] init_users_table:256 - Users table schema: 8 columns
[2025-09-23 16:03:36] [DEBUG] [Database] init_users_table:258 -   Column: id (INTEGER)
[2025-09-23 16:03:36] [DEBUG] [Database] init_users_table:258 -   Column: discord_id (INTEGER)
[2025-09-23 16:03:36] [DEBUG] [Database] init_users_table:258 -   Column: guild_id (INTEGER)
[2025-09-23 16:03:36] [DEBUG] [Database] init_users_table:258 -   Column: username (TEXT)
[2025-09-23 16:03:36] [DEBUG] [Database] init_users_table:258 -   Column: anilist_username (TEXT)
[2025-09-23 16:03:36] [DEBUG] [Database] init_users_table:258 -   Column: anilist_id (INTEGER)
[2025-09-23 16:03:36] [DEBUG] [Database] init_users_table:258 -   Column: created_at (DATETIME)
[2025-09-23 16:03:36] [DEBUG] [Database] init_users_table:258 -   Column: updated_at (DATETIME)
[2025-09-23 16:03:36] [DEBUG] [Database] execute_db_operation:115 - Executing check guild_id usage
[2025-09-23 16:03:36] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT COUNT(*) FROM users WHERE guild_id IS NOT NULL
[2025-09-23 16:03:36] [DEBUG] [Database] execute_db_operation:142 - check guild_id usage completed in 0.002s
[2025-09-23 16:03:36] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-23 16:03:36] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 1
[2025-09-23 16:03:36] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-23 16:03:36] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 1, 'test1')
[2025-09-23 16:03:36] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 1 completed in 0.007s
[2025-09-23 16:03:36] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 2
[2025-09-23 16:03:36] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-23 16:03:36] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 2, 'test2')
[2025-09-23 16:03:36] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 2 completed in 0.006s
[2025-09-23 16:03:36] [DEBUG] [Database] execute_db_operation:115 - Executing cleanup test data
[2025-09-23 16:03:36] [DEBUG] [Database] execute_db_operation:116 - Query: DELETE FROM users WHERE discord_id = ?
[2025-09-23 16:03:36] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999,)
[2025-09-23 16:03:36] [DEBUG] [Database] execute_db_operation:142 - cleanup test data completed in 0.005s
[2025-09-23 16:03:36] [INFO] [Database] init_users_table:296 - ✅ Multi-guild support confirmed - table supports multiple guilds per user
[2025-09-23 16:03:36] [INFO] [Database] init_users_table:310 - ✅ Users table initialization completed successfully
[2025-09-23 16:03:36] [DEBUG] [Database] init_db:1443 - ✅ Users table initialized successfully
[2025-09-23 16:03:36] [DEBUG] [Database] init_db:1440 - Initializing Challenge Rules table...
[2025-09-23 16:03:36] [INFO] [Database] init_challenge_rules_table:759 - Initializing challenge rules table
[2025-09-23 16:03:36] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-23 16:03:36] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-23 16:03:36] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.002s
[2025-09-23 16:03:36] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-23 16:03:36] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 16:03:36] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.001s: Cannot add a column with non-constant default
[2025-09-23 16:03:36] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-23 16:03:36] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 16:03:36] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.002s: Cannot add a column with non-constant default
[2025-09-23 16:03:36] [INFO] [Database] init_challenge_rules_table:783 - ✅ Challenge rules table initialization completed
[2025-09-23 16:03:36] [DEBUG] [Database] init_db:1443 - ✅ Challenge Rules table initialized successfully
[2025-09-23 16:03:36] [DEBUG] [Database] init_db:1440 - Initializing Recommendation Votes table...
[2025-09-23 16:03:36] [INFO] [Database] init_recommendation_votes_table:851 - Manga recommendation votes table ready.
[2025-09-23 16:03:36] [DEBUG] [Database] init_db:1443 - ✅ Recommendation Votes table initialized successfully
[2025-09-23 16:03:36] [DEBUG] [Database] init_db:1440 - Initializing User Stats table...
[2025-09-23 16:03:36] [INFO] [Database] init_user_stats_table:869 - User stats table ready.
[2025-09-23 16:03:36] [DEBUG] [Database] init_db:1443 - ✅ User Stats table initialized successfully
[2025-09-23 16:03:36] [DEBUG] [Database] init_db:1440 - Initializing Achievements table...
[2025-09-23 16:03:36] [INFO] [Database] init_achievements_table:885 - Achievements table ready.
[2025-09-23 16:03:36] [DEBUG] [Database] init_db:1443 - ✅ Achievements table initialized successfully
[2025-09-23 16:03:36] [DEBUG] [Database] init_db:1440 - Initializing User Manga Progress table...
[2025-09-23 16:03:36] [INFO] [Database] init_user_manga_progress_table:921 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-23 16:03:36] [DEBUG] [Database] init_db:1443 - ✅ User Manga Progress table initialized successfully
[2025-09-23 16:03:36] [DEBUG] [Database] init_db:1440 - Initializing Manga Challenges table...
[2025-09-23 16:03:36] [DEBUG] [Database] init_db:1443 - ✅ Manga Challenges table initialized successfully
[2025-09-23 16:03:36] [DEBUG] [Database] init_db:1440 - Initializing User Progress table...
[2025-09-23 16:03:36] [DEBUG] [Database] init_db:1443 - ✅ User Progress table initialized successfully
[2025-09-23 16:03:36] [DEBUG] [Database] init_db:1440 - Initializing Global Challenges table...
[2025-09-23 16:03:36] [INFO] [Database] init_global_challenges_table:1219 - Global challenges table ready with difficulty column.
[2025-09-23 16:03:36] [DEBUG] [Database] init_db:1443 - ✅ Global Challenges table initialized successfully
[2025-09-23 16:03:36] [DEBUG] [Database] init_db:1440 - Initializing Invite Tracker table...
[2025-09-23 16:03:36] [INFO] [Database] init_invite_tracker_tables:1309 - Initializing invite tracker tables
[2025-09-23 16:03:36] [INFO] [Database] init_invite_tracker_tables:1376 - ✅ Invite tracker tables initialized successfully
[2025-09-23 16:03:36] [DEBUG] [Database] init_db:1443 - ✅ Invite Tracker table initialized successfully
[2025-09-23 16:03:36] [DEBUG] [Database] init_db:1440 - Initializing Steam Users table...
[2025-09-23 16:03:36] [INFO] [Database] init_steam_users_table:1396 - Steam users table ready.
[2025-09-23 16:03:36] [DEBUG] [Database] init_db:1443 - ✅ Steam Users table initialized successfully
[2025-09-23 16:03:36] [DEBUG] [Database] init_db:1440 - Initializing Challenge Manga table...
[2025-09-23 16:03:36] [DEBUG] [Database] init_db:1443 - ✅ Challenge Manga table initialized successfully
[2025-09-23 16:03:36] [INFO] [Database] init_db:1454 - ============================================================
[2025-09-23 16:03:36] [INFO] [Database] init_db:1455 - DATABASE INITIALIZATION SUMMARY
[2025-09-23 16:03:36] [INFO] [Database] init_db:1456 - Total tables: 12
[2025-09-23 16:03:36] [INFO] [Database] init_db:1457 - Successfully initialized: 12
[2025-09-23 16:03:36] [INFO] [Database] init_db:1458 - Failed to initialize: 0
[2025-09-23 16:03:36] [INFO] [Database] init_db:1459 - Total time: 0.06 seconds
[2025-09-23 16:03:36] [INFO] [Database] init_db:1464 - ✅ All database tables initialized successfully
[2025-09-23 16:03:36] [INFO] [Database] init_db:1466 - ============================================================
[2025-09-23 16:03:36] [INFO] [Database] init_db:1471 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-23 16:03:37] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-23 16:03:37] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-23 16:03:37] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.002s
[2025-09-23 16:03:37] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-23 16:03:40] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-23 16:03:40] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 16:03:40] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-23 16:03:40] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 16:03:40] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-23 16:03:40] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-23 16:03:40] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-23 16:03:40] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-23 16:03:40] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:03:40] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:03:40] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-23 16:03:40] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:03:40] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:03:40] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:03:40] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-23 16:03:40] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:03:40] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:03:40] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:03:40] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-23 16:03:40] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:03:40] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:03:40] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:03:40] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-23 16:03:40] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 16:03:40] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:03:40] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:03:40] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-23 16:03:40] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:03:40] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:03:40] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:03:40] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-23 16:03:40] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:03:40] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:03:40] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:03:40] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-23 16:03:40] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 16:03:40] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:03:40] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:03:40] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-23 16:03:40] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('628xd7Sa', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('A8Un8tA2', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('AWZ4mqN7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417339097411747853, -1, 2)
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BM4TWaw9', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417210716318072944, -1, 1)
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.004s
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HEGVx495', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HXt8GDc7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417205674059763805, -1, 1)
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HwHu3fKv', 1417205672847736955, 695087864450383912, 'lili', 1417534932724486265, -1, 0)
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('Y9Yq7ufy', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, -1, 1)
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('aDWyseRm', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417205674059763805, -1, 1)
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('brpzD6Jm', 1417205672847736955, 336949613464649728, 'rapidecline', 1417310229460418580, -1, 0)
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('fSuFfGvr', 1417205672847736955, 365529294065369088, 'DsF ULYSSE', 1417205674059763805, -1, 0)
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('rRpCcb9N', 1417205672847736955, 964639984667721810, 'Brainy', 1417210265954684968, -1, 0)
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('sSTAtTJH', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417673227366436997, -1, 1)
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vYtDjBux', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vfwD3rVk', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('zFX6KGvA', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417209847346102312, -1, 1)
[2025-09-23 16:03:41] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:03:42] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-23 16:03:42] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 16:03:42] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-23 16:03:42] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 16:03:42] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-23 16:03:42] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-23 16:03:42] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-23 16:03:42] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-23 16:03:44] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-23 16:03:44] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 16:03:44] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-23 16:03:44] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 16:03:44] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-23 16:03:44] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-23 16:03:44] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-23 16:03:44] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-23 16:03:46] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-23 16:03:46] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 16:03:46] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-23 16:03:46] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 16:03:46] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-23 16:03:46] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-23 16:03:46] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-23 16:03:46] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-23 16:05:23] [INFO] [Database] <module>:60 - ==================================================
[2025-09-23 16:05:23] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-23 16:05:23] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-23 16:05:23] [INFO] [Database] <module>:63 - ==================================================
[2025-09-23 16:05:23] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-23 16:05:23] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-23 16:05:23] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-23 16:05:23] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-23 16:05:23] [INFO] [Database] init_db:1406 - ============================================================
[2025-09-23 16:05:23] [INFO] [Database] init_db:1407 - STARTING DATABASE INITIALIZATION
[2025-09-23 16:05:23] [INFO] [Database] init_db:1408 - ============================================================
[2025-09-23 16:05:23] [INFO] [Database] init_db:1432 - Verifying database connectivity...
[2025-09-23 16:05:23] [INFO] [Database] init_db:1435 - ✅ Database connectivity verified
[2025-09-23 16:05:23] [DEBUG] [Database] init_db:1440 - Initializing Users table...
[2025-09-23 16:05:23] [INFO] [Database] init_users_table:216 - Initializing users table
[2025-09-23 16:05:23] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-23 16:05:23] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-23 16:05:23] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-23 16:05:23] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-23 16:05:23] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-23 16:05:23] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.001s: duplicate column name: anilist_username
[2025-09-23 16:05:23] [DEBUG] [Database] init_users_table:249 - Column 'anilist_username' already exists in users table
[2025-09-23 16:05:23] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-23 16:05:23] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-23 16:05:23] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.002s: duplicate column name: anilist_id
[2025-09-23 16:05:23] [DEBUG] [Database] init_users_table:249 - Column 'anilist_id' already exists in users table
[2025-09-23 16:05:23] [DEBUG] [Database] execute_db_operation:115 - Executing add guild_id column to users
[2025-09-23 16:05:23] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN guild_id INTEGER
[2025-09-23 16:05:23] [ERROR] [Database] execute_db_operation:156 - add guild_id column to users failed after 0.001s: duplicate column name: guild_id
[2025-09-23 16:05:23] [DEBUG] [Database] init_users_table:249 - Column 'guild_id' already exists in users table
[2025-09-23 16:05:23] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-23 16:05:23] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 16:05:23] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.001s: duplicate column name: created_at
[2025-09-23 16:05:23] [DEBUG] [Database] init_users_table:249 - Column 'created_at' already exists in users table
[2025-09-23 16:05:23] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-23 16:05:23] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 16:05:23] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.001s: duplicate column name: updated_at
[2025-09-23 16:05:23] [DEBUG] [Database] init_users_table:249 - Column 'updated_at' already exists in users table
[2025-09-23 16:05:23] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-23 16:05:23] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 16:05:23] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.002s
[2025-09-23 16:05:23] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 16:05:23] [DEBUG] [Database] init_users_table:256 - Users table schema: 8 columns
[2025-09-23 16:05:23] [DEBUG] [Database] init_users_table:258 -   Column: id (INTEGER)
[2025-09-23 16:05:23] [DEBUG] [Database] init_users_table:258 -   Column: discord_id (INTEGER)
[2025-09-23 16:05:23] [DEBUG] [Database] init_users_table:258 -   Column: guild_id (INTEGER)
[2025-09-23 16:05:23] [DEBUG] [Database] init_users_table:258 -   Column: username (TEXT)
[2025-09-23 16:05:23] [DEBUG] [Database] init_users_table:258 -   Column: anilist_username (TEXT)
[2025-09-23 16:05:23] [DEBUG] [Database] init_users_table:258 -   Column: anilist_id (INTEGER)
[2025-09-23 16:05:23] [DEBUG] [Database] init_users_table:258 -   Column: created_at (DATETIME)
[2025-09-23 16:05:23] [DEBUG] [Database] init_users_table:258 -   Column: updated_at (DATETIME)
[2025-09-23 16:05:23] [DEBUG] [Database] execute_db_operation:115 - Executing check guild_id usage
[2025-09-23 16:05:23] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT COUNT(*) FROM users WHERE guild_id IS NOT NULL
[2025-09-23 16:05:23] [DEBUG] [Database] execute_db_operation:142 - check guild_id usage completed in 0.002s
[2025-09-23 16:05:23] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-23 16:05:23] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 1
[2025-09-23 16:05:23] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-23 16:05:23] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 1, 'test1')
[2025-09-23 16:05:23] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 1 completed in 0.005s
[2025-09-23 16:05:23] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 2
[2025-09-23 16:05:23] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-23 16:05:23] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 2, 'test2')
[2025-09-23 16:05:23] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 2 completed in 0.005s
[2025-09-23 16:05:23] [DEBUG] [Database] execute_db_operation:115 - Executing cleanup test data
[2025-09-23 16:05:23] [DEBUG] [Database] execute_db_operation:116 - Query: DELETE FROM users WHERE discord_id = ?
[2025-09-23 16:05:23] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999,)
[2025-09-23 16:05:23] [DEBUG] [Database] execute_db_operation:142 - cleanup test data completed in 0.005s
[2025-09-23 16:05:23] [INFO] [Database] init_users_table:296 - ✅ Multi-guild support confirmed - table supports multiple guilds per user
[2025-09-23 16:05:23] [INFO] [Database] init_users_table:310 - ✅ Users table initialization completed successfully
[2025-09-23 16:05:23] [DEBUG] [Database] init_db:1443 - ✅ Users table initialized successfully
[2025-09-23 16:05:23] [DEBUG] [Database] init_db:1440 - Initializing Challenge Rules table...
[2025-09-23 16:05:23] [INFO] [Database] init_challenge_rules_table:759 - Initializing challenge rules table
[2025-09-23 16:05:23] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-23 16:05:23] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-23 16:05:23] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.002s
[2025-09-23 16:05:23] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-23 16:05:23] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 16:05:23] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.002s: Cannot add a column with non-constant default
[2025-09-23 16:05:23] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-23 16:05:23] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 16:05:23] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.002s: Cannot add a column with non-constant default
[2025-09-23 16:05:23] [INFO] [Database] init_challenge_rules_table:783 - ✅ Challenge rules table initialization completed
[2025-09-23 16:05:23] [DEBUG] [Database] init_db:1443 - ✅ Challenge Rules table initialized successfully
[2025-09-23 16:05:23] [DEBUG] [Database] init_db:1440 - Initializing Recommendation Votes table...
[2025-09-23 16:05:23] [INFO] [Database] init_recommendation_votes_table:851 - Manga recommendation votes table ready.
[2025-09-23 16:05:23] [DEBUG] [Database] init_db:1443 - ✅ Recommendation Votes table initialized successfully
[2025-09-23 16:05:23] [DEBUG] [Database] init_db:1440 - Initializing User Stats table...
[2025-09-23 16:05:23] [INFO] [Database] init_user_stats_table:869 - User stats table ready.
[2025-09-23 16:05:23] [DEBUG] [Database] init_db:1443 - ✅ User Stats table initialized successfully
[2025-09-23 16:05:23] [DEBUG] [Database] init_db:1440 - Initializing Achievements table...
[2025-09-23 16:05:23] [INFO] [Database] init_achievements_table:885 - Achievements table ready.
[2025-09-23 16:05:23] [DEBUG] [Database] init_db:1443 - ✅ Achievements table initialized successfully
[2025-09-23 16:05:23] [DEBUG] [Database] init_db:1440 - Initializing User Manga Progress table...
[2025-09-23 16:05:23] [INFO] [Database] init_user_manga_progress_table:921 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-23 16:05:23] [DEBUG] [Database] init_db:1443 - ✅ User Manga Progress table initialized successfully
[2025-09-23 16:05:23] [DEBUG] [Database] init_db:1440 - Initializing Manga Challenges table...
[2025-09-23 16:05:23] [DEBUG] [Database] init_db:1443 - ✅ Manga Challenges table initialized successfully
[2025-09-23 16:05:23] [DEBUG] [Database] init_db:1440 - Initializing User Progress table...
[2025-09-23 16:05:23] [DEBUG] [Database] init_db:1443 - ✅ User Progress table initialized successfully
[2025-09-23 16:05:23] [DEBUG] [Database] init_db:1440 - Initializing Global Challenges table...
[2025-09-23 16:05:23] [INFO] [Database] init_global_challenges_table:1219 - Global challenges table ready with difficulty column.
[2025-09-23 16:05:23] [DEBUG] [Database] init_db:1443 - ✅ Global Challenges table initialized successfully
[2025-09-23 16:05:23] [DEBUG] [Database] init_db:1440 - Initializing Invite Tracker table...
[2025-09-23 16:05:23] [INFO] [Database] init_invite_tracker_tables:1309 - Initializing invite tracker tables
[2025-09-23 16:05:23] [INFO] [Database] init_invite_tracker_tables:1376 - ✅ Invite tracker tables initialized successfully
[2025-09-23 16:05:23] [DEBUG] [Database] init_db:1443 - ✅ Invite Tracker table initialized successfully
[2025-09-23 16:05:23] [DEBUG] [Database] init_db:1440 - Initializing Steam Users table...
[2025-09-23 16:05:23] [INFO] [Database] init_steam_users_table:1396 - Steam users table ready.
[2025-09-23 16:05:23] [DEBUG] [Database] init_db:1443 - ✅ Steam Users table initialized successfully
[2025-09-23 16:05:23] [DEBUG] [Database] init_db:1440 - Initializing Challenge Manga table...
[2025-09-23 16:05:23] [DEBUG] [Database] init_db:1443 - ✅ Challenge Manga table initialized successfully
[2025-09-23 16:05:23] [INFO] [Database] init_db:1454 - ============================================================
[2025-09-23 16:05:23] [INFO] [Database] init_db:1455 - DATABASE INITIALIZATION SUMMARY
[2025-09-23 16:05:23] [INFO] [Database] init_db:1456 - Total tables: 12
[2025-09-23 16:05:23] [INFO] [Database] init_db:1457 - Successfully initialized: 12
[2025-09-23 16:05:23] [INFO] [Database] init_db:1458 - Failed to initialize: 0
[2025-09-23 16:05:23] [INFO] [Database] init_db:1459 - Total time: 0.06 seconds
[2025-09-23 16:05:23] [INFO] [Database] init_db:1464 - ✅ All database tables initialized successfully
[2025-09-23 16:05:23] [INFO] [Database] init_db:1466 - ============================================================
[2025-09-23 16:05:23] [INFO] [Database] init_db:1471 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-23 16:05:23] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-23 16:05:23] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-23 16:05:23] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.002s
[2025-09-23 16:05:23] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-23 16:05:26] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-23 16:05:26] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 16:05:26] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-23 16:05:26] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 16:05:26] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-23 16:05:26] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-23 16:05:26] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-23 16:05:26] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-23 16:05:26] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:05:26] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:05:26] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-23 16:05:26] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:05:26] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:05:26] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:05:26] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-23 16:05:26] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 16:05:26] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:05:26] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:05:26] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-23 16:05:26] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 16:05:26] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:05:26] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:05:26] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-23 16:05:26] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 16:05:26] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:05:26] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:05:26] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-23 16:05:26] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 16:05:26] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:05:26] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:05:26] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-23 16:05:26] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 16:05:26] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:05:26] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:05:26] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-23 16:05:26] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 16:05:26] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:05:26] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:05:26] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-23 16:05:26] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('628xd7Sa', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('A8Un8tA2', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('AWZ4mqN7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417339097411747853, -1, 2)
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BM4TWaw9', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417210716318072944, -1, 1)
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HEGVx495', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HXt8GDc7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417205674059763805, -1, 1)
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HwHu3fKv', 1417205672847736955, 695087864450383912, 'lili', 1417534932724486265, -1, 0)
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('Y9Yq7ufy', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, -1, 1)
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('aDWyseRm', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417205674059763805, -1, 1)
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('brpzD6Jm', 1417205672847736955, 336949613464649728, 'rapidecline', 1417310229460418580, -1, 0)
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('fSuFfGvr', 1417205672847736955, 365529294065369088, 'DsF ULYSSE', 1417205674059763805, -1, 0)
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('rRpCcb9N', 1417205672847736955, 964639984667721810, 'Brainy', 1417210265954684968, -1, 0)
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('sSTAtTJH', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417673227366436997, -1, 1)
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vYtDjBux', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vfwD3rVk', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('zFX6KGvA', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417209847346102312, -1, 1)
[2025-09-23 16:05:27] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 16:05:28] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-23 16:05:28] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 16:05:28] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-23 16:05:28] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 16:05:28] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-23 16:05:28] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-23 16:05:28] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-23 16:05:28] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-23 16:05:30] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-23 16:05:30] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 16:05:30] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-23 16:05:30] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 16:05:30] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-23 16:05:30] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-23 16:05:30] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-23 16:05:30] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-23 16:05:32] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-23 16:05:32] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 16:05:32] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-23 16:05:32] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 16:05:32] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-23 16:05:32] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-23 16:05:32] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-23 16:05:32] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-23 16:08:55] [INFO] [Database] <module>:60 - ==================================================
[2025-09-23 16:08:55] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-23 16:08:55] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-23 16:08:55] [INFO] [Database] <module>:63 - ==================================================
[2025-09-23 16:08:55] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-23 16:08:55] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-23 16:08:55] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-23 16:08:55] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-23 16:08:55] [INFO] [Database] init_db:1406 - ============================================================
[2025-09-23 16:08:55] [INFO] [Database] init_db:1407 - STARTING DATABASE INITIALIZATION
[2025-09-23 16:08:55] [INFO] [Database] init_db:1408 - ============================================================
[2025-09-23 16:08:55] [INFO] [Database] init_db:1432 - Verifying database connectivity...
[2025-09-23 16:08:55] [INFO] [Database] init_db:1435 - ✅ Database connectivity verified
[2025-09-23 16:08:55] [DEBUG] [Database] init_db:1440 - Initializing Users table...
[2025-09-23 16:08:55] [INFO] [Database] init_users_table:216 - Initializing users table
[2025-09-23 16:08:55] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-23 16:08:55] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-23 16:08:55] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.001s
[2025-09-23 16:08:55] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-23 16:08:55] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-23 16:08:55] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.002s: duplicate column name: anilist_username
[2025-09-23 16:08:55] [DEBUG] [Database] init_users_table:249 - Column 'anilist_username' already exists in users table
[2025-09-23 16:08:55] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-23 16:08:55] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-23 16:08:55] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.001s: duplicate column name: anilist_id
[2025-09-23 16:08:55] [DEBUG] [Database] init_users_table:249 - Column 'anilist_id' already exists in users table
[2025-09-23 16:08:55] [DEBUG] [Database] execute_db_operation:115 - Executing add guild_id column to users
[2025-09-23 16:08:55] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN guild_id INTEGER
[2025-09-23 16:08:55] [ERROR] [Database] execute_db_operation:156 - add guild_id column to users failed after 0.001s: duplicate column name: guild_id
[2025-09-23 16:08:55] [DEBUG] [Database] init_users_table:249 - Column 'guild_id' already exists in users table
[2025-09-23 16:08:55] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-23 16:08:55] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 16:08:55] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.002s: duplicate column name: created_at
[2025-09-23 16:08:55] [DEBUG] [Database] init_users_table:249 - Column 'created_at' already exists in users table
[2025-09-23 16:08:55] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-23 16:08:55] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 16:08:55] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.001s: duplicate column name: updated_at
[2025-09-23 16:08:55] [DEBUG] [Database] init_users_table:249 - Column 'updated_at' already exists in users table
[2025-09-23 16:08:55] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-23 16:08:55] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 16:08:55] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.001s
[2025-09-23 16:08:55] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 16:08:55] [DEBUG] [Database] init_users_table:256 - Users table schema: 8 columns
[2025-09-23 16:08:55] [DEBUG] [Database] init_users_table:258 -   Column: id (INTEGER)
[2025-09-23 16:08:55] [DEBUG] [Database] init_users_table:258 -   Column: discord_id (INTEGER)
[2025-09-23 16:08:55] [DEBUG] [Database] init_users_table:258 -   Column: guild_id (INTEGER)
[2025-09-23 16:08:55] [DEBUG] [Database] init_users_table:258 -   Column: username (TEXT)
[2025-09-23 16:08:55] [DEBUG] [Database] init_users_table:258 -   Column: anilist_username (TEXT)
[2025-09-23 16:08:55] [DEBUG] [Database] init_users_table:258 -   Column: anilist_id (INTEGER)
[2025-09-23 16:08:55] [DEBUG] [Database] init_users_table:258 -   Column: created_at (DATETIME)
[2025-09-23 16:08:55] [DEBUG] [Database] init_users_table:258 -   Column: updated_at (DATETIME)
[2025-09-23 16:08:55] [DEBUG] [Database] execute_db_operation:115 - Executing check guild_id usage
[2025-09-23 16:08:55] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT COUNT(*) FROM users WHERE guild_id IS NOT NULL
[2025-09-23 16:08:55] [DEBUG] [Database] execute_db_operation:142 - check guild_id usage completed in 0.002s
[2025-09-23 16:08:55] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-23 16:08:55] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 1
[2025-09-23 16:08:55] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-23 16:08:55] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 1, 'test1')
[2025-09-23 16:08:55] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 1 completed in 0.006s
[2025-09-23 16:08:55] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 2
[2025-09-23 16:08:55] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-23 16:08:55] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 2, 'test2')
[2025-09-23 16:08:55] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 2 completed in 0.005s
[2025-09-23 16:08:55] [DEBUG] [Database] execute_db_operation:115 - Executing cleanup test data
[2025-09-23 16:08:55] [DEBUG] [Database] execute_db_operation:116 - Query: DELETE FROM users WHERE discord_id = ?
[2025-09-23 16:08:55] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999,)
[2025-09-23 16:08:55] [DEBUG] [Database] execute_db_operation:142 - cleanup test data completed in 0.006s
[2025-09-23 16:08:55] [INFO] [Database] init_users_table:296 - ✅ Multi-guild support confirmed - table supports multiple guilds per user
[2025-09-23 16:08:55] [INFO] [Database] init_users_table:310 - ✅ Users table initialization completed successfully
[2025-09-23 16:08:55] [DEBUG] [Database] init_db:1443 - ✅ Users table initialized successfully
[2025-09-23 16:08:55] [DEBUG] [Database] init_db:1440 - Initializing Challenge Rules table...
[2025-09-23 16:08:55] [INFO] [Database] init_challenge_rules_table:759 - Initializing challenge rules table
[2025-09-23 16:08:55] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-23 16:08:55] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-23 16:08:55] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.002s
[2025-09-23 16:08:55] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-23 16:08:55] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 16:08:55] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.002s: Cannot add a column with non-constant default
[2025-09-23 16:08:55] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-23 16:08:55] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 16:08:55] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.001s: Cannot add a column with non-constant default
[2025-09-23 16:08:55] [INFO] [Database] init_challenge_rules_table:783 - ✅ Challenge rules table initialization completed
[2025-09-23 16:08:55] [DEBUG] [Database] init_db:1443 - ✅ Challenge Rules table initialized successfully
[2025-09-23 16:08:55] [DEBUG] [Database] init_db:1440 - Initializing Recommendation Votes table...
[2025-09-23 16:08:55] [INFO] [Database] init_recommendation_votes_table:851 - Manga recommendation votes table ready.
[2025-09-23 16:08:55] [DEBUG] [Database] init_db:1443 - ✅ Recommendation Votes table initialized successfully
[2025-09-23 16:08:55] [DEBUG] [Database] init_db:1440 - Initializing User Stats table...
[2025-09-23 16:08:55] [INFO] [Database] init_user_stats_table:869 - User stats table ready.
[2025-09-23 16:08:55] [DEBUG] [Database] init_db:1443 - ✅ User Stats table initialized successfully
[2025-09-23 16:08:55] [DEBUG] [Database] init_db:1440 - Initializing Achievements table...
[2025-09-23 16:08:55] [INFO] [Database] init_achievements_table:885 - Achievements table ready.
[2025-09-23 16:08:55] [DEBUG] [Database] init_db:1443 - ✅ Achievements table initialized successfully
[2025-09-23 16:08:55] [DEBUG] [Database] init_db:1440 - Initializing User Manga Progress table...
[2025-09-23 16:08:55] [INFO] [Database] init_user_manga_progress_table:921 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-23 16:08:55] [DEBUG] [Database] init_db:1443 - ✅ User Manga Progress table initialized successfully
[2025-09-23 16:08:55] [DEBUG] [Database] init_db:1440 - Initializing Manga Challenges table...
[2025-09-23 16:08:55] [DEBUG] [Database] init_db:1443 - ✅ Manga Challenges table initialized successfully
[2025-09-23 16:08:55] [DEBUG] [Database] init_db:1440 - Initializing User Progress table...
[2025-09-23 16:08:55] [DEBUG] [Database] init_db:1443 - ✅ User Progress table initialized successfully
[2025-09-23 16:08:55] [DEBUG] [Database] init_db:1440 - Initializing Global Challenges table...
[2025-09-23 16:08:55] [INFO] [Database] init_global_challenges_table:1219 - Global challenges table ready with difficulty column.
[2025-09-23 16:08:55] [DEBUG] [Database] init_db:1443 - ✅ Global Challenges table initialized successfully
[2025-09-23 16:08:55] [DEBUG] [Database] init_db:1440 - Initializing Invite Tracker table...
[2025-09-23 16:08:55] [INFO] [Database] init_invite_tracker_tables:1309 - Initializing invite tracker tables
[2025-09-23 16:08:55] [INFO] [Database] init_invite_tracker_tables:1376 - ✅ Invite tracker tables initialized successfully
[2025-09-23 16:08:55] [DEBUG] [Database] init_db:1443 - ✅ Invite Tracker table initialized successfully
[2025-09-23 16:08:55] [DEBUG] [Database] init_db:1440 - Initializing Steam Users table...
[2025-09-23 16:08:55] [INFO] [Database] init_steam_users_table:1396 - Steam users table ready.
[2025-09-23 16:08:55] [DEBUG] [Database] init_db:1443 - ✅ Steam Users table initialized successfully
[2025-09-23 16:08:55] [DEBUG] [Database] init_db:1440 - Initializing Challenge Manga table...
[2025-09-23 16:08:55] [DEBUG] [Database] init_db:1443 - ✅ Challenge Manga table initialized successfully
[2025-09-23 16:08:55] [INFO] [Database] init_db:1454 - ============================================================
[2025-09-23 16:08:55] [INFO] [Database] init_db:1455 - DATABASE INITIALIZATION SUMMARY
[2025-09-23 16:08:55] [INFO] [Database] init_db:1456 - Total tables: 12
[2025-09-23 16:08:55] [INFO] [Database] init_db:1457 - Successfully initialized: 12
[2025-09-23 16:08:55] [INFO] [Database] init_db:1458 - Failed to initialize: 0
[2025-09-23 16:08:55] [INFO] [Database] init_db:1459 - Total time: 0.06 seconds
[2025-09-23 16:08:55] [INFO] [Database] init_db:1464 - ✅ All database tables initialized successfully
[2025-09-23 16:08:55] [INFO] [Database] init_db:1466 - ============================================================
[2025-09-23 16:08:55] [INFO] [Database] init_db:1471 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-23 16:08:55] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-23 16:08:55] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-23 16:08:55] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.002s
[2025-09-23 16:08:55] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-23 16:08:58] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-23 16:08:58] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 16:08:58] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-23 16:08:58] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 16:08:58] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-23 16:08:58] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-23 16:08:58] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-23 16:08:58] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('628xd7Sa', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('A8Un8tA2', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('AWZ4mqN7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417339097411747853, -1, 2)
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BM4TWaw9', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417210716318072944, -1, 1)
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HEGVx495', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:08:59] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HXt8GDc7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417205674059763805, -1, 1)
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HwHu3fKv', 1417205672847736955, 695087864450383912, 'lili', 1417534932724486265, -1, 0)
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('Y9Yq7ufy', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, -1, 1)
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('aDWyseRm', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417205674059763805, -1, 1)
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('brpzD6Jm', 1417205672847736955, 336949613464649728, 'rapidecline', 1417310229460418580, -1, 0)
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('fSuFfGvr', 1417205672847736955, 365529294065369088, 'DsF ULYSSE', 1417205674059763805, -1, 0)
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('rRpCcb9N', 1417205672847736955, 964639984667721810, 'Brainy', 1417210265954684968, -1, 0)
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('sSTAtTJH', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417673227366436997, -1, 1)
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vYtDjBux', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vfwD3rVk', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('zFX6KGvA', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417209847346102312, -1, 1)
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-23 16:09:00] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-23 16:09:02] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-23 16:09:02] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 16:09:02] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-23 16:09:02] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 16:09:02] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-23 16:09:02] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-23 16:09:02] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-23 16:09:02] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-23 16:09:04] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-23 16:09:04] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 16:09:04] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-23 16:09:04] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 16:09:04] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-23 16:09:04] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-23 16:09:04] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-23 16:09:04] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-23 16:09:27] [DEBUG] [Database] get_user_guild_aware:443 - Retrieving user data for Discord ID: 1419744000977403994 in guild: 897814031346319382
[2025-09-23 16:09:27] [DEBUG] [Database] execute_db_operation:115 - Executing get user 1419744000977403994 from guild 897814031346319382
[2025-09-23 16:09:27] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE discord_id = ? AND guild_id = ?
[2025-09-23 16:09:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: (1419744000977403994, 897814031346319382)
[2025-09-23 16:09:27] [DEBUG] [Database] execute_db_operation:142 - get user 1419744000977403994 from guild 897814031346319382 completed in 0.002s
[2025-09-23 16:09:27] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-23 16:09:27] [DEBUG] [Database] get_user_guild_aware:460 - ✅ Found user: slopking._ (ID: 26) in guild 897814031346319382
[2025-09-23 16:12:22] [INFO] [Database] <module>:60 - ==================================================
[2025-09-23 16:12:22] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-23 16:12:22] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-23 16:12:22] [INFO] [Database] <module>:63 - ==================================================
[2025-09-23 16:12:22] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-23 16:12:22] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-23 16:12:22] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-23 16:12:22] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-23 16:14:37] [INFO] [Database] <module>:60 - ==================================================
[2025-09-23 16:14:37] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-23 16:14:37] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-23 16:14:37] [INFO] [Database] <module>:63 - ==================================================
[2025-09-23 16:14:37] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-23 16:14:37] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-23 16:14:37] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-23 16:14:37] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-23 16:15:07] [DEBUG] [Database] get_user_guild_aware:443 - Retrieving user data for Discord ID: 331164413623009281 in guild: 897814031346319382
[2025-09-23 16:15:07] [DEBUG] [Database] execute_db_operation:115 - Executing get user 331164413623009281 from guild 897814031346319382
[2025-09-23 16:15:07] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE discord_id = ? AND guild_id = ?
[2025-09-23 16:15:07] [DEBUG] [Database] execute_db_operation:118 - Parameters: (331164413623009281, 897814031346319382)
[2025-09-23 16:15:07] [DEBUG] [Database] execute_db_operation:142 - get user 331164413623009281 from guild 897814031346319382 completed in 0.002s
[2025-09-23 16:15:07] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-23 16:15:07] [DEBUG] [Database] get_user_guild_aware:460 - ✅ Found user: Kyerstorm (ID: 1) in guild 897814031346319382
[2025-09-23 17:09:24] [INFO] [Database] <module>:60 - ==================================================
[2025-09-23 17:09:24] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-23 17:09:24] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-23 17:09:24] [INFO] [Database] <module>:63 - ==================================================
[2025-09-23 17:09:24] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-23 17:09:24] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-23 17:09:24] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-23 17:09:24] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-23 17:09:24] [INFO] [Database] init_db:1406 - ============================================================
[2025-09-23 17:09:24] [INFO] [Database] init_db:1407 - STARTING DATABASE INITIALIZATION
[2025-09-23 17:09:24] [INFO] [Database] init_db:1408 - ============================================================
[2025-09-23 17:09:24] [INFO] [Database] init_db:1432 - Verifying database connectivity...
[2025-09-23 17:09:24] [INFO] [Database] init_db:1435 - ✅ Database connectivity verified
[2025-09-23 17:09:24] [DEBUG] [Database] init_db:1440 - Initializing Users table...
[2025-09-23 17:09:24] [INFO] [Database] init_users_table:216 - Initializing users table
[2025-09-23 17:09:24] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-23 17:09:24] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-23 17:09:24] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-23 17:09:24] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-23 17:09:24] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-23 17:09:24] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.002s: duplicate column name: anilist_username
[2025-09-23 17:09:24] [DEBUG] [Database] init_users_table:249 - Column 'anilist_username' already exists in users table
[2025-09-23 17:09:24] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-23 17:09:24] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-23 17:09:24] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.002s: duplicate column name: anilist_id
[2025-09-23 17:09:24] [DEBUG] [Database] init_users_table:249 - Column 'anilist_id' already exists in users table
[2025-09-23 17:09:24] [DEBUG] [Database] execute_db_operation:115 - Executing add guild_id column to users
[2025-09-23 17:09:24] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN guild_id INTEGER
[2025-09-23 17:09:24] [ERROR] [Database] execute_db_operation:156 - add guild_id column to users failed after 0.001s: duplicate column name: guild_id
[2025-09-23 17:09:24] [DEBUG] [Database] init_users_table:249 - Column 'guild_id' already exists in users table
[2025-09-23 17:09:24] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-23 17:09:24] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 17:09:24] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.001s: duplicate column name: created_at
[2025-09-23 17:09:24] [DEBUG] [Database] init_users_table:249 - Column 'created_at' already exists in users table
[2025-09-23 17:09:24] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-23 17:09:24] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 17:09:24] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.001s: duplicate column name: updated_at
[2025-09-23 17:09:24] [DEBUG] [Database] init_users_table:249 - Column 'updated_at' already exists in users table
[2025-09-23 17:09:24] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-23 17:09:24] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 17:09:24] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.002s
[2025-09-23 17:09:24] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 17:09:24] [DEBUG] [Database] init_users_table:256 - Users table schema: 8 columns
[2025-09-23 17:09:24] [DEBUG] [Database] init_users_table:258 -   Column: id (INTEGER)
[2025-09-23 17:09:24] [DEBUG] [Database] init_users_table:258 -   Column: discord_id (INTEGER)
[2025-09-23 17:09:24] [DEBUG] [Database] init_users_table:258 -   Column: guild_id (INTEGER)
[2025-09-23 17:09:24] [DEBUG] [Database] init_users_table:258 -   Column: username (TEXT)
[2025-09-23 17:09:24] [DEBUG] [Database] init_users_table:258 -   Column: anilist_username (TEXT)
[2025-09-23 17:09:24] [DEBUG] [Database] init_users_table:258 -   Column: anilist_id (INTEGER)
[2025-09-23 17:09:24] [DEBUG] [Database] init_users_table:258 -   Column: created_at (DATETIME)
[2025-09-23 17:09:24] [DEBUG] [Database] init_users_table:258 -   Column: updated_at (DATETIME)
[2025-09-23 17:09:24] [DEBUG] [Database] execute_db_operation:115 - Executing check guild_id usage
[2025-09-23 17:09:24] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT COUNT(*) FROM users WHERE guild_id IS NOT NULL
[2025-09-23 17:09:24] [DEBUG] [Database] execute_db_operation:142 - check guild_id usage completed in 0.002s
[2025-09-23 17:09:24] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-23 17:09:24] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 1
[2025-09-23 17:09:24] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-23 17:09:24] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 1, 'test1')
[2025-09-23 17:09:24] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 1 completed in 0.007s
[2025-09-23 17:09:24] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 2
[2025-09-23 17:09:24] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-23 17:09:24] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 2, 'test2')
[2025-09-23 17:09:24] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 2 completed in 0.006s
[2025-09-23 17:09:24] [DEBUG] [Database] execute_db_operation:115 - Executing cleanup test data
[2025-09-23 17:09:24] [DEBUG] [Database] execute_db_operation:116 - Query: DELETE FROM users WHERE discord_id = ?
[2025-09-23 17:09:24] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999,)
[2025-09-23 17:09:24] [DEBUG] [Database] execute_db_operation:142 - cleanup test data completed in 0.006s
[2025-09-23 17:09:24] [INFO] [Database] init_users_table:296 - ✅ Multi-guild support confirmed - table supports multiple guilds per user
[2025-09-23 17:09:24] [INFO] [Database] init_users_table:310 - ✅ Users table initialization completed successfully
[2025-09-23 17:09:24] [DEBUG] [Database] init_db:1443 - ✅ Users table initialized successfully
[2025-09-23 17:09:24] [DEBUG] [Database] init_db:1440 - Initializing Challenge Rules table...
[2025-09-23 17:09:24] [INFO] [Database] init_challenge_rules_table:759 - Initializing challenge rules table
[2025-09-23 17:09:24] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-23 17:09:24] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-23 17:09:24] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.002s
[2025-09-23 17:09:24] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-23 17:09:24] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 17:09:24] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.002s: Cannot add a column with non-constant default
[2025-09-23 17:09:24] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-23 17:09:24] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 17:09:24] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.001s: Cannot add a column with non-constant default
[2025-09-23 17:09:24] [INFO] [Database] init_challenge_rules_table:783 - ✅ Challenge rules table initialization completed
[2025-09-23 17:09:24] [DEBUG] [Database] init_db:1443 - ✅ Challenge Rules table initialized successfully
[2025-09-23 17:09:24] [DEBUG] [Database] init_db:1440 - Initializing Recommendation Votes table...
[2025-09-23 17:09:24] [INFO] [Database] init_recommendation_votes_table:851 - Manga recommendation votes table ready.
[2025-09-23 17:09:24] [DEBUG] [Database] init_db:1443 - ✅ Recommendation Votes table initialized successfully
[2025-09-23 17:09:24] [DEBUG] [Database] init_db:1440 - Initializing User Stats table...
[2025-09-23 17:09:24] [INFO] [Database] init_user_stats_table:869 - User stats table ready.
[2025-09-23 17:09:24] [DEBUG] [Database] init_db:1443 - ✅ User Stats table initialized successfully
[2025-09-23 17:09:24] [DEBUG] [Database] init_db:1440 - Initializing Achievements table...
[2025-09-23 17:09:24] [INFO] [Database] init_achievements_table:885 - Achievements table ready.
[2025-09-23 17:09:24] [DEBUG] [Database] init_db:1443 - ✅ Achievements table initialized successfully
[2025-09-23 17:09:24] [DEBUG] [Database] init_db:1440 - Initializing User Manga Progress table...
[2025-09-23 17:09:24] [INFO] [Database] init_user_manga_progress_table:921 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-23 17:09:24] [DEBUG] [Database] init_db:1443 - ✅ User Manga Progress table initialized successfully
[2025-09-23 17:09:24] [DEBUG] [Database] init_db:1440 - Initializing Manga Challenges table...
[2025-09-23 17:09:24] [DEBUG] [Database] init_db:1443 - ✅ Manga Challenges table initialized successfully
[2025-09-23 17:09:24] [DEBUG] [Database] init_db:1440 - Initializing User Progress table...
[2025-09-23 17:09:24] [DEBUG] [Database] init_db:1443 - ✅ User Progress table initialized successfully
[2025-09-23 17:09:24] [DEBUG] [Database] init_db:1440 - Initializing Global Challenges table...
[2025-09-23 17:09:24] [INFO] [Database] init_global_challenges_table:1219 - Global challenges table ready with difficulty column.
[2025-09-23 17:09:24] [DEBUG] [Database] init_db:1443 - ✅ Global Challenges table initialized successfully
[2025-09-23 17:09:24] [DEBUG] [Database] init_db:1440 - Initializing Invite Tracker table...
[2025-09-23 17:09:24] [INFO] [Database] init_invite_tracker_tables:1309 - Initializing invite tracker tables
[2025-09-23 17:09:24] [INFO] [Database] init_invite_tracker_tables:1376 - ✅ Invite tracker tables initialized successfully
[2025-09-23 17:09:24] [DEBUG] [Database] init_db:1443 - ✅ Invite Tracker table initialized successfully
[2025-09-23 17:09:24] [DEBUG] [Database] init_db:1440 - Initializing Steam Users table...
[2025-09-23 17:09:24] [INFO] [Database] init_steam_users_table:1396 - Steam users table ready.
[2025-09-23 17:09:24] [DEBUG] [Database] init_db:1443 - ✅ Steam Users table initialized successfully
[2025-09-23 17:09:24] [DEBUG] [Database] init_db:1440 - Initializing Challenge Manga table...
[2025-09-23 17:09:24] [DEBUG] [Database] init_db:1443 - ✅ Challenge Manga table initialized successfully
[2025-09-23 17:09:24] [INFO] [Database] init_db:1454 - ============================================================
[2025-09-23 17:09:24] [INFO] [Database] init_db:1455 - DATABASE INITIALIZATION SUMMARY
[2025-09-23 17:09:24] [INFO] [Database] init_db:1456 - Total tables: 12
[2025-09-23 17:09:24] [INFO] [Database] init_db:1457 - Successfully initialized: 12
[2025-09-23 17:09:24] [INFO] [Database] init_db:1458 - Failed to initialize: 0
[2025-09-23 17:09:24] [INFO] [Database] init_db:1459 - Total time: 0.08 seconds
[2025-09-23 17:09:24] [INFO] [Database] init_db:1464 - ✅ All database tables initialized successfully
[2025-09-23 17:09:24] [INFO] [Database] init_db:1466 - ============================================================
[2025-09-23 17:09:24] [INFO] [Database] init_db:1471 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-23 17:09:24] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-23 17:09:24] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-23 17:09:24] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.002s
[2025-09-23 17:09:24] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-23 17:09:27] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-23 17:09:27] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 17:09:27] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-23 17:09:27] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 17:09:27] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-23 17:09:27] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-23 17:09:27] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-23 17:09:27] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-23 17:09:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 17:09:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 17:09:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-23 17:09:28] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 17:09:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 17:09:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 17:09:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-23 17:09:28] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 17:09:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 17:09:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 17:09:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-23 17:09:28] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 17:09:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 17:09:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 17:09:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-23 17:09:28] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 17:09:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 17:09:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 17:09:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-23 17:09:28] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 17:09:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 17:09:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 17:09:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-23 17:09:28] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 17:09:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 17:09:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 17:09:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-23 17:09:28] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 17:09:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 17:09:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 17:09:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-23 17:09:28] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('628xd7Sa', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('A8Un8tA2', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('AWZ4mqN7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417339097411747853, -1, 2)
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BM4TWaw9', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417210716318072944, -1, 1)
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HEGVx495', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HXt8GDc7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417205674059763805, -1, 1)
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('Y9Yq7ufy', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, -1, 1)
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('aDWyseRm', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417205674059763805, -1, 1)
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('brpzD6Jm', 1417205672847736955, 336949613464649728, 'rapidecline', 1417310229460418580, -1, 0)
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('fSuFfGvr', 1417205672847736955, 365529294065369088, 'DsF ULYSSE', 1417205674059763805, -1, 0)
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('rRpCcb9N', 1417205672847736955, 964639984667721810, 'Brainy', 1417210265954684968, -1, 0)
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('sSTAtTJH', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417673227366436997, -1, 1)
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vYtDjBux', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vfwD3rVk', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('zFX6KGvA', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417209847346102312, -1, 1)
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.004s
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-23 17:09:29] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-23 17:09:31] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-23 17:09:31] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 17:09:31] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-23 17:09:31] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 17:09:31] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-23 17:09:31] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-23 17:09:31] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-23 17:09:31] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-23 17:09:33] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-23 17:09:33] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 17:09:33] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.004s
[2025-09-23 17:09:33] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 17:09:33] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-23 17:09:33] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-23 17:09:33] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.003s
[2025-09-23 17:09:33] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-23 23:59:03] [INFO] [Database] <module>:60 - ==================================================
[2025-09-23 23:59:03] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-23 23:59:03] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-23 23:59:03] [INFO] [Database] <module>:63 - ==================================================
[2025-09-23 23:59:03] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-23 23:59:03] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-23 23:59:03] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-23 23:59:03] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-23 23:59:03] [INFO] [Database] init_db:1406 - ============================================================
[2025-09-23 23:59:03] [INFO] [Database] init_db:1407 - STARTING DATABASE INITIALIZATION
[2025-09-23 23:59:03] [INFO] [Database] init_db:1408 - ============================================================
[2025-09-23 23:59:03] [INFO] [Database] init_db:1432 - Verifying database connectivity...
[2025-09-23 23:59:03] [INFO] [Database] init_db:1435 - ✅ Database connectivity verified
[2025-09-23 23:59:03] [DEBUG] [Database] init_db:1440 - Initializing Users table...
[2025-09-23 23:59:03] [INFO] [Database] init_users_table:216 - Initializing users table
[2025-09-23 23:59:03] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-23 23:59:03] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-23 23:59:03] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-23 23:59:03] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-23 23:59:03] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-23 23:59:03] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.003s: duplicate column name: anilist_username
[2025-09-23 23:59:03] [DEBUG] [Database] init_users_table:249 - Column 'anilist_username' already exists in users table
[2025-09-23 23:59:03] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-23 23:59:03] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-23 23:59:03] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.001s: duplicate column name: anilist_id
[2025-09-23 23:59:03] [DEBUG] [Database] init_users_table:249 - Column 'anilist_id' already exists in users table
[2025-09-23 23:59:03] [DEBUG] [Database] execute_db_operation:115 - Executing add guild_id column to users
[2025-09-23 23:59:03] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN guild_id INTEGER
[2025-09-23 23:59:03] [ERROR] [Database] execute_db_operation:156 - add guild_id column to users failed after 0.001s: duplicate column name: guild_id
[2025-09-23 23:59:03] [DEBUG] [Database] init_users_table:249 - Column 'guild_id' already exists in users table
[2025-09-23 23:59:03] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-23 23:59:03] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 23:59:03] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.001s: duplicate column name: created_at
[2025-09-23 23:59:03] [DEBUG] [Database] init_users_table:249 - Column 'created_at' already exists in users table
[2025-09-23 23:59:03] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-23 23:59:03] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 23:59:03] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.002s: duplicate column name: updated_at
[2025-09-23 23:59:03] [DEBUG] [Database] init_users_table:249 - Column 'updated_at' already exists in users table
[2025-09-23 23:59:03] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-23 23:59:03] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 23:59:03] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.002s
[2025-09-23 23:59:03] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 23:59:03] [DEBUG] [Database] init_users_table:256 - Users table schema: 8 columns
[2025-09-23 23:59:03] [DEBUG] [Database] init_users_table:258 -   Column: id (INTEGER)
[2025-09-23 23:59:03] [DEBUG] [Database] init_users_table:258 -   Column: discord_id (INTEGER)
[2025-09-23 23:59:03] [DEBUG] [Database] init_users_table:258 -   Column: guild_id (INTEGER)
[2025-09-23 23:59:03] [DEBUG] [Database] init_users_table:258 -   Column: username (TEXT)
[2025-09-23 23:59:03] [DEBUG] [Database] init_users_table:258 -   Column: anilist_username (TEXT)
[2025-09-23 23:59:03] [DEBUG] [Database] init_users_table:258 -   Column: anilist_id (INTEGER)
[2025-09-23 23:59:03] [DEBUG] [Database] init_users_table:258 -   Column: created_at (DATETIME)
[2025-09-23 23:59:03] [DEBUG] [Database] init_users_table:258 -   Column: updated_at (DATETIME)
[2025-09-23 23:59:03] [DEBUG] [Database] execute_db_operation:115 - Executing check guild_id usage
[2025-09-23 23:59:03] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT COUNT(*) FROM users WHERE guild_id IS NOT NULL
[2025-09-23 23:59:03] [DEBUG] [Database] execute_db_operation:142 - check guild_id usage completed in 0.002s
[2025-09-23 23:59:03] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-23 23:59:03] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 1
[2025-09-23 23:59:03] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-23 23:59:03] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 1, 'test1')
[2025-09-23 23:59:03] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 1 completed in 0.005s
[2025-09-23 23:59:03] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 2
[2025-09-23 23:59:03] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-23 23:59:03] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 2, 'test2')
[2025-09-23 23:59:03] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 2 completed in 0.006s
[2025-09-23 23:59:03] [DEBUG] [Database] execute_db_operation:115 - Executing cleanup test data
[2025-09-23 23:59:03] [DEBUG] [Database] execute_db_operation:116 - Query: DELETE FROM users WHERE discord_id = ?
[2025-09-23 23:59:03] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999,)
[2025-09-23 23:59:03] [DEBUG] [Database] execute_db_operation:142 - cleanup test data completed in 0.006s
[2025-09-23 23:59:03] [INFO] [Database] init_users_table:296 - ✅ Multi-guild support confirmed - table supports multiple guilds per user
[2025-09-23 23:59:03] [INFO] [Database] init_users_table:310 - ✅ Users table initialization completed successfully
[2025-09-23 23:59:03] [DEBUG] [Database] init_db:1443 - ✅ Users table initialized successfully
[2025-09-23 23:59:03] [DEBUG] [Database] init_db:1440 - Initializing Challenge Rules table...
[2025-09-23 23:59:03] [INFO] [Database] init_challenge_rules_table:759 - Initializing challenge rules table
[2025-09-23 23:59:03] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-23 23:59:03] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-23 23:59:03] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.002s
[2025-09-23 23:59:03] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-23 23:59:03] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 23:59:03] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.001s: Cannot add a column with non-constant default
[2025-09-23 23:59:03] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-23 23:59:03] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-23 23:59:03] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.001s: Cannot add a column with non-constant default
[2025-09-23 23:59:03] [INFO] [Database] init_challenge_rules_table:783 - ✅ Challenge rules table initialization completed
[2025-09-23 23:59:03] [DEBUG] [Database] init_db:1443 - ✅ Challenge Rules table initialized successfully
[2025-09-23 23:59:03] [DEBUG] [Database] init_db:1440 - Initializing Recommendation Votes table...
[2025-09-23 23:59:03] [INFO] [Database] init_recommendation_votes_table:851 - Manga recommendation votes table ready.
[2025-09-23 23:59:03] [DEBUG] [Database] init_db:1443 - ✅ Recommendation Votes table initialized successfully
[2025-09-23 23:59:03] [DEBUG] [Database] init_db:1440 - Initializing User Stats table...
[2025-09-23 23:59:03] [INFO] [Database] init_user_stats_table:869 - User stats table ready.
[2025-09-23 23:59:03] [DEBUG] [Database] init_db:1443 - ✅ User Stats table initialized successfully
[2025-09-23 23:59:03] [DEBUG] [Database] init_db:1440 - Initializing Achievements table...
[2025-09-23 23:59:03] [INFO] [Database] init_achievements_table:885 - Achievements table ready.
[2025-09-23 23:59:03] [DEBUG] [Database] init_db:1443 - ✅ Achievements table initialized successfully
[2025-09-23 23:59:03] [DEBUG] [Database] init_db:1440 - Initializing User Manga Progress table...
[2025-09-23 23:59:03] [INFO] [Database] init_user_manga_progress_table:921 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-23 23:59:03] [DEBUG] [Database] init_db:1443 - ✅ User Manga Progress table initialized successfully
[2025-09-23 23:59:03] [DEBUG] [Database] init_db:1440 - Initializing Manga Challenges table...
[2025-09-23 23:59:03] [DEBUG] [Database] init_db:1443 - ✅ Manga Challenges table initialized successfully
[2025-09-23 23:59:03] [DEBUG] [Database] init_db:1440 - Initializing User Progress table...
[2025-09-23 23:59:03] [DEBUG] [Database] init_db:1443 - ✅ User Progress table initialized successfully
[2025-09-23 23:59:03] [DEBUG] [Database] init_db:1440 - Initializing Global Challenges table...
[2025-09-23 23:59:03] [INFO] [Database] init_global_challenges_table:1219 - Global challenges table ready with difficulty column.
[2025-09-23 23:59:03] [DEBUG] [Database] init_db:1443 - ✅ Global Challenges table initialized successfully
[2025-09-23 23:59:03] [DEBUG] [Database] init_db:1440 - Initializing Invite Tracker table...
[2025-09-23 23:59:03] [INFO] [Database] init_invite_tracker_tables:1309 - Initializing invite tracker tables
[2025-09-23 23:59:03] [INFO] [Database] init_invite_tracker_tables:1376 - ✅ Invite tracker tables initialized successfully
[2025-09-23 23:59:03] [DEBUG] [Database] init_db:1443 - ✅ Invite Tracker table initialized successfully
[2025-09-23 23:59:03] [DEBUG] [Database] init_db:1440 - Initializing Steam Users table...
[2025-09-23 23:59:03] [INFO] [Database] init_steam_users_table:1396 - Steam users table ready.
[2025-09-23 23:59:03] [DEBUG] [Database] init_db:1443 - ✅ Steam Users table initialized successfully
[2025-09-23 23:59:03] [DEBUG] [Database] init_db:1440 - Initializing Challenge Manga table...
[2025-09-23 23:59:03] [DEBUG] [Database] init_db:1443 - ✅ Challenge Manga table initialized successfully
[2025-09-23 23:59:03] [INFO] [Database] init_db:1454 - ============================================================
[2025-09-23 23:59:03] [INFO] [Database] init_db:1455 - DATABASE INITIALIZATION SUMMARY
[2025-09-23 23:59:03] [INFO] [Database] init_db:1456 - Total tables: 12
[2025-09-23 23:59:03] [INFO] [Database] init_db:1457 - Successfully initialized: 12
[2025-09-23 23:59:03] [INFO] [Database] init_db:1458 - Failed to initialize: 0
[2025-09-23 23:59:03] [INFO] [Database] init_db:1459 - Total time: 0.07 seconds
[2025-09-23 23:59:03] [INFO] [Database] init_db:1464 - ✅ All database tables initialized successfully
[2025-09-23 23:59:03] [INFO] [Database] init_db:1466 - ============================================================
[2025-09-23 23:59:03] [INFO] [Database] init_db:1471 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-23 23:59:04] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-23 23:59:04] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-23 23:59:04] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.002s
[2025-09-23 23:59:04] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-23 23:59:07] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-23 23:59:07] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 23:59:07] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-23 23:59:07] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 23:59:07] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-23 23:59:07] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-23 23:59:07] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-23 23:59:07] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-23 23:59:07] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 23:59:07] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 23:59:07] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-23 23:59:07] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 23:59:07] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 23:59:07] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 23:59:07] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-23 23:59:07] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 23:59:07] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 23:59:07] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 23:59:07] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-23 23:59:07] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 23:59:07] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 23:59:07] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 23:59:07] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-23 23:59:07] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 23:59:07] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 23:59:07] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 23:59:07] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-23 23:59:07] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 23:59:07] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 23:59:07] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 23:59:07] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-23 23:59:07] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-23 23:59:07] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 23:59:07] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 23:59:07] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-23 23:59:07] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 23:59:07] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 23:59:07] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 23:59:07] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-23 23:59:07] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.004s
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('628xd7Sa', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('A8Un8tA2', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('AWZ4mqN7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417339097411747853, -1, 2)
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BM4TWaw9', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417210716318072944, -1, 1)
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HEGVx495', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HXt8GDc7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417205674059763805, -1, 1)
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('Y9Yq7ufy', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, -1, 1)
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('aDWyseRm', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417205674059763805, -1, 1)
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('brpzD6Jm', 1417205672847736955, 336949613464649728, 'rapidecline', 1417310229460418580, -1, 0)
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('sSTAtTJH', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417673227366436997, -1, 1)
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vfwD3rVk', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('zFX6KGvA', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417209847346102312, -1, 1)
[2025-09-23 23:59:09] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-23 23:59:11] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-23 23:59:11] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 23:59:11] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-23 23:59:11] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 23:59:11] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-23 23:59:11] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-23 23:59:11] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-23 23:59:11] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-23 23:59:13] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-23 23:59:13] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-23 23:59:13] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-23 23:59:13] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-23 23:59:13] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-23 23:59:13] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-23 23:59:13] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-23 23:59:13] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-24 00:02:03] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-24 00:02:03] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-24 00:02:03] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.002s
[2025-09-24 00:02:03] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('628xd7Sa', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('A8Un8tA2', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('AWZ4mqN7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417339097411747853, -1, 2)
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BM4TWaw9', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417210716318072944, -1, 1)
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HEGVx495', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HXt8GDc7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417205674059763805, -1, 1)
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('Y9Yq7ufy', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, -1, 1)
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('aDWyseRm', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417205674059763805, -1, 1)
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('brpzD6Jm', 1417205672847736955, 336949613464649728, 'rapidecline', 1417310229460418580, -1, 0)
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('sSTAtTJH', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417673227366436997, -1, 1)
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vfwD3rVk', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('zFX6KGvA', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417209847346102312, -1, 1)
[2025-09-24 00:02:04] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 00:02:23] [INFO] [Database] <module>:60 - ==================================================
[2025-09-24 00:02:23] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-24 00:02:23] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-24 00:02:23] [INFO] [Database] <module>:63 - ==================================================
[2025-09-24 00:02:23] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-24 00:02:23] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-24 00:02:23] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-24 00:02:23] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-24 00:02:23] [INFO] [Database] init_db:1408 - ============================================================
[2025-09-24 00:02:23] [INFO] [Database] init_db:1409 - STARTING DATABASE INITIALIZATION
[2025-09-24 00:02:23] [INFO] [Database] init_db:1410 - ============================================================
[2025-09-24 00:02:23] [INFO] [Database] init_db:1434 - Verifying database connectivity...
[2025-09-24 00:02:23] [INFO] [Database] init_db:1437 - ✅ Database connectivity verified
[2025-09-24 00:02:23] [DEBUG] [Database] init_db:1442 - Initializing Users table...
[2025-09-24 00:02:23] [INFO] [Database] init_users_table:218 - Initializing users table
[2025-09-24 00:02:23] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-24 00:02:23] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 00:02:23] [DEBUG] [Database] execute_db_operation:144 - users table creation completed in 0.002s
[2025-09-24 00:02:23] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-24 00:02:23] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-24 00:02:23] [ERROR] [Database] execute_db_operation:158 - add anilist_username column to users failed after 0.002s: duplicate column name: anilist_username
[2025-09-24 00:02:23] [DEBUG] [Database] init_users_table:251 - Column 'anilist_username' already exists in users table
[2025-09-24 00:02:23] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-24 00:02:23] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-24 00:02:23] [ERROR] [Database] execute_db_operation:158 - add anilist_id column to users failed after 0.001s: duplicate column name: anilist_id
[2025-09-24 00:02:23] [DEBUG] [Database] init_users_table:251 - Column 'anilist_id' already exists in users table
[2025-09-24 00:02:23] [DEBUG] [Database] execute_db_operation:115 - Executing add guild_id column to users
[2025-09-24 00:02:23] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN guild_id INTEGER
[2025-09-24 00:02:23] [ERROR] [Database] execute_db_operation:158 - add guild_id column to users failed after 0.001s: duplicate column name: guild_id
[2025-09-24 00:02:23] [DEBUG] [Database] init_users_table:251 - Column 'guild_id' already exists in users table
[2025-09-24 00:02:23] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-24 00:02:23] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 00:02:23] [ERROR] [Database] execute_db_operation:158 - add created_at column to users failed after 0.001s: duplicate column name: created_at
[2025-09-24 00:02:23] [DEBUG] [Database] init_users_table:251 - Column 'created_at' already exists in users table
[2025-09-24 00:02:23] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-24 00:02:23] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 00:02:23] [ERROR] [Database] execute_db_operation:158 - add updated_at column to users failed after 0.002s: duplicate column name: updated_at
[2025-09-24 00:02:23] [DEBUG] [Database] init_users_table:251 - Column 'updated_at' already exists in users table
[2025-09-24 00:02:23] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-24 00:02:23] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 00:02:23] [DEBUG] [Database] execute_db_operation:144 - users table schema check completed in 0.002s
[2025-09-24 00:02:23] [DEBUG] [Database] execute_db_operation:150 - Query returned 8 rows
[2025-09-24 00:02:23] [DEBUG] [Database] init_users_table:258 - Users table schema: 8 columns
[2025-09-24 00:02:23] [DEBUG] [Database] init_users_table:260 -   Column: id (INTEGER)
[2025-09-24 00:02:23] [DEBUG] [Database] init_users_table:260 -   Column: discord_id (INTEGER)
[2025-09-24 00:02:23] [DEBUG] [Database] init_users_table:260 -   Column: guild_id (INTEGER)
[2025-09-24 00:02:23] [DEBUG] [Database] init_users_table:260 -   Column: username (TEXT)
[2025-09-24 00:02:23] [DEBUG] [Database] init_users_table:260 -   Column: anilist_username (TEXT)
[2025-09-24 00:02:23] [DEBUG] [Database] init_users_table:260 -   Column: anilist_id (INTEGER)
[2025-09-24 00:02:23] [DEBUG] [Database] init_users_table:260 -   Column: created_at (DATETIME)
[2025-09-24 00:02:23] [DEBUG] [Database] init_users_table:260 -   Column: updated_at (DATETIME)
[2025-09-24 00:02:23] [DEBUG] [Database] execute_db_operation:115 - Executing check guild_id usage
[2025-09-24 00:02:23] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT COUNT(*) FROM users WHERE guild_id IS NOT NULL
[2025-09-24 00:02:23] [DEBUG] [Database] execute_db_operation:144 - check guild_id usage completed in 0.002s
[2025-09-24 00:02:23] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 row
[2025-09-24 00:02:23] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 1
[2025-09-24 00:02:23] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 00:02:23] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 1, 'test1')
[2025-09-24 00:02:23] [DEBUG] [Database] execute_db_operation:144 - test multi-guild insert 1 completed in 0.005s
[2025-09-24 00:02:23] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 2
[2025-09-24 00:02:23] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 00:02:23] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 2, 'test2')
[2025-09-24 00:02:23] [DEBUG] [Database] execute_db_operation:144 - test multi-guild insert 2 completed in 0.006s
[2025-09-24 00:02:23] [DEBUG] [Database] execute_db_operation:115 - Executing cleanup test data
[2025-09-24 00:02:23] [DEBUG] [Database] execute_db_operation:116 - Query: DELETE FROM users WHERE discord_id = ?
[2025-09-24 00:02:23] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999,)
[2025-09-24 00:02:23] [DEBUG] [Database] execute_db_operation:144 - cleanup test data completed in 0.005s
[2025-09-24 00:02:23] [INFO] [Database] init_users_table:298 - ✅ Multi-guild support confirmed - table supports multiple guilds per user
[2025-09-24 00:02:23] [INFO] [Database] init_users_table:312 - ✅ Users table initialization completed successfully
[2025-09-24 00:02:23] [DEBUG] [Database] init_db:1445 - ✅ Users table initialized successfully
[2025-09-24 00:02:23] [DEBUG] [Database] init_db:1442 - Initializing Challenge Rules table...
[2025-09-24 00:02:23] [INFO] [Database] init_challenge_rules_table:761 - Initializing challenge rules table
[2025-09-24 00:02:23] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-24 00:02:23] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 00:02:23] [DEBUG] [Database] execute_db_operation:144 - challenge rules table creation completed in 0.002s
[2025-09-24 00:02:23] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-24 00:02:23] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 00:02:23] [ERROR] [Database] execute_db_operation:158 - add created_at to challenge_rules failed after 0.002s: Cannot add a column with non-constant default
[2025-09-24 00:02:23] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-24 00:02:23] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 00:02:23] [ERROR] [Database] execute_db_operation:158 - add updated_at to challenge_rules failed after 0.002s: Cannot add a column with non-constant default
[2025-09-24 00:02:23] [INFO] [Database] init_challenge_rules_table:785 - ✅ Challenge rules table initialization completed
[2025-09-24 00:02:23] [DEBUG] [Database] init_db:1445 - ✅ Challenge Rules table initialized successfully
[2025-09-24 00:02:23] [DEBUG] [Database] init_db:1442 - Initializing Recommendation Votes table...
[2025-09-24 00:02:23] [INFO] [Database] init_recommendation_votes_table:853 - Manga recommendation votes table ready.
[2025-09-24 00:02:23] [DEBUG] [Database] init_db:1445 - ✅ Recommendation Votes table initialized successfully
[2025-09-24 00:02:23] [DEBUG] [Database] init_db:1442 - Initializing User Stats table...
[2025-09-24 00:02:23] [INFO] [Database] init_user_stats_table:871 - User stats table ready.
[2025-09-24 00:02:23] [DEBUG] [Database] init_db:1445 - ✅ User Stats table initialized successfully
[2025-09-24 00:02:23] [DEBUG] [Database] init_db:1442 - Initializing Achievements table...
[2025-09-24 00:02:23] [INFO] [Database] init_achievements_table:887 - Achievements table ready.
[2025-09-24 00:02:23] [DEBUG] [Database] init_db:1445 - ✅ Achievements table initialized successfully
[2025-09-24 00:02:23] [DEBUG] [Database] init_db:1442 - Initializing User Manga Progress table...
[2025-09-24 00:02:23] [INFO] [Database] init_user_manga_progress_table:911 - Recreating user_manga_progress table with guild-aware primary key
[2025-09-24 00:02:23] [INFO] [Database] init_user_manga_progress_table:934 - User manga progress table ready with guild-aware schema (discord_id, guild_id, manga_id).
[2025-09-24 00:02:23] [DEBUG] [Database] init_db:1445 - ✅ User Manga Progress table initialized successfully
[2025-09-24 00:02:23] [DEBUG] [Database] init_db:1442 - Initializing Manga Challenges table...
[2025-09-24 00:02:23] [DEBUG] [Database] init_db:1445 - ✅ Manga Challenges table initialized successfully
[2025-09-24 00:02:23] [DEBUG] [Database] init_db:1442 - Initializing User Progress table...
[2025-09-24 00:02:23] [DEBUG] [Database] init_db:1445 - ✅ User Progress table initialized successfully
[2025-09-24 00:02:23] [DEBUG] [Database] init_db:1442 - Initializing Global Challenges table...
[2025-09-24 00:02:23] [INFO] [Database] init_global_challenges_table:1244 - Global challenges table ready with difficulty column.
[2025-09-24 00:02:23] [DEBUG] [Database] init_db:1445 - ✅ Global Challenges table initialized successfully
[2025-09-24 00:02:23] [DEBUG] [Database] init_db:1442 - Initializing Invite Tracker table...
[2025-09-24 00:02:23] [INFO] [Database] init_invite_tracker_tables:1311 - Initializing invite tracker tables
[2025-09-24 00:02:23] [INFO] [Database] init_invite_tracker_tables:1378 - ✅ Invite tracker tables initialized successfully
[2025-09-24 00:02:23] [DEBUG] [Database] init_db:1445 - ✅ Invite Tracker table initialized successfully
[2025-09-24 00:02:23] [DEBUG] [Database] init_db:1442 - Initializing Steam Users table...
[2025-09-24 00:02:23] [INFO] [Database] init_steam_users_table:1398 - Steam users table ready.
[2025-09-24 00:02:23] [DEBUG] [Database] init_db:1445 - ✅ Steam Users table initialized successfully
[2025-09-24 00:02:23] [DEBUG] [Database] init_db:1442 - Initializing Challenge Manga table...
[2025-09-24 00:02:23] [DEBUG] [Database] init_db:1445 - ✅ Challenge Manga table initialized successfully
[2025-09-24 00:02:23] [INFO] [Database] init_db:1456 - ============================================================
[2025-09-24 00:02:23] [INFO] [Database] init_db:1457 - DATABASE INITIALIZATION SUMMARY
[2025-09-24 00:02:23] [INFO] [Database] init_db:1458 - Total tables: 12
[2025-09-24 00:02:23] [INFO] [Database] init_db:1459 - Successfully initialized: 12
[2025-09-24 00:02:23] [INFO] [Database] init_db:1460 - Failed to initialize: 0
[2025-09-24 00:02:23] [INFO] [Database] init_db:1461 - Total time: 0.08 seconds
[2025-09-24 00:02:23] [INFO] [Database] init_db:1466 - ✅ All database tables initialized successfully
[2025-09-24 00:02:23] [INFO] [Database] init_db:1468 - ============================================================
[2025-09-24 00:02:23] [INFO] [Database] init_db:1473 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-24 00:02:23] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-24 00:02:23] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-24 00:02:23] [DEBUG] [Database] execute_db_operation:144 - load channel settings completed in 0.002s
[2025-09-24 00:02:23] [DEBUG] [Database] execute_db_operation:150 - Query returned 1 rows
[2025-09-24 00:02:26] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 00:02:26] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 00:02:26] [DEBUG] [Database] execute_db_operation:144 - check users table schema completed in 0.002s
[2025-09-24 00:02:26] [DEBUG] [Database] execute_db_operation:150 - Query returned 8 rows
[2025-09-24 00:02:26] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 00:02:26] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 00:02:26] [DEBUG] [Database] execute_db_operation:144 - fetch all registered users completed in 0.002s
[2025-09-24 00:02:26] [DEBUG] [Database] execute_db_operation:150 - Query returned 18 rows
[2025-09-24 00:02:27] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-24 00:02:27] [DEBUG] [Database] execute_db_operation:144 - upsert invite completed in 0.004s
[2025-09-24 00:02:27] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-24 00:02:27] [DEBUG] [Database] execute_db_operation:144 - upsert invite completed in 0.005s
[2025-09-24 00:02:27] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-24 00:02:27] [DEBUG] [Database] execute_db_operation:144 - upsert invite completed in 0.006s
[2025-09-24 00:02:27] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-24 00:02:27] [DEBUG] [Database] execute_db_operation:144 - upsert invite completed in 0.006s
[2025-09-24 00:02:27] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-24 00:02:27] [DEBUG] [Database] execute_db_operation:144 - upsert invite completed in 0.005s
[2025-09-24 00:02:27] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-24 00:02:27] [DEBUG] [Database] execute_db_operation:144 - upsert invite completed in 0.005s
[2025-09-24 00:02:27] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-24 00:02:27] [DEBUG] [Database] execute_db_operation:144 - upsert invite completed in 0.005s
[2025-09-24 00:02:27] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-24 00:02:27] [DEBUG] [Database] execute_db_operation:144 - upsert invite completed in 0.005s
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('628xd7Sa', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:144 - upsert invite completed in 0.008s
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('A8Un8tA2', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:144 - upsert invite completed in 0.005s
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('AWZ4mqN7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417339097411747853, -1, 2)
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:144 - upsert invite completed in 0.005s
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BM4TWaw9', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417210716318072944, -1, 1)
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:144 - upsert invite completed in 0.006s
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HEGVx495', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:144 - upsert invite completed in 0.006s
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HXt8GDc7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417205674059763805, -1, 1)
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:144 - upsert invite completed in 0.005s
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('Y9Yq7ufy', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, -1, 1)
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:144 - upsert invite completed in 0.005s
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('aDWyseRm', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417205674059763805, -1, 1)
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:144 - upsert invite completed in 0.006s
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('brpzD6Jm', 1417205672847736955, 336949613464649728, 'rapidecline', 1417310229460418580, -1, 0)
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:144 - upsert invite completed in 0.006s
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('sSTAtTJH', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417673227366436997, -1, 1)
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:144 - upsert invite completed in 0.006s
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vfwD3rVk', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:144 - upsert invite completed in 0.006s
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('zFX6KGvA', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417209847346102312, -1, 1)
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:144 - upsert invite completed in 0.006s
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:144 - check users table schema completed in 0.004s
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:150 - Query returned 8 rows
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:144 - fetch all registered users completed in 0.002s
[2025-09-24 00:02:28] [DEBUG] [Database] execute_db_operation:150 - Query returned 18 rows
[2025-09-24 00:02:30] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 00:02:30] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 00:02:30] [DEBUG] [Database] execute_db_operation:144 - check users table schema completed in 0.002s
[2025-09-24 00:02:30] [DEBUG] [Database] execute_db_operation:150 - Query returned 8 rows
[2025-09-24 00:02:30] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 00:02:30] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 00:02:30] [DEBUG] [Database] execute_db_operation:144 - fetch all registered users completed in 0.002s
[2025-09-24 00:02:30] [DEBUG] [Database] execute_db_operation:150 - Query returned 18 rows
[2025-09-24 00:02:32] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 00:02:32] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 00:02:33] [DEBUG] [Database] execute_db_operation:144 - check users table schema completed in 0.003s
[2025-09-24 00:02:33] [DEBUG] [Database] execute_db_operation:150 - Query returned 8 rows
[2025-09-24 00:02:33] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 00:02:33] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 00:02:33] [DEBUG] [Database] execute_db_operation:144 - fetch all registered users completed in 0.002s
[2025-09-24 00:02:33] [DEBUG] [Database] execute_db_operation:150 - Query returned 18 rows
[2025-09-24 00:02:56] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-24 00:02:56] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-24 00:02:56] [DEBUG] [Database] execute_db_operation:144 - load channel settings completed in 0.003s
[2025-09-24 00:02:56] [DEBUG] [Database] execute_db_operation:150 - Query returned 1 rows
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:144 - upsert invite completed in 0.006s
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:144 - upsert invite completed in 0.006s
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:144 - upsert invite completed in 0.006s
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:144 - upsert invite completed in 0.006s
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:144 - upsert invite completed in 0.006s
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:144 - upsert invite completed in 0.007s
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:144 - upsert invite completed in 0.006s
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:144 - upsert invite completed in 0.006s
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('628xd7Sa', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:144 - upsert invite completed in 0.006s
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('A8Un8tA2', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:144 - upsert invite completed in 0.007s
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('AWZ4mqN7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417339097411747853, -1, 2)
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:144 - upsert invite completed in 0.005s
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BM4TWaw9', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417210716318072944, -1, 1)
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:144 - upsert invite completed in 0.005s
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HEGVx495', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:144 - upsert invite completed in 0.006s
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HXt8GDc7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417205674059763805, -1, 1)
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:144 - upsert invite completed in 0.006s
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('Y9Yq7ufy', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, -1, 1)
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:144 - upsert invite completed in 0.006s
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('aDWyseRm', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417205674059763805, -1, 1)
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:144 - upsert invite completed in 0.006s
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('brpzD6Jm', 1417205672847736955, 336949613464649728, 'rapidecline', 1417310229460418580, -1, 0)
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:144 - upsert invite completed in 0.006s
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('sSTAtTJH', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417673227366436997, -1, 1)
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:144 - upsert invite completed in 0.006s
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vfwD3rVk', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:144 - upsert invite completed in 0.007s
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('zFX6KGvA', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417209847346102312, -1, 1)
[2025-09-24 00:02:57] [DEBUG] [Database] execute_db_operation:144 - upsert invite completed in 0.006s
[2025-09-24 00:02:58] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 00:02:58] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 00:02:58] [DEBUG] [Database] execute_db_operation:144 - check users table schema completed in 0.003s
[2025-09-24 00:02:58] [DEBUG] [Database] execute_db_operation:150 - Query returned 8 rows
[2025-09-24 00:02:58] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 00:02:58] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 00:02:58] [DEBUG] [Database] execute_db_operation:144 - fetch all registered users completed in 0.002s
[2025-09-24 00:02:58] [DEBUG] [Database] execute_db_operation:150 - Query returned 18 rows
[2025-09-24 00:03:05] [INFO] [Database] <module>:60 - ==================================================
[2025-09-24 00:03:05] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-24 00:03:05] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-24 00:03:05] [INFO] [Database] <module>:63 - ==================================================
[2025-09-24 00:03:05] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-24 00:03:05] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-24 00:03:05] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-24 00:03:05] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-24 00:03:05] [INFO] [Database] init_db:1406 - ============================================================
[2025-09-24 00:03:05] [INFO] [Database] init_db:1407 - STARTING DATABASE INITIALIZATION
[2025-09-24 00:03:05] [INFO] [Database] init_db:1408 - ============================================================
[2025-09-24 00:03:05] [INFO] [Database] init_db:1432 - Verifying database connectivity...
[2025-09-24 00:03:05] [INFO] [Database] init_db:1435 - ✅ Database connectivity verified
[2025-09-24 00:03:05] [DEBUG] [Database] init_db:1440 - Initializing Users table...
[2025-09-24 00:03:05] [INFO] [Database] init_users_table:216 - Initializing users table
[2025-09-24 00:03:05] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-24 00:03:05] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 00:03:05] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-24 00:03:05] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-24 00:03:05] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-24 00:03:05] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.002s: duplicate column name: anilist_username
[2025-09-24 00:03:05] [DEBUG] [Database] init_users_table:249 - Column 'anilist_username' already exists in users table
[2025-09-24 00:03:05] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-24 00:03:05] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-24 00:03:05] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.001s: duplicate column name: anilist_id
[2025-09-24 00:03:05] [DEBUG] [Database] init_users_table:249 - Column 'anilist_id' already exists in users table
[2025-09-24 00:03:05] [DEBUG] [Database] execute_db_operation:115 - Executing add guild_id column to users
[2025-09-24 00:03:05] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN guild_id INTEGER
[2025-09-24 00:03:05] [ERROR] [Database] execute_db_operation:156 - add guild_id column to users failed after 0.002s: duplicate column name: guild_id
[2025-09-24 00:03:05] [DEBUG] [Database] init_users_table:249 - Column 'guild_id' already exists in users table
[2025-09-24 00:03:05] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-24 00:03:05] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 00:03:05] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.002s: duplicate column name: created_at
[2025-09-24 00:03:05] [DEBUG] [Database] init_users_table:249 - Column 'created_at' already exists in users table
[2025-09-24 00:03:05] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-24 00:03:05] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 00:03:05] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.002s: duplicate column name: updated_at
[2025-09-24 00:03:05] [DEBUG] [Database] init_users_table:249 - Column 'updated_at' already exists in users table
[2025-09-24 00:03:05] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-24 00:03:05] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 00:03:05] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.002s
[2025-09-24 00:03:05] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 00:03:05] [DEBUG] [Database] init_users_table:256 - Users table schema: 8 columns
[2025-09-24 00:03:05] [DEBUG] [Database] init_users_table:258 -   Column: id (INTEGER)
[2025-09-24 00:03:05] [DEBUG] [Database] init_users_table:258 -   Column: discord_id (INTEGER)
[2025-09-24 00:03:05] [DEBUG] [Database] init_users_table:258 -   Column: guild_id (INTEGER)
[2025-09-24 00:03:05] [DEBUG] [Database] init_users_table:258 -   Column: username (TEXT)
[2025-09-24 00:03:05] [DEBUG] [Database] init_users_table:258 -   Column: anilist_username (TEXT)
[2025-09-24 00:03:05] [DEBUG] [Database] init_users_table:258 -   Column: anilist_id (INTEGER)
[2025-09-24 00:03:05] [DEBUG] [Database] init_users_table:258 -   Column: created_at (DATETIME)
[2025-09-24 00:03:05] [DEBUG] [Database] init_users_table:258 -   Column: updated_at (DATETIME)
[2025-09-24 00:03:05] [DEBUG] [Database] execute_db_operation:115 - Executing check guild_id usage
[2025-09-24 00:03:05] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT COUNT(*) FROM users WHERE guild_id IS NOT NULL
[2025-09-24 00:03:05] [DEBUG] [Database] execute_db_operation:142 - check guild_id usage completed in 0.002s
[2025-09-24 00:03:05] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-24 00:03:05] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 1
[2025-09-24 00:03:05] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 00:03:05] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 1, 'test1')
[2025-09-24 00:03:05] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 1 completed in 0.005s
[2025-09-24 00:03:05] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 2
[2025-09-24 00:03:05] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 00:03:05] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 2, 'test2')
[2025-09-24 00:03:05] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 2 completed in 0.008s
[2025-09-24 00:03:05] [DEBUG] [Database] execute_db_operation:115 - Executing cleanup test data
[2025-09-24 00:03:05] [DEBUG] [Database] execute_db_operation:116 - Query: DELETE FROM users WHERE discord_id = ?
[2025-09-24 00:03:05] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999,)
[2025-09-24 00:03:05] [DEBUG] [Database] execute_db_operation:142 - cleanup test data completed in 0.008s
[2025-09-24 00:03:05] [INFO] [Database] init_users_table:296 - ✅ Multi-guild support confirmed - table supports multiple guilds per user
[2025-09-24 00:03:05] [INFO] [Database] init_users_table:310 - ✅ Users table initialization completed successfully
[2025-09-24 00:03:05] [DEBUG] [Database] init_db:1443 - ✅ Users table initialized successfully
[2025-09-24 00:03:05] [DEBUG] [Database] init_db:1440 - Initializing Challenge Rules table...
[2025-09-24 00:03:05] [INFO] [Database] init_challenge_rules_table:759 - Initializing challenge rules table
[2025-09-24 00:03:05] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-24 00:03:05] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 00:03:05] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.003s
[2025-09-24 00:03:05] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-24 00:03:05] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 00:03:05] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.002s: Cannot add a column with non-constant default
[2025-09-24 00:03:05] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-24 00:03:05] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 00:03:05] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.002s: Cannot add a column with non-constant default
[2025-09-24 00:03:05] [INFO] [Database] init_challenge_rules_table:783 - ✅ Challenge rules table initialization completed
[2025-09-24 00:03:05] [DEBUG] [Database] init_db:1443 - ✅ Challenge Rules table initialized successfully
[2025-09-24 00:03:05] [DEBUG] [Database] init_db:1440 - Initializing Recommendation Votes table...
[2025-09-24 00:03:05] [INFO] [Database] init_recommendation_votes_table:851 - Manga recommendation votes table ready.
[2025-09-24 00:03:05] [DEBUG] [Database] init_db:1443 - ✅ Recommendation Votes table initialized successfully
[2025-09-24 00:03:05] [DEBUG] [Database] init_db:1440 - Initializing User Stats table...
[2025-09-24 00:03:05] [INFO] [Database] init_user_stats_table:869 - User stats table ready.
[2025-09-24 00:03:05] [DEBUG] [Database] init_db:1443 - ✅ User Stats table initialized successfully
[2025-09-24 00:03:05] [DEBUG] [Database] init_db:1440 - Initializing Achievements table...
[2025-09-24 00:03:05] [INFO] [Database] init_achievements_table:885 - Achievements table ready.
[2025-09-24 00:03:05] [DEBUG] [Database] init_db:1443 - ✅ Achievements table initialized successfully
[2025-09-24 00:03:05] [DEBUG] [Database] init_db:1440 - Initializing User Manga Progress table...
[2025-09-24 00:03:05] [INFO] [Database] init_user_manga_progress_table:921 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-24 00:03:05] [DEBUG] [Database] init_db:1443 - ✅ User Manga Progress table initialized successfully
[2025-09-24 00:03:05] [DEBUG] [Database] init_db:1440 - Initializing Manga Challenges table...
[2025-09-24 00:03:05] [DEBUG] [Database] init_db:1443 - ✅ Manga Challenges table initialized successfully
[2025-09-24 00:03:05] [DEBUG] [Database] init_db:1440 - Initializing User Progress table...
[2025-09-24 00:03:05] [DEBUG] [Database] init_db:1443 - ✅ User Progress table initialized successfully
[2025-09-24 00:03:05] [DEBUG] [Database] init_db:1440 - Initializing Global Challenges table...
[2025-09-24 00:03:05] [INFO] [Database] init_global_challenges_table:1219 - Global challenges table ready with difficulty column.
[2025-09-24 00:03:05] [DEBUG] [Database] init_db:1443 - ✅ Global Challenges table initialized successfully
[2025-09-24 00:03:05] [DEBUG] [Database] init_db:1440 - Initializing Invite Tracker table...
[2025-09-24 00:03:05] [INFO] [Database] init_invite_tracker_tables:1309 - Initializing invite tracker tables
[2025-09-24 00:03:05] [INFO] [Database] init_invite_tracker_tables:1376 - ✅ Invite tracker tables initialized successfully
[2025-09-24 00:03:05] [DEBUG] [Database] init_db:1443 - ✅ Invite Tracker table initialized successfully
[2025-09-24 00:03:05] [DEBUG] [Database] init_db:1440 - Initializing Steam Users table...
[2025-09-24 00:03:05] [INFO] [Database] init_steam_users_table:1396 - Steam users table ready.
[2025-09-24 00:03:05] [DEBUG] [Database] init_db:1443 - ✅ Steam Users table initialized successfully
[2025-09-24 00:03:05] [DEBUG] [Database] init_db:1440 - Initializing Challenge Manga table...
[2025-09-24 00:03:05] [DEBUG] [Database] init_db:1443 - ✅ Challenge Manga table initialized successfully
[2025-09-24 00:03:05] [INFO] [Database] init_db:1454 - ============================================================
[2025-09-24 00:03:05] [INFO] [Database] init_db:1455 - DATABASE INITIALIZATION SUMMARY
[2025-09-24 00:03:05] [INFO] [Database] init_db:1456 - Total tables: 12
[2025-09-24 00:03:05] [INFO] [Database] init_db:1457 - Successfully initialized: 12
[2025-09-24 00:03:05] [INFO] [Database] init_db:1458 - Failed to initialize: 0
[2025-09-24 00:03:05] [INFO] [Database] init_db:1459 - Total time: 0.07 seconds
[2025-09-24 00:03:05] [INFO] [Database] init_db:1464 - ✅ All database tables initialized successfully
[2025-09-24 00:03:05] [INFO] [Database] init_db:1466 - ============================================================
[2025-09-24 00:03:05] [INFO] [Database] init_db:1471 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-24 00:03:06] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-24 00:03:06] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-24 00:03:06] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.002s
[2025-09-24 00:03:06] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-24 00:03:08] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 00:03:08] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 00:03:08] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-24 00:03:08] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 00:03:08] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 00:03:08] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 00:03:08] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 00:03:08] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-24 00:03:09] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:03:09] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:03:09] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-24 00:03:09] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 00:03:09] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:03:09] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:03:09] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-24 00:03:09] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.013s
[2025-09-24 00:03:09] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:03:09] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:03:09] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-24 00:03:09] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 00:03:09] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:03:09] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:03:09] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-24 00:03:09] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 00:03:09] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:03:09] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:03:09] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-24 00:03:09] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 00:03:09] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:03:09] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:03:09] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-24 00:03:09] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:03:09] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:03:09] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:03:09] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-24 00:03:09] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 00:03:09] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:03:09] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:03:09] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-24 00:03:09] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('628xd7Sa', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('A8Un8tA2', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('AWZ4mqN7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417339097411747853, -1, 2)
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BM4TWaw9', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417210716318072944, -1, 1)
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HEGVx495', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HXt8GDc7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417205674059763805, -1, 1)
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('Y9Yq7ufy', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, -1, 1)
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('aDWyseRm', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417205674059763805, -1, 1)
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('brpzD6Jm', 1417205672847736955, 336949613464649728, 'rapidecline', 1417310229460418580, -1, 0)
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('sSTAtTJH', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417673227366436997, -1, 1)
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vfwD3rVk', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('zFX6KGvA', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417209847346102312, -1, 1)
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 00:03:10] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-24 00:03:12] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 00:03:12] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 00:03:12] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-24 00:03:12] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 00:03:12] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 00:03:12] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 00:03:12] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 00:03:12] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-24 00:03:15] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 00:03:15] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 00:03:15] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.004s
[2025-09-24 00:03:15] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 00:03:15] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 00:03:15] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 00:03:15] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 00:03:15] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-24 00:11:42] [INFO] [Database] <module>:60 - ==================================================
[2025-09-24 00:11:42] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-24 00:11:42] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-24 00:11:42] [INFO] [Database] <module>:63 - ==================================================
[2025-09-24 00:11:42] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-24 00:11:42] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-24 00:11:42] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-24 00:11:42] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-24 00:11:42] [INFO] [Database] init_db:1457 - ============================================================
[2025-09-24 00:11:42] [INFO] [Database] init_db:1458 - STARTING DATABASE INITIALIZATION
[2025-09-24 00:11:42] [INFO] [Database] init_db:1459 - ============================================================
[2025-09-24 00:11:42] [INFO] [Database] init_db:1484 - Verifying database connectivity...
[2025-09-24 00:11:42] [INFO] [Database] init_db:1487 - ✅ Database connectivity verified
[2025-09-24 00:11:42] [DEBUG] [Database] init_db:1492 - Initializing Users table...
[2025-09-24 00:11:42] [INFO] [Database] init_users_table:218 - Initializing users table
[2025-09-24 00:11:42] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-24 00:11:42] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 00:11:42] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-24 00:11:42] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-24 00:11:42] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-24 00:11:42] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.002s: duplicate column name: anilist_username
[2025-09-24 00:11:42] [DEBUG] [Database] init_users_table:251 - Column 'anilist_username' already exists in users table
[2025-09-24 00:11:42] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-24 00:11:42] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-24 00:11:42] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.002s: duplicate column name: anilist_id
[2025-09-24 00:11:42] [DEBUG] [Database] init_users_table:251 - Column 'anilist_id' already exists in users table
[2025-09-24 00:11:42] [DEBUG] [Database] execute_db_operation:115 - Executing add guild_id column to users
[2025-09-24 00:11:42] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN guild_id INTEGER
[2025-09-24 00:11:42] [ERROR] [Database] execute_db_operation:156 - add guild_id column to users failed after 0.002s: duplicate column name: guild_id
[2025-09-24 00:11:42] [DEBUG] [Database] init_users_table:251 - Column 'guild_id' already exists in users table
[2025-09-24 00:11:42] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-24 00:11:42] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 00:11:43] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.002s: duplicate column name: created_at
[2025-09-24 00:11:43] [DEBUG] [Database] init_users_table:251 - Column 'created_at' already exists in users table
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 00:11:43] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.002s: duplicate column name: updated_at
[2025-09-24 00:11:43] [DEBUG] [Database] init_users_table:251 - Column 'updated_at' already exists in users table
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.002s
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 00:11:43] [DEBUG] [Database] init_users_table:258 - Users table schema: 8 columns
[2025-09-24 00:11:43] [DEBUG] [Database] init_users_table:260 -   Column: id (INTEGER)
[2025-09-24 00:11:43] [DEBUG] [Database] init_users_table:260 -   Column: discord_id (INTEGER)
[2025-09-24 00:11:43] [DEBUG] [Database] init_users_table:260 -   Column: guild_id (INTEGER)
[2025-09-24 00:11:43] [DEBUG] [Database] init_users_table:260 -   Column: username (TEXT)
[2025-09-24 00:11:43] [DEBUG] [Database] init_users_table:260 -   Column: anilist_username (TEXT)
[2025-09-24 00:11:43] [DEBUG] [Database] init_users_table:260 -   Column: anilist_id (INTEGER)
[2025-09-24 00:11:43] [DEBUG] [Database] init_users_table:260 -   Column: created_at (DATETIME)
[2025-09-24 00:11:43] [DEBUG] [Database] init_users_table:260 -   Column: updated_at (DATETIME)
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:115 - Executing check guild_id usage
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT COUNT(*) FROM users WHERE guild_id IS NOT NULL
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:142 - check guild_id usage completed in 0.003s
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 1
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 1, 'test1')
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 1 completed in 0.007s
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 2
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 2, 'test2')
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 2 completed in 0.007s
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:115 - Executing cleanup test data
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:116 - Query: DELETE FROM users WHERE discord_id = ?
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999,)
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:142 - cleanup test data completed in 0.008s
[2025-09-24 00:11:43] [INFO] [Database] init_users_table:298 - ✅ Multi-guild support confirmed - table supports multiple guilds per user
[2025-09-24 00:11:43] [INFO] [Database] init_users_table:312 - ✅ Users table initialization completed successfully
[2025-09-24 00:11:43] [DEBUG] [Database] init_db:1495 - ✅ Users table initialized successfully
[2025-09-24 00:11:43] [DEBUG] [Database] init_db:1492 - Initializing Challenge Rules table...
[2025-09-24 00:11:43] [INFO] [Database] init_challenge_rules_table:761 - Initializing challenge rules table
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.003s
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 00:11:43] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.002s: Cannot add a column with non-constant default
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 00:11:43] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.002s: Cannot add a column with non-constant default
[2025-09-24 00:11:43] [INFO] [Database] init_challenge_rules_table:785 - ✅ Challenge rules table initialization completed
[2025-09-24 00:11:43] [DEBUG] [Database] init_db:1495 - ✅ Challenge Rules table initialized successfully
[2025-09-24 00:11:43] [DEBUG] [Database] init_db:1492 - Initializing Recommendation Votes table...
[2025-09-24 00:11:43] [INFO] [Database] init_recommendation_votes_table:853 - Manga recommendation votes table ready.
[2025-09-24 00:11:43] [DEBUG] [Database] init_db:1495 - ✅ Recommendation Votes table initialized successfully
[2025-09-24 00:11:43] [DEBUG] [Database] init_db:1492 - Initializing User Stats table...
[2025-09-24 00:11:43] [INFO] [Database] init_user_stats_table:871 - User stats table ready.
[2025-09-24 00:11:43] [DEBUG] [Database] init_db:1495 - ✅ User Stats table initialized successfully
[2025-09-24 00:11:43] [DEBUG] [Database] init_db:1492 - Initializing Achievements table...
[2025-09-24 00:11:43] [INFO] [Database] init_achievements_table:887 - Achievements table ready.
[2025-09-24 00:11:43] [DEBUG] [Database] init_db:1495 - ✅ Achievements table initialized successfully
[2025-09-24 00:11:43] [DEBUG] [Database] init_db:1492 - Initializing User Manga Progress table...
[2025-09-24 00:11:43] [INFO] [Database] init_user_manga_progress_table:923 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-24 00:11:43] [DEBUG] [Database] init_db:1495 - ✅ User Manga Progress table initialized successfully
[2025-09-24 00:11:43] [DEBUG] [Database] init_db:1492 - Initializing Manga Challenges table...
[2025-09-24 00:11:43] [DEBUG] [Database] init_db:1495 - ✅ Manga Challenges table initialized successfully
[2025-09-24 00:11:43] [DEBUG] [Database] init_db:1492 - Initializing User Progress table...
[2025-09-24 00:11:43] [DEBUG] [Database] init_db:1495 - ✅ User Progress table initialized successfully
[2025-09-24 00:11:43] [DEBUG] [Database] init_db:1492 - Initializing Global Challenges table...
[2025-09-24 00:11:43] [INFO] [Database] init_global_challenges_table:1221 - Global challenges table ready with difficulty column.
[2025-09-24 00:11:43] [DEBUG] [Database] init_db:1495 - ✅ Global Challenges table initialized successfully
[2025-09-24 00:11:43] [DEBUG] [Database] init_db:1492 - Initializing Guild Challenge Roles table...
[2025-09-24 00:11:43] [INFO] [Database] init_guild_challenge_roles_table:1403 - 🔧 Initializing guild challenge roles table...
[2025-09-24 00:11:43] [INFO] [Database] get_guild_challenge_roles:2119 - Getting challenge roles for guild 897814031346319382
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:115 - Executing get challenge roles for guild 897814031346319382
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT challenge_id, threshold, role_id 
            FROM guild_challenge_roles 
            WHERE guild_id = ?
            ORDER BY challenge_id, threshold
        
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:142 - get challenge roles for guild 897814031346319382 completed in 0.003s
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:148 - Query returned 0 rows
[2025-09-24 00:11:43] [INFO] [Database] get_guild_challenge_roles:2147 - ✅ Retrieved 0 challenge role configurations for guild 897814031346319382
[2025-09-24 00:11:43] [INFO] [Database] migrate_default_challenge_roles:1439 - Migrating default challenge roles for primary guild 897814031346319382
[2025-09-24 00:11:43] [INFO] [Database] set_guild_challenge_role:2083 - Setting challenge role for guild 897814031346319382, challenge 1, threshold 1.0 -> role 1093985707091046593
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:115 - Executing set challenge role for guild 897814031346319382
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT OR REPLACE INTO guild_challenge_roles 
            (guild_id, challenge_id, threshold, role_id, updated_at)
            VALUES (?, ?, ?, ?, CURRENT_TIMESTAMP)
        
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382, 1, 1.0, 1093985707091046593)
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:142 - set challenge role for guild 897814031346319382 completed in 0.005s
[2025-09-24 00:11:43] [INFO] [Database] set_guild_challenge_role:2107 - ✅ Set challenge role for guild 897814031346319382, challenge 1 -> role 1093985707091046593
[2025-09-24 00:11:43] [INFO] [Database] migrate_default_challenge_roles:1444 - Migrated: Challenge 1, threshold 1.0 -> role 1093985707091046593
[2025-09-24 00:11:43] [INFO] [Database] set_guild_challenge_role:2083 - Setting challenge role for guild 897814031346319382, challenge 2, threshold 1.0 -> role 1010651450239627417
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:115 - Executing set challenge role for guild 897814031346319382
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT OR REPLACE INTO guild_challenge_roles 
            (guild_id, challenge_id, threshold, role_id, updated_at)
            VALUES (?, ?, ?, ?, CURRENT_TIMESTAMP)
        
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382, 2, 1.0, 1010651450239627417)
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:142 - set challenge role for guild 897814031346319382 completed in 0.007s
[2025-09-24 00:11:43] [INFO] [Database] set_guild_challenge_role:2107 - ✅ Set challenge role for guild 897814031346319382, challenge 2 -> role 1010651450239627417
[2025-09-24 00:11:43] [INFO] [Database] migrate_default_challenge_roles:1444 - Migrated: Challenge 2, threshold 1.0 -> role 1010651450239627417
[2025-09-24 00:11:43] [INFO] [Database] set_guild_challenge_role:2083 - Setting challenge role for guild 897814031346319382, challenge 3, threshold 1.0 -> role 1020028721010319360
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:115 - Executing set challenge role for guild 897814031346319382
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT OR REPLACE INTO guild_challenge_roles 
            (guild_id, challenge_id, threshold, role_id, updated_at)
            VALUES (?, ?, ?, ?, CURRENT_TIMESTAMP)
        
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382, 3, 1.0, 1020028721010319360)
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:142 - set challenge role for guild 897814031346319382 completed in 0.006s
[2025-09-24 00:11:43] [INFO] [Database] set_guild_challenge_role:2107 - ✅ Set challenge role for guild 897814031346319382, challenge 3 -> role 1020028721010319360
[2025-09-24 00:11:43] [INFO] [Database] migrate_default_challenge_roles:1444 - Migrated: Challenge 3, threshold 1.0 -> role 1020028721010319360
[2025-09-24 00:11:43] [INFO] [Database] set_guild_challenge_role:2083 - Setting challenge role for guild 897814031346319382, challenge 4, threshold 1.0 -> role 1033338002820313121
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:115 - Executing set challenge role for guild 897814031346319382
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT OR REPLACE INTO guild_challenge_roles 
            (guild_id, challenge_id, threshold, role_id, updated_at)
            VALUES (?, ?, ?, ?, CURRENT_TIMESTAMP)
        
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382, 4, 1.0, 1033338002820313121)
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:142 - set challenge role for guild 897814031346319382 completed in 0.006s
[2025-09-24 00:11:43] [INFO] [Database] set_guild_challenge_role:2107 - ✅ Set challenge role for guild 897814031346319382, challenge 4 -> role 1033338002820313121
[2025-09-24 00:11:43] [INFO] [Database] migrate_default_challenge_roles:1444 - Migrated: Challenge 4, threshold 1.0 -> role 1033338002820313121
[2025-09-24 00:11:43] [INFO] [Database] set_guild_challenge_role:2083 - Setting challenge role for guild 897814031346319382, challenge 5, threshold 1.0 -> role 1075042063596392469
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:115 - Executing set challenge role for guild 897814031346319382
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT OR REPLACE INTO guild_challenge_roles 
            (guild_id, challenge_id, threshold, role_id, updated_at)
            VALUES (?, ?, ?, ?, CURRENT_TIMESTAMP)
        
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382, 5, 1.0, 1075042063596392469)
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:142 - set challenge role for guild 897814031346319382 completed in 0.006s
[2025-09-24 00:11:43] [INFO] [Database] set_guild_challenge_role:2107 - ✅ Set challenge role for guild 897814031346319382, challenge 5 -> role 1075042063596392469
[2025-09-24 00:11:43] [INFO] [Database] migrate_default_challenge_roles:1444 - Migrated: Challenge 5, threshold 1.0 -> role 1075042063596392469
[2025-09-24 00:11:43] [INFO] [Database] set_guild_challenge_role:2083 - Setting challenge role for guild 897814031346319382, challenge 6, threshold 1.0 -> role 1163794823657037874
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:115 - Executing set challenge role for guild 897814031346319382
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT OR REPLACE INTO guild_challenge_roles 
            (guild_id, challenge_id, threshold, role_id, updated_at)
            VALUES (?, ?, ?, ?, CURRENT_TIMESTAMP)
        
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382, 6, 1.0, 1163794823657037874)
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:142 - set challenge role for guild 897814031346319382 completed in 0.005s
[2025-09-24 00:11:43] [INFO] [Database] set_guild_challenge_role:2107 - ✅ Set challenge role for guild 897814031346319382, challenge 6 -> role 1163794823657037874
[2025-09-24 00:11:43] [INFO] [Database] migrate_default_challenge_roles:1444 - Migrated: Challenge 6, threshold 1.0 -> role 1163794823657037874
[2025-09-24 00:11:43] [INFO] [Database] set_guild_challenge_role:2083 - Setting challenge role for guild 897814031346319382, challenge 7, threshold 1.0 -> role 1075042050455650385
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:115 - Executing set challenge role for guild 897814031346319382
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT OR REPLACE INTO guild_challenge_roles 
            (guild_id, challenge_id, threshold, role_id, updated_at)
            VALUES (?, ?, ?, ?, CURRENT_TIMESTAMP)
        
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382, 7, 1.0, 1075042050455650385)
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:142 - set challenge role for guild 897814031346319382 completed in 0.006s
[2025-09-24 00:11:43] [INFO] [Database] set_guild_challenge_role:2107 - ✅ Set challenge role for guild 897814031346319382, challenge 7 -> role 1075042050455650385
[2025-09-24 00:11:43] [INFO] [Database] migrate_default_challenge_roles:1444 - Migrated: Challenge 7, threshold 1.0 -> role 1075042050455650385
[2025-09-24 00:11:43] [INFO] [Database] set_guild_challenge_role:2083 - Setting challenge role for guild 897814031346319382, challenge 8, threshold 1.0 -> role 1180150004279693392
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:115 - Executing set challenge role for guild 897814031346319382
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT OR REPLACE INTO guild_challenge_roles 
            (guild_id, challenge_id, threshold, role_id, updated_at)
            VALUES (?, ?, ?, ?, CURRENT_TIMESTAMP)
        
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382, 8, 1.0, 1180150004279693392)
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:142 - set challenge role for guild 897814031346319382 completed in 0.006s
[2025-09-24 00:11:43] [INFO] [Database] set_guild_challenge_role:2107 - ✅ Set challenge role for guild 897814031346319382, challenge 8 -> role 1180150004279693392
[2025-09-24 00:11:43] [INFO] [Database] migrate_default_challenge_roles:1444 - Migrated: Challenge 8, threshold 1.0 -> role 1180150004279693392
[2025-09-24 00:11:43] [INFO] [Database] set_guild_challenge_role:2083 - Setting challenge role for guild 897814031346319382, challenge 9, threshold 1.0 -> role 1004793487432106064
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:115 - Executing set challenge role for guild 897814031346319382
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT OR REPLACE INTO guild_challenge_roles 
            (guild_id, challenge_id, threshold, role_id, updated_at)
            VALUES (?, ?, ?, ?, CURRENT_TIMESTAMP)
        
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382, 9, 1.0, 1004793487432106064)
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:142 - set challenge role for guild 897814031346319382 completed in 0.007s
[2025-09-24 00:11:43] [INFO] [Database] set_guild_challenge_role:2107 - ✅ Set challenge role for guild 897814031346319382, challenge 9 -> role 1004793487432106064
[2025-09-24 00:11:43] [INFO] [Database] migrate_default_challenge_roles:1444 - Migrated: Challenge 9, threshold 1.0 -> role 1004793487432106064
[2025-09-24 00:11:43] [INFO] [Database] set_guild_challenge_role:2083 - Setting challenge role for guild 897814031346319382, challenge 10, threshold 1.0 -> role 1413986509631131708
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:115 - Executing set challenge role for guild 897814031346319382
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT OR REPLACE INTO guild_challenge_roles 
            (guild_id, challenge_id, threshold, role_id, updated_at)
            VALUES (?, ?, ?, ?, CURRENT_TIMESTAMP)
        
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382, 10, 1.0, 1413986509631131708)
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:142 - set challenge role for guild 897814031346319382 completed in 0.006s
[2025-09-24 00:11:43] [INFO] [Database] set_guild_challenge_role:2107 - ✅ Set challenge role for guild 897814031346319382, challenge 10 -> role 1413986509631131708
[2025-09-24 00:11:43] [INFO] [Database] migrate_default_challenge_roles:1444 - Migrated: Challenge 10, threshold 1.0 -> role 1413986509631131708
[2025-09-24 00:11:43] [INFO] [Database] set_guild_challenge_role:2083 - Setting challenge role for guild 897814031346319382, challenge 11, threshold 1.0 -> role 1414696905317023754
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:115 - Executing set challenge role for guild 897814031346319382
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT OR REPLACE INTO guild_challenge_roles 
            (guild_id, challenge_id, threshold, role_id, updated_at)
            VALUES (?, ?, ?, ?, CURRENT_TIMESTAMP)
        
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382, 11, 1.0, 1414696905317023754)
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:142 - set challenge role for guild 897814031346319382 completed in 0.006s
[2025-09-24 00:11:43] [INFO] [Database] set_guild_challenge_role:2107 - ✅ Set challenge role for guild 897814031346319382, challenge 11 -> role 1414696905317023754
[2025-09-24 00:11:43] [INFO] [Database] migrate_default_challenge_roles:1444 - Migrated: Challenge 11, threshold 1.0 -> role 1414696905317023754
[2025-09-24 00:11:43] [INFO] [Database] set_guild_challenge_role:2083 - Setting challenge role for guild 897814031346319382, challenge 12, threshold 1.0 -> role 1414697102474219611
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:115 - Executing set challenge role for guild 897814031346319382
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT OR REPLACE INTO guild_challenge_roles 
            (guild_id, challenge_id, threshold, role_id, updated_at)
            VALUES (?, ?, ?, ?, CURRENT_TIMESTAMP)
        
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382, 12, 1.0, 1414697102474219611)
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:142 - set challenge role for guild 897814031346319382 completed in 0.006s
[2025-09-24 00:11:43] [INFO] [Database] set_guild_challenge_role:2107 - ✅ Set challenge role for guild 897814031346319382, challenge 12 -> role 1414697102474219611
[2025-09-24 00:11:43] [INFO] [Database] migrate_default_challenge_roles:1444 - Migrated: Challenge 12, threshold 1.0 -> role 1414697102474219611
[2025-09-24 00:11:43] [INFO] [Database] set_guild_challenge_role:2083 - Setting challenge role for guild 897814031346319382, challenge 13, threshold 1.0 -> role 1414286327507321074
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:115 - Executing set challenge role for guild 897814031346319382
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT OR REPLACE INTO guild_challenge_roles 
            (guild_id, challenge_id, threshold, role_id, updated_at)
            VALUES (?, ?, ?, ?, CURRENT_TIMESTAMP)
        
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382, 13, 1.0, 1414286327507321074)
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:142 - set challenge role for guild 897814031346319382 completed in 0.007s
[2025-09-24 00:11:43] [INFO] [Database] set_guild_challenge_role:2107 - ✅ Set challenge role for guild 897814031346319382, challenge 13 -> role 1414286327507321074
[2025-09-24 00:11:43] [INFO] [Database] migrate_default_challenge_roles:1444 - Migrated: Challenge 13, threshold 1.0 -> role 1414286327507321074
[2025-09-24 00:11:43] [INFO] [Database] migrate_default_challenge_roles:1446 - ✅ Successfully migrated 13 default challenge roles
[2025-09-24 00:11:43] [INFO] [Database] init_guild_challenge_roles_table:1423 - ✅ Guild challenge roles table ready.
[2025-09-24 00:11:43] [DEBUG] [Database] init_db:1495 - ✅ Guild Challenge Roles table initialized successfully
[2025-09-24 00:11:43] [DEBUG] [Database] init_db:1492 - Initializing Invite Tracker table...
[2025-09-24 00:11:43] [INFO] [Database] init_invite_tracker_tables:1311 - Initializing invite tracker tables
[2025-09-24 00:11:43] [INFO] [Database] init_invite_tracker_tables:1378 - ✅ Invite tracker tables initialized successfully
[2025-09-24 00:11:43] [DEBUG] [Database] init_db:1495 - ✅ Invite Tracker table initialized successfully
[2025-09-24 00:11:43] [DEBUG] [Database] init_db:1492 - Initializing Steam Users table...
[2025-09-24 00:11:43] [INFO] [Database] init_steam_users_table:1398 - Steam users table ready.
[2025-09-24 00:11:43] [DEBUG] [Database] init_db:1495 - ✅ Steam Users table initialized successfully
[2025-09-24 00:11:43] [DEBUG] [Database] init_db:1492 - Initializing Challenge Manga table...
[2025-09-24 00:11:43] [DEBUG] [Database] init_db:1495 - ✅ Challenge Manga table initialized successfully
[2025-09-24 00:11:43] [INFO] [Database] init_db:1506 - ============================================================
[2025-09-24 00:11:43] [INFO] [Database] init_db:1507 - DATABASE INITIALIZATION SUMMARY
[2025-09-24 00:11:43] [INFO] [Database] init_db:1508 - Total tables: 13
[2025-09-24 00:11:43] [INFO] [Database] init_db:1509 - Successfully initialized: 13
[2025-09-24 00:11:43] [INFO] [Database] init_db:1510 - Failed to initialize: 0
[2025-09-24 00:11:43] [INFO] [Database] init_db:1511 - Total time: 0.19 seconds
[2025-09-24 00:11:43] [INFO] [Database] init_db:1516 - ✅ All database tables initialized successfully
[2025-09-24 00:11:43] [INFO] [Database] init_db:1518 - ============================================================
[2025-09-24 00:11:43] [INFO] [Database] init_db:1523 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.002s
[2025-09-24 00:11:43] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-24 00:11:46] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 00:11:46] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 00:11:46] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-24 00:11:46] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 00:11:46] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 00:11:46] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 00:11:46] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 00:11:46] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-24 00:11:46] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:11:46] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:11:46] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-24 00:11:46] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 00:11:46] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:11:46] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:11:46] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-24 00:11:46] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-24 00:11:46] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:11:46] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:11:46] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-24 00:11:46] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 00:11:46] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:11:46] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:11:46] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-24 00:11:46] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-24 00:11:46] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:11:46] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:11:46] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-24 00:11:46] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-24 00:11:46] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:11:46] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:11:46] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-24 00:11:46] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:11:46] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:11:46] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:11:46] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-24 00:11:46] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:11:46] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:11:46] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:11:46] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-24 00:11:46] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 00:11:47] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:11:47] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:11:47] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('628xd7Sa', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-24 00:11:47] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 00:11:47] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:11:47] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:11:47] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('A8Un8tA2', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-24 00:11:47] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-24 00:11:47] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:11:47] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:11:47] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('AWZ4mqN7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417339097411747853, -1, 2)
[2025-09-24 00:11:47] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 00:11:47] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:11:47] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:11:47] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BM4TWaw9', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417210716318072944, -1, 1)
[2025-09-24 00:11:47] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-24 00:11:47] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:11:47] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:11:47] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HEGVx495', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-24 00:11:47] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:11:47] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:11:47] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:11:47] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HXt8GDc7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417205674059763805, -1, 1)
[2025-09-24 00:11:47] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-24 00:11:47] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:11:47] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:11:47] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('Y9Yq7ufy', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, -1, 1)
[2025-09-24 00:11:47] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 00:11:47] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:11:47] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:11:47] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('aDWyseRm', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417205674059763805, -1, 1)
[2025-09-24 00:11:47] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 00:11:47] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:11:47] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:11:47] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('brpzD6Jm', 1417205672847736955, 336949613464649728, 'rapidecline', 1417310229460418580, -1, 0)
[2025-09-24 00:11:47] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-24 00:11:47] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:11:47] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:11:47] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('sSTAtTJH', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417673227366436997, -1, 1)
[2025-09-24 00:11:47] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-24 00:11:47] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:11:47] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:11:47] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vfwD3rVk', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-24 00:11:47] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 00:11:47] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:11:47] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:11:47] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('zFX6KGvA', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417209847346102312, -1, 1)
[2025-09-24 00:11:47] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:11:48] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 00:11:48] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 00:11:48] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.004s
[2025-09-24 00:11:48] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 00:11:48] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 00:11:48] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 00:11:48] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 00:11:48] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-24 00:11:50] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 00:11:50] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 00:11:50] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-24 00:11:50] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 00:11:50] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 00:11:50] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 00:11:50] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 00:11:50] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-24 00:11:52] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 00:11:52] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 00:11:52] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.004s
[2025-09-24 00:11:52] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 00:11:52] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 00:11:52] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 00:11:52] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 00:11:52] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-24 00:12:03] [INFO] [Database] <module>:60 - ==================================================
[2025-09-24 00:12:03] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-24 00:12:03] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-24 00:12:03] [INFO] [Database] <module>:63 - ==================================================
[2025-09-24 00:12:03] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-24 00:12:03] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-24 00:12:03] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-24 00:12:03] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-24 00:13:41] [INFO] [Database] <module>:60 - ==================================================
[2025-09-24 00:13:41] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-24 00:13:41] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-24 00:13:41] [INFO] [Database] <module>:63 - ==================================================
[2025-09-24 00:13:41] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-24 00:13:41] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-24 00:13:41] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-24 00:13:41] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-24 00:13:41] [INFO] [Database] init_db:1457 - ============================================================
[2025-09-24 00:13:41] [INFO] [Database] init_db:1458 - STARTING DATABASE INITIALIZATION
[2025-09-24 00:13:41] [INFO] [Database] init_db:1459 - ============================================================
[2025-09-24 00:13:41] [INFO] [Database] init_db:1484 - Verifying database connectivity...
[2025-09-24 00:13:41] [INFO] [Database] init_db:1487 - ✅ Database connectivity verified
[2025-09-24 00:13:41] [DEBUG] [Database] init_db:1492 - Initializing Users table...
[2025-09-24 00:13:41] [INFO] [Database] init_users_table:218 - Initializing users table
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-24 00:13:41] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.003s: duplicate column name: anilist_username
[2025-09-24 00:13:41] [DEBUG] [Database] init_users_table:251 - Column 'anilist_username' already exists in users table
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-24 00:13:41] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.001s: duplicate column name: anilist_id
[2025-09-24 00:13:41] [DEBUG] [Database] init_users_table:251 - Column 'anilist_id' already exists in users table
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:115 - Executing add guild_id column to users
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN guild_id INTEGER
[2025-09-24 00:13:41] [ERROR] [Database] execute_db_operation:156 - add guild_id column to users failed after 0.001s: duplicate column name: guild_id
[2025-09-24 00:13:41] [DEBUG] [Database] init_users_table:251 - Column 'guild_id' already exists in users table
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 00:13:41] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.001s: duplicate column name: created_at
[2025-09-24 00:13:41] [DEBUG] [Database] init_users_table:251 - Column 'created_at' already exists in users table
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 00:13:41] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.001s: duplicate column name: updated_at
[2025-09-24 00:13:41] [DEBUG] [Database] init_users_table:251 - Column 'updated_at' already exists in users table
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.002s
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 00:13:41] [DEBUG] [Database] init_users_table:258 - Users table schema: 8 columns
[2025-09-24 00:13:41] [DEBUG] [Database] init_users_table:260 -   Column: id (INTEGER)
[2025-09-24 00:13:41] [DEBUG] [Database] init_users_table:260 -   Column: discord_id (INTEGER)
[2025-09-24 00:13:41] [DEBUG] [Database] init_users_table:260 -   Column: guild_id (INTEGER)
[2025-09-24 00:13:41] [DEBUG] [Database] init_users_table:260 -   Column: username (TEXT)
[2025-09-24 00:13:41] [DEBUG] [Database] init_users_table:260 -   Column: anilist_username (TEXT)
[2025-09-24 00:13:41] [DEBUG] [Database] init_users_table:260 -   Column: anilist_id (INTEGER)
[2025-09-24 00:13:41] [DEBUG] [Database] init_users_table:260 -   Column: created_at (DATETIME)
[2025-09-24 00:13:41] [DEBUG] [Database] init_users_table:260 -   Column: updated_at (DATETIME)
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:115 - Executing check guild_id usage
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT COUNT(*) FROM users WHERE guild_id IS NOT NULL
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:142 - check guild_id usage completed in 0.002s
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 1
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 1, 'test1')
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 1 completed in 0.006s
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 2
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 2, 'test2')
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 2 completed in 0.005s
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:115 - Executing cleanup test data
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:116 - Query: DELETE FROM users WHERE discord_id = ?
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999,)
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:142 - cleanup test data completed in 0.007s
[2025-09-24 00:13:41] [INFO] [Database] init_users_table:298 - ✅ Multi-guild support confirmed - table supports multiple guilds per user
[2025-09-24 00:13:41] [INFO] [Database] init_users_table:312 - ✅ Users table initialization completed successfully
[2025-09-24 00:13:41] [DEBUG] [Database] init_db:1495 - ✅ Users table initialized successfully
[2025-09-24 00:13:41] [DEBUG] [Database] init_db:1492 - Initializing Challenge Rules table...
[2025-09-24 00:13:41] [INFO] [Database] init_challenge_rules_table:761 - Initializing challenge rules table
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.002s
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 00:13:41] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.001s: Cannot add a column with non-constant default
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 00:13:41] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.001s: Cannot add a column with non-constant default
[2025-09-24 00:13:41] [INFO] [Database] init_challenge_rules_table:785 - ✅ Challenge rules table initialization completed
[2025-09-24 00:13:41] [DEBUG] [Database] init_db:1495 - ✅ Challenge Rules table initialized successfully
[2025-09-24 00:13:41] [DEBUG] [Database] init_db:1492 - Initializing Recommendation Votes table...
[2025-09-24 00:13:41] [INFO] [Database] init_recommendation_votes_table:853 - Manga recommendation votes table ready.
[2025-09-24 00:13:41] [DEBUG] [Database] init_db:1495 - ✅ Recommendation Votes table initialized successfully
[2025-09-24 00:13:41] [DEBUG] [Database] init_db:1492 - Initializing User Stats table...
[2025-09-24 00:13:41] [INFO] [Database] init_user_stats_table:871 - User stats table ready.
[2025-09-24 00:13:41] [DEBUG] [Database] init_db:1495 - ✅ User Stats table initialized successfully
[2025-09-24 00:13:41] [DEBUG] [Database] init_db:1492 - Initializing Achievements table...
[2025-09-24 00:13:41] [INFO] [Database] init_achievements_table:887 - Achievements table ready.
[2025-09-24 00:13:41] [DEBUG] [Database] init_db:1495 - ✅ Achievements table initialized successfully
[2025-09-24 00:13:41] [DEBUG] [Database] init_db:1492 - Initializing User Manga Progress table...
[2025-09-24 00:13:41] [INFO] [Database] init_user_manga_progress_table:923 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-24 00:13:41] [DEBUG] [Database] init_db:1495 - ✅ User Manga Progress table initialized successfully
[2025-09-24 00:13:41] [DEBUG] [Database] init_db:1492 - Initializing Manga Challenges table...
[2025-09-24 00:13:41] [DEBUG] [Database] init_db:1495 - ✅ Manga Challenges table initialized successfully
[2025-09-24 00:13:41] [DEBUG] [Database] init_db:1492 - Initializing User Progress table...
[2025-09-24 00:13:41] [DEBUG] [Database] init_db:1495 - ✅ User Progress table initialized successfully
[2025-09-24 00:13:41] [DEBUG] [Database] init_db:1492 - Initializing Global Challenges table...
[2025-09-24 00:13:41] [INFO] [Database] init_global_challenges_table:1221 - Global challenges table ready with difficulty column.
[2025-09-24 00:13:41] [DEBUG] [Database] init_db:1495 - ✅ Global Challenges table initialized successfully
[2025-09-24 00:13:41] [DEBUG] [Database] init_db:1492 - Initializing Guild Challenge Roles table...
[2025-09-24 00:13:41] [INFO] [Database] init_guild_challenge_roles_table:1403 - 🔧 Initializing guild challenge roles table...
[2025-09-24 00:13:41] [INFO] [Database] get_guild_challenge_roles:2119 - Getting challenge roles for guild 897814031346319382
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:115 - Executing get challenge roles for guild 897814031346319382
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT challenge_id, threshold, role_id 
            FROM guild_challenge_roles 
            WHERE guild_id = ?
            ORDER BY challenge_id, threshold
        
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:142 - get challenge roles for guild 897814031346319382 completed in 0.002s
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:148 - Query returned 13 rows
[2025-09-24 00:13:41] [INFO] [Database] get_guild_challenge_roles:2147 - ✅ Retrieved 13 challenge role configurations for guild 897814031346319382
[2025-09-24 00:13:41] [INFO] [Database] migrate_default_challenge_roles:1435 - Default challenge roles already exist for primary guild 897814031346319382
[2025-09-24 00:13:41] [INFO] [Database] init_guild_challenge_roles_table:1423 - ✅ Guild challenge roles table ready.
[2025-09-24 00:13:41] [DEBUG] [Database] init_db:1495 - ✅ Guild Challenge Roles table initialized successfully
[2025-09-24 00:13:41] [DEBUG] [Database] init_db:1492 - Initializing Invite Tracker table...
[2025-09-24 00:13:41] [INFO] [Database] init_invite_tracker_tables:1311 - Initializing invite tracker tables
[2025-09-24 00:13:41] [INFO] [Database] init_invite_tracker_tables:1378 - ✅ Invite tracker tables initialized successfully
[2025-09-24 00:13:41] [DEBUG] [Database] init_db:1495 - ✅ Invite Tracker table initialized successfully
[2025-09-24 00:13:41] [DEBUG] [Database] init_db:1492 - Initializing Steam Users table...
[2025-09-24 00:13:41] [INFO] [Database] init_steam_users_table:1398 - Steam users table ready.
[2025-09-24 00:13:41] [DEBUG] [Database] init_db:1495 - ✅ Steam Users table initialized successfully
[2025-09-24 00:13:41] [DEBUG] [Database] init_db:1492 - Initializing Challenge Manga table...
[2025-09-24 00:13:41] [DEBUG] [Database] init_db:1495 - ✅ Challenge Manga table initialized successfully
[2025-09-24 00:13:41] [INFO] [Database] init_db:1506 - ============================================================
[2025-09-24 00:13:41] [INFO] [Database] init_db:1507 - DATABASE INITIALIZATION SUMMARY
[2025-09-24 00:13:41] [INFO] [Database] init_db:1508 - Total tables: 13
[2025-09-24 00:13:41] [INFO] [Database] init_db:1509 - Successfully initialized: 13
[2025-09-24 00:13:41] [INFO] [Database] init_db:1510 - Failed to initialize: 0
[2025-09-24 00:13:41] [INFO] [Database] init_db:1511 - Total time: 0.07 seconds
[2025-09-24 00:13:41] [INFO] [Database] init_db:1516 - ✅ All database tables initialized successfully
[2025-09-24 00:13:41] [INFO] [Database] init_db:1518 - ============================================================
[2025-09-24 00:13:41] [INFO] [Database] init_db:1523 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.004s
[2025-09-24 00:13:41] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-24 00:13:56] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 00:13:56] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 00:13:56] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-24 00:13:56] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 00:13:56] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 00:13:56] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 00:13:56] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 00:13:56] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-24 00:13:56] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:13:56] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:13:56] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-24 00:13:56] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 00:13:56] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:13:56] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:13:56] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-24 00:13:56] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:13:56] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:13:56] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:13:56] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-24 00:13:56] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:13:56] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:13:56] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:13:56] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-24 00:13:56] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:13:56] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:13:56] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:13:56] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-24 00:13:56] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:13:56] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:13:56] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:13:56] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-24 00:13:56] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 00:13:56] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:13:56] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:13:56] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-24 00:13:56] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:13:56] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:13:56] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:13:56] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-24 00:13:56] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:13:57] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:13:57] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:13:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('628xd7Sa', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-24 00:13:57] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 00:13:57] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:13:57] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:13:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('A8Un8tA2', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-24 00:13:57] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 00:13:57] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:13:57] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:13:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('AWZ4mqN7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417339097411747853, -1, 2)
[2025-09-24 00:13:57] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:13:57] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:13:57] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:13:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BM4TWaw9', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417210716318072944, -1, 1)
[2025-09-24 00:13:57] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:13:57] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:13:57] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:13:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HEGVx495', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-24 00:13:57] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:13:57] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:13:57] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:13:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HXt8GDc7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417205674059763805, -1, 1)
[2025-09-24 00:13:57] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:13:57] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:13:57] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:13:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('Y9Yq7ufy', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, -1, 1)
[2025-09-24 00:13:57] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-24 00:13:57] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:13:57] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:13:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('aDWyseRm', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417205674059763805, -1, 1)
[2025-09-24 00:13:57] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:13:57] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:13:57] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:13:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('brpzD6Jm', 1417205672847736955, 336949613464649728, 'rapidecline', 1417310229460418580, -1, 0)
[2025-09-24 00:13:57] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 00:13:57] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:13:57] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:13:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('sSTAtTJH', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417673227366436997, -1, 1)
[2025-09-24 00:13:57] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:13:57] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:13:57] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:13:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vfwD3rVk', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-24 00:13:57] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 00:13:57] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:13:57] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:13:57] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('zFX6KGvA', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417209847346102312, -1, 1)
[2025-09-24 00:13:57] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.004s
[2025-09-24 00:13:58] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 00:13:58] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 00:13:58] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.004s
[2025-09-24 00:13:58] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 00:13:58] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 00:13:58] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 00:13:58] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 00:13:58] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-24 00:14:00] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 00:14:00] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 00:14:00] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-24 00:14:00] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 00:14:00] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 00:14:00] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 00:14:00] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 00:14:00] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-24 00:14:02] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 00:14:02] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 00:14:02] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-24 00:14:02] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 00:14:02] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 00:14:02] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 00:14:02] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 00:14:02] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-24 00:15:39] [INFO] [Database] <module>:60 - ==================================================
[2025-09-24 00:15:39] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-24 00:15:39] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-24 00:15:39] [INFO] [Database] <module>:63 - ==================================================
[2025-09-24 00:15:39] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-24 00:15:39] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-24 00:15:39] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-24 00:15:39] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-24 00:15:39] [INFO] [Database] init_challenge_rules_table:761 - Initializing challenge rules table
[2025-09-24 00:15:39] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-24 00:15:39] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 00:15:39] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.002s
[2025-09-24 00:15:39] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-24 00:15:39] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME
[2025-09-24 00:15:39] [DEBUG] [Database] execute_db_operation:142 - add created_at to challenge_rules completed in 0.006s
[2025-09-24 00:15:39] [DEBUG] [Database] init_challenge_rules_table:781 - Added missing column 'created_at' to challenge_rules table
[2025-09-24 00:15:39] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-24 00:15:39] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME
[2025-09-24 00:15:39] [DEBUG] [Database] execute_db_operation:142 - add updated_at to challenge_rules completed in 0.005s
[2025-09-24 00:15:39] [DEBUG] [Database] init_challenge_rules_table:781 - Added missing column 'updated_at' to challenge_rules table
[2025-09-24 00:15:39] [INFO] [Database] init_challenge_rules_table:790 - ✅ Challenge rules table initialization completed
[2025-09-24 00:17:03] [INFO] [Database] <module>:60 - ==================================================
[2025-09-24 00:17:03] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-24 00:17:03] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-24 00:17:03] [INFO] [Database] <module>:63 - ==================================================
[2025-09-24 00:17:03] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-24 00:17:03] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-24 00:17:03] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-24 00:17:03] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-24 00:17:03] [INFO] [Database] init_db:1462 - ============================================================
[2025-09-24 00:17:03] [INFO] [Database] init_db:1463 - STARTING DATABASE INITIALIZATION
[2025-09-24 00:17:03] [INFO] [Database] init_db:1464 - ============================================================
[2025-09-24 00:17:03] [INFO] [Database] init_db:1489 - Verifying database connectivity...
[2025-09-24 00:17:03] [INFO] [Database] init_db:1492 - ✅ Database connectivity verified
[2025-09-24 00:17:03] [DEBUG] [Database] init_db:1497 - Initializing Users table...
[2025-09-24 00:17:03] [INFO] [Database] init_users_table:218 - Initializing users table
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-24 00:17:03] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.001s: duplicate column name: anilist_username
[2025-09-24 00:17:03] [DEBUG] [Database] init_users_table:251 - Column 'anilist_username' already exists in users table
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-24 00:17:03] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.001s: duplicate column name: anilist_id
[2025-09-24 00:17:03] [DEBUG] [Database] init_users_table:251 - Column 'anilist_id' already exists in users table
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:115 - Executing add guild_id column to users
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN guild_id INTEGER
[2025-09-24 00:17:03] [ERROR] [Database] execute_db_operation:156 - add guild_id column to users failed after 0.002s: duplicate column name: guild_id
[2025-09-24 00:17:03] [DEBUG] [Database] init_users_table:251 - Column 'guild_id' already exists in users table
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 00:17:03] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.002s: duplicate column name: created_at
[2025-09-24 00:17:03] [DEBUG] [Database] init_users_table:251 - Column 'created_at' already exists in users table
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 00:17:03] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.002s: duplicate column name: updated_at
[2025-09-24 00:17:03] [DEBUG] [Database] init_users_table:251 - Column 'updated_at' already exists in users table
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.002s
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 00:17:03] [DEBUG] [Database] init_users_table:258 - Users table schema: 8 columns
[2025-09-24 00:17:03] [DEBUG] [Database] init_users_table:260 -   Column: id (INTEGER)
[2025-09-24 00:17:03] [DEBUG] [Database] init_users_table:260 -   Column: discord_id (INTEGER)
[2025-09-24 00:17:03] [DEBUG] [Database] init_users_table:260 -   Column: guild_id (INTEGER)
[2025-09-24 00:17:03] [DEBUG] [Database] init_users_table:260 -   Column: username (TEXT)
[2025-09-24 00:17:03] [DEBUG] [Database] init_users_table:260 -   Column: anilist_username (TEXT)
[2025-09-24 00:17:03] [DEBUG] [Database] init_users_table:260 -   Column: anilist_id (INTEGER)
[2025-09-24 00:17:03] [DEBUG] [Database] init_users_table:260 -   Column: created_at (DATETIME)
[2025-09-24 00:17:03] [DEBUG] [Database] init_users_table:260 -   Column: updated_at (DATETIME)
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:115 - Executing check guild_id usage
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT COUNT(*) FROM users WHERE guild_id IS NOT NULL
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:142 - check guild_id usage completed in 0.002s
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 1
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 1, 'test1')
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 1 completed in 0.004s
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 2
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 2, 'test2')
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 2 completed in 0.005s
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:115 - Executing cleanup test data
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:116 - Query: DELETE FROM users WHERE discord_id = ?
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999,)
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:142 - cleanup test data completed in 0.005s
[2025-09-24 00:17:03] [INFO] [Database] init_users_table:298 - ✅ Multi-guild support confirmed - table supports multiple guilds per user
[2025-09-24 00:17:03] [INFO] [Database] init_users_table:312 - ✅ Users table initialization completed successfully
[2025-09-24 00:17:03] [DEBUG] [Database] init_db:1500 - ✅ Users table initialized successfully
[2025-09-24 00:17:03] [DEBUG] [Database] init_db:1497 - Initializing Challenge Rules table...
[2025-09-24 00:17:03] [INFO] [Database] init_challenge_rules_table:761 - Initializing challenge rules table
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.002s
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME
[2025-09-24 00:17:03] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.002s: duplicate column name: created_at
[2025-09-24 00:17:03] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'created_at' already exists in challenge_rules table
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME
[2025-09-24 00:17:03] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.002s: duplicate column name: updated_at
[2025-09-24 00:17:03] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'updated_at' already exists in challenge_rules table
[2025-09-24 00:17:03] [INFO] [Database] init_challenge_rules_table:790 - ✅ Challenge rules table initialization completed
[2025-09-24 00:17:03] [DEBUG] [Database] init_db:1500 - ✅ Challenge Rules table initialized successfully
[2025-09-24 00:17:03] [DEBUG] [Database] init_db:1497 - Initializing Recommendation Votes table...
[2025-09-24 00:17:03] [INFO] [Database] init_recommendation_votes_table:858 - Manga recommendation votes table ready.
[2025-09-24 00:17:03] [DEBUG] [Database] init_db:1500 - ✅ Recommendation Votes table initialized successfully
[2025-09-24 00:17:03] [DEBUG] [Database] init_db:1497 - Initializing User Stats table...
[2025-09-24 00:17:03] [INFO] [Database] init_user_stats_table:876 - User stats table ready.
[2025-09-24 00:17:03] [DEBUG] [Database] init_db:1500 - ✅ User Stats table initialized successfully
[2025-09-24 00:17:03] [DEBUG] [Database] init_db:1497 - Initializing Achievements table...
[2025-09-24 00:17:03] [INFO] [Database] init_achievements_table:892 - Achievements table ready.
[2025-09-24 00:17:03] [DEBUG] [Database] init_db:1500 - ✅ Achievements table initialized successfully
[2025-09-24 00:17:03] [DEBUG] [Database] init_db:1497 - Initializing User Manga Progress table...
[2025-09-24 00:17:03] [INFO] [Database] init_user_manga_progress_table:928 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-24 00:17:03] [DEBUG] [Database] init_db:1500 - ✅ User Manga Progress table initialized successfully
[2025-09-24 00:17:03] [DEBUG] [Database] init_db:1497 - Initializing Manga Challenges table...
[2025-09-24 00:17:03] [DEBUG] [Database] init_db:1500 - ✅ Manga Challenges table initialized successfully
[2025-09-24 00:17:03] [DEBUG] [Database] init_db:1497 - Initializing User Progress table...
[2025-09-24 00:17:03] [DEBUG] [Database] init_db:1500 - ✅ User Progress table initialized successfully
[2025-09-24 00:17:03] [DEBUG] [Database] init_db:1497 - Initializing Global Challenges table...
[2025-09-24 00:17:03] [INFO] [Database] init_global_challenges_table:1226 - Global challenges table ready with difficulty column.
[2025-09-24 00:17:03] [DEBUG] [Database] init_db:1500 - ✅ Global Challenges table initialized successfully
[2025-09-24 00:17:03] [DEBUG] [Database] init_db:1497 - Initializing Guild Challenge Roles table...
[2025-09-24 00:17:03] [INFO] [Database] init_guild_challenge_roles_table:1408 - 🔧 Initializing guild challenge roles table...
[2025-09-24 00:17:03] [INFO] [Database] get_guild_challenge_roles:2124 - Getting challenge roles for guild 897814031346319382
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:115 - Executing get challenge roles for guild 897814031346319382
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT challenge_id, threshold, role_id 
            FROM guild_challenge_roles 
            WHERE guild_id = ?
            ORDER BY challenge_id, threshold
        
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:142 - get challenge roles for guild 897814031346319382 completed in 0.002s
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:148 - Query returned 13 rows
[2025-09-24 00:17:03] [INFO] [Database] get_guild_challenge_roles:2152 - ✅ Retrieved 13 challenge role configurations for guild 897814031346319382
[2025-09-24 00:17:03] [INFO] [Database] migrate_default_challenge_roles:1440 - Default challenge roles already exist for primary guild 897814031346319382
[2025-09-24 00:17:03] [INFO] [Database] init_guild_challenge_roles_table:1428 - ✅ Guild challenge roles table ready.
[2025-09-24 00:17:03] [DEBUG] [Database] init_db:1500 - ✅ Guild Challenge Roles table initialized successfully
[2025-09-24 00:17:03] [DEBUG] [Database] init_db:1497 - Initializing Invite Tracker table...
[2025-09-24 00:17:03] [INFO] [Database] init_invite_tracker_tables:1316 - Initializing invite tracker tables
[2025-09-24 00:17:03] [INFO] [Database] init_invite_tracker_tables:1383 - ✅ Invite tracker tables initialized successfully
[2025-09-24 00:17:03] [DEBUG] [Database] init_db:1500 - ✅ Invite Tracker table initialized successfully
[2025-09-24 00:17:03] [DEBUG] [Database] init_db:1497 - Initializing Steam Users table...
[2025-09-24 00:17:03] [INFO] [Database] init_steam_users_table:1403 - Steam users table ready.
[2025-09-24 00:17:03] [DEBUG] [Database] init_db:1500 - ✅ Steam Users table initialized successfully
[2025-09-24 00:17:03] [DEBUG] [Database] init_db:1497 - Initializing Challenge Manga table...
[2025-09-24 00:17:03] [DEBUG] [Database] init_db:1500 - ✅ Challenge Manga table initialized successfully
[2025-09-24 00:17:03] [INFO] [Database] init_db:1511 - ============================================================
[2025-09-24 00:17:03] [INFO] [Database] init_db:1512 - DATABASE INITIALIZATION SUMMARY
[2025-09-24 00:17:03] [INFO] [Database] init_db:1513 - Total tables: 13
[2025-09-24 00:17:03] [INFO] [Database] init_db:1514 - Successfully initialized: 13
[2025-09-24 00:17:03] [INFO] [Database] init_db:1515 - Failed to initialize: 0
[2025-09-24 00:17:03] [INFO] [Database] init_db:1516 - Total time: 0.07 seconds
[2025-09-24 00:17:03] [INFO] [Database] init_db:1521 - ✅ All database tables initialized successfully
[2025-09-24 00:17:03] [INFO] [Database] init_db:1523 - ============================================================
[2025-09-24 00:17:03] [INFO] [Database] init_db:1528 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.002s
[2025-09-24 00:17:03] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-24 00:17:07] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 00:17:07] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 00:17:07] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-24 00:17:07] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 00:17:07] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 00:17:07] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 00:17:07] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.003s
[2025-09-24 00:17:07] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-24 00:17:07] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:17:07] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:17:07] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-24 00:17:07] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:17:07] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:17:07] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:17:07] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-24 00:17:07] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 00:17:07] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:17:07] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:17:07] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-24 00:17:07] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:17:07] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:17:07] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:17:07] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-24 00:17:07] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:17:07] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:17:07] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:17:07] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-24 00:17:07] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:17:07] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:17:07] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:17:07] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-24 00:17:07] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:17:07] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:17:07] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:17:07] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-24 00:17:07] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 00:17:07] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:17:07] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:17:07] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-24 00:17:07] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 00:17:08] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:17:08] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:17:08] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('628xd7Sa', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-24 00:17:08] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 00:17:08] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:17:08] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:17:08] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('A8Un8tA2', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-24 00:17:08] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 00:17:08] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:17:08] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:17:08] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('AWZ4mqN7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417339097411747853, -1, 2)
[2025-09-24 00:17:08] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:17:08] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:17:08] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:17:08] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BM4TWaw9', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417210716318072944, -1, 1)
[2025-09-24 00:17:08] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:17:08] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:17:08] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:17:08] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HEGVx495', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-24 00:17:08] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:17:08] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:17:08] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:17:08] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HXt8GDc7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417205674059763805, -1, 1)
[2025-09-24 00:17:08] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 00:17:08] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:17:08] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:17:08] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('Y9Yq7ufy', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, -1, 1)
[2025-09-24 00:17:08] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:17:08] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:17:08] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:17:08] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('aDWyseRm', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417205674059763805, -1, 1)
[2025-09-24 00:17:08] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 00:17:08] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:17:08] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:17:08] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('brpzD6Jm', 1417205672847736955, 336949613464649728, 'rapidecline', 1417310229460418580, -1, 0)
[2025-09-24 00:17:08] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:17:08] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:17:08] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:17:08] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('sSTAtTJH', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417673227366436997, -1, 1)
[2025-09-24 00:17:08] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:17:08] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:17:08] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:17:08] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vfwD3rVk', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-24 00:17:08] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:17:08] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:17:08] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:17:08] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('zFX6KGvA', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417209847346102312, -1, 1)
[2025-09-24 00:17:08] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:17:09] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 00:17:09] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 00:17:09] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.007s
[2025-09-24 00:17:09] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 00:17:09] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 00:17:09] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 00:17:09] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 00:17:09] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-24 00:17:11] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 00:17:11] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 00:17:11] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.014s
[2025-09-24 00:17:11] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 00:17:11] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 00:17:11] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 00:17:11] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 00:17:11] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-24 00:17:13] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 00:17:13] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 00:17:13] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.013s
[2025-09-24 00:17:13] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 00:17:13] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 00:17:13] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 00:17:13] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 00:17:13] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-24 00:25:03] [INFO] [Database] <module>:60 - ==================================================
[2025-09-24 00:25:03] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-24 00:25:03] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-24 00:25:03] [INFO] [Database] <module>:63 - ==================================================
[2025-09-24 00:25:03] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-24 00:25:03] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-24 00:25:03] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-24 00:25:03] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-24 00:25:03] [INFO] [Database] init_db:1462 - ============================================================
[2025-09-24 00:25:03] [INFO] [Database] init_db:1463 - STARTING DATABASE INITIALIZATION
[2025-09-24 00:25:03] [INFO] [Database] init_db:1464 - ============================================================
[2025-09-24 00:25:03] [INFO] [Database] init_db:1489 - Verifying database connectivity...
[2025-09-24 00:25:03] [INFO] [Database] init_db:1492 - ✅ Database connectivity verified
[2025-09-24 00:25:03] [DEBUG] [Database] init_db:1497 - Initializing Users table...
[2025-09-24 00:25:03] [INFO] [Database] init_users_table:218 - Initializing users table
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.004s
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-24 00:25:03] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.002s: duplicate column name: anilist_username
[2025-09-24 00:25:03] [DEBUG] [Database] init_users_table:251 - Column 'anilist_username' already exists in users table
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-24 00:25:03] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.002s: duplicate column name: anilist_id
[2025-09-24 00:25:03] [DEBUG] [Database] init_users_table:251 - Column 'anilist_id' already exists in users table
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:115 - Executing add guild_id column to users
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN guild_id INTEGER
[2025-09-24 00:25:03] [ERROR] [Database] execute_db_operation:156 - add guild_id column to users failed after 0.002s: duplicate column name: guild_id
[2025-09-24 00:25:03] [DEBUG] [Database] init_users_table:251 - Column 'guild_id' already exists in users table
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 00:25:03] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.002s: duplicate column name: created_at
[2025-09-24 00:25:03] [DEBUG] [Database] init_users_table:251 - Column 'created_at' already exists in users table
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 00:25:03] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.001s: duplicate column name: updated_at
[2025-09-24 00:25:03] [DEBUG] [Database] init_users_table:251 - Column 'updated_at' already exists in users table
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.003s
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 00:25:03] [DEBUG] [Database] init_users_table:258 - Users table schema: 8 columns
[2025-09-24 00:25:03] [DEBUG] [Database] init_users_table:260 -   Column: id (INTEGER)
[2025-09-24 00:25:03] [DEBUG] [Database] init_users_table:260 -   Column: discord_id (INTEGER)
[2025-09-24 00:25:03] [DEBUG] [Database] init_users_table:260 -   Column: guild_id (INTEGER)
[2025-09-24 00:25:03] [DEBUG] [Database] init_users_table:260 -   Column: username (TEXT)
[2025-09-24 00:25:03] [DEBUG] [Database] init_users_table:260 -   Column: anilist_username (TEXT)
[2025-09-24 00:25:03] [DEBUG] [Database] init_users_table:260 -   Column: anilist_id (INTEGER)
[2025-09-24 00:25:03] [DEBUG] [Database] init_users_table:260 -   Column: created_at (DATETIME)
[2025-09-24 00:25:03] [DEBUG] [Database] init_users_table:260 -   Column: updated_at (DATETIME)
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:115 - Executing check guild_id usage
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT COUNT(*) FROM users WHERE guild_id IS NOT NULL
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:142 - check guild_id usage completed in 0.003s
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 1
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 1, 'test1')
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 1 completed in 0.005s
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 2
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 2, 'test2')
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 2 completed in 0.006s
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:115 - Executing cleanup test data
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:116 - Query: DELETE FROM users WHERE discord_id = ?
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999,)
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:142 - cleanup test data completed in 0.005s
[2025-09-24 00:25:03] [INFO] [Database] init_users_table:298 - ✅ Multi-guild support confirmed - table supports multiple guilds per user
[2025-09-24 00:25:03] [INFO] [Database] init_users_table:312 - ✅ Users table initialization completed successfully
[2025-09-24 00:25:03] [DEBUG] [Database] init_db:1500 - ✅ Users table initialized successfully
[2025-09-24 00:25:03] [DEBUG] [Database] init_db:1497 - Initializing Challenge Rules table...
[2025-09-24 00:25:03] [INFO] [Database] init_challenge_rules_table:761 - Initializing challenge rules table
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.002s
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME
[2025-09-24 00:25:03] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.002s: duplicate column name: created_at
[2025-09-24 00:25:03] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'created_at' already exists in challenge_rules table
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME
[2025-09-24 00:25:03] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.002s: duplicate column name: updated_at
[2025-09-24 00:25:03] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'updated_at' already exists in challenge_rules table
[2025-09-24 00:25:03] [INFO] [Database] init_challenge_rules_table:790 - ✅ Challenge rules table initialization completed
[2025-09-24 00:25:03] [DEBUG] [Database] init_db:1500 - ✅ Challenge Rules table initialized successfully
[2025-09-24 00:25:03] [DEBUG] [Database] init_db:1497 - Initializing Recommendation Votes table...
[2025-09-24 00:25:03] [INFO] [Database] init_recommendation_votes_table:858 - Manga recommendation votes table ready.
[2025-09-24 00:25:03] [DEBUG] [Database] init_db:1500 - ✅ Recommendation Votes table initialized successfully
[2025-09-24 00:25:03] [DEBUG] [Database] init_db:1497 - Initializing User Stats table...
[2025-09-24 00:25:03] [INFO] [Database] init_user_stats_table:876 - User stats table ready.
[2025-09-24 00:25:03] [DEBUG] [Database] init_db:1500 - ✅ User Stats table initialized successfully
[2025-09-24 00:25:03] [DEBUG] [Database] init_db:1497 - Initializing Achievements table...
[2025-09-24 00:25:03] [INFO] [Database] init_achievements_table:892 - Achievements table ready.
[2025-09-24 00:25:03] [DEBUG] [Database] init_db:1500 - ✅ Achievements table initialized successfully
[2025-09-24 00:25:03] [DEBUG] [Database] init_db:1497 - Initializing User Manga Progress table...
[2025-09-24 00:25:03] [INFO] [Database] init_user_manga_progress_table:928 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-24 00:25:03] [DEBUG] [Database] init_db:1500 - ✅ User Manga Progress table initialized successfully
[2025-09-24 00:25:03] [DEBUG] [Database] init_db:1497 - Initializing Manga Challenges table...
[2025-09-24 00:25:03] [DEBUG] [Database] init_db:1500 - ✅ Manga Challenges table initialized successfully
[2025-09-24 00:25:03] [DEBUG] [Database] init_db:1497 - Initializing User Progress table...
[2025-09-24 00:25:03] [DEBUG] [Database] init_db:1500 - ✅ User Progress table initialized successfully
[2025-09-24 00:25:03] [DEBUG] [Database] init_db:1497 - Initializing Global Challenges table...
[2025-09-24 00:25:03] [INFO] [Database] init_global_challenges_table:1226 - Global challenges table ready with difficulty column.
[2025-09-24 00:25:03] [DEBUG] [Database] init_db:1500 - ✅ Global Challenges table initialized successfully
[2025-09-24 00:25:03] [DEBUG] [Database] init_db:1497 - Initializing Guild Challenge Roles table...
[2025-09-24 00:25:03] [INFO] [Database] init_guild_challenge_roles_table:1408 - 🔧 Initializing guild challenge roles table...
[2025-09-24 00:25:03] [INFO] [Database] get_guild_challenge_roles:2124 - Getting challenge roles for guild 897814031346319382
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:115 - Executing get challenge roles for guild 897814031346319382
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT challenge_id, threshold, role_id 
            FROM guild_challenge_roles 
            WHERE guild_id = ?
            ORDER BY challenge_id, threshold
        
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:142 - get challenge roles for guild 897814031346319382 completed in 0.002s
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:148 - Query returned 13 rows
[2025-09-24 00:25:03] [INFO] [Database] get_guild_challenge_roles:2152 - ✅ Retrieved 13 challenge role configurations for guild 897814031346319382
[2025-09-24 00:25:03] [INFO] [Database] migrate_default_challenge_roles:1440 - Default challenge roles already exist for primary guild 897814031346319382
[2025-09-24 00:25:03] [INFO] [Database] init_guild_challenge_roles_table:1428 - ✅ Guild challenge roles table ready.
[2025-09-24 00:25:03] [DEBUG] [Database] init_db:1500 - ✅ Guild Challenge Roles table initialized successfully
[2025-09-24 00:25:03] [DEBUG] [Database] init_db:1497 - Initializing Invite Tracker table...
[2025-09-24 00:25:03] [INFO] [Database] init_invite_tracker_tables:1316 - Initializing invite tracker tables
[2025-09-24 00:25:03] [INFO] [Database] init_invite_tracker_tables:1383 - ✅ Invite tracker tables initialized successfully
[2025-09-24 00:25:03] [DEBUG] [Database] init_db:1500 - ✅ Invite Tracker table initialized successfully
[2025-09-24 00:25:03] [DEBUG] [Database] init_db:1497 - Initializing Steam Users table...
[2025-09-24 00:25:03] [INFO] [Database] init_steam_users_table:1403 - Steam users table ready.
[2025-09-24 00:25:03] [DEBUG] [Database] init_db:1500 - ✅ Steam Users table initialized successfully
[2025-09-24 00:25:03] [DEBUG] [Database] init_db:1497 - Initializing Challenge Manga table...
[2025-09-24 00:25:03] [DEBUG] [Database] init_db:1500 - ✅ Challenge Manga table initialized successfully
[2025-09-24 00:25:03] [INFO] [Database] init_db:1511 - ============================================================
[2025-09-24 00:25:03] [INFO] [Database] init_db:1512 - DATABASE INITIALIZATION SUMMARY
[2025-09-24 00:25:03] [INFO] [Database] init_db:1513 - Total tables: 13
[2025-09-24 00:25:03] [INFO] [Database] init_db:1514 - Successfully initialized: 13
[2025-09-24 00:25:03] [INFO] [Database] init_db:1515 - Failed to initialize: 0
[2025-09-24 00:25:03] [INFO] [Database] init_db:1516 - Total time: 0.08 seconds
[2025-09-24 00:25:03] [INFO] [Database] init_db:1521 - ✅ All database tables initialized successfully
[2025-09-24 00:25:03] [INFO] [Database] init_db:1523 - ============================================================
[2025-09-24 00:25:03] [INFO] [Database] init_db:1528 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.002s
[2025-09-24 00:25:03] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-24 00:25:06] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 00:25:06] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 00:25:06] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-24 00:25:06] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 00:25:06] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 00:25:06] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 00:25:06] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 00:25:06] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-24 00:25:07] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:25:07] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:25:07] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-24 00:25:07] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:25:07] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:25:07] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:25:07] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-24 00:25:07] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:25:07] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:25:07] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:25:07] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-24 00:25:07] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-24 00:25:07] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:25:07] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:25:07] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-24 00:25:07] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:25:07] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:25:07] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:25:07] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-24 00:25:07] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 00:25:07] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:25:07] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:25:07] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-24 00:25:07] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:25:07] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:25:07] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:25:07] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-24 00:25:07] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-24 00:25:07] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:25:07] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:25:07] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-24 00:25:07] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 00:25:08] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:25:08] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:25:08] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('628xd7Sa', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-24 00:25:08] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 00:25:08] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:25:08] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:25:08] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('A8Un8tA2', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-24 00:25:08] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:25:08] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:25:08] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:25:08] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('AWZ4mqN7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417339097411747853, -1, 2)
[2025-09-24 00:25:08] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:25:08] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:25:08] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:25:08] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BM4TWaw9', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417210716318072944, -1, 1)
[2025-09-24 00:25:08] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 00:25:08] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:25:08] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:25:08] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HEGVx495', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-24 00:25:08] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 00:25:08] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:25:08] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:25:08] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HXt8GDc7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417205674059763805, -1, 1)
[2025-09-24 00:25:08] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:25:08] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:25:08] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:25:08] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('Y9Yq7ufy', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, -1, 1)
[2025-09-24 00:25:08] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:25:08] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:25:08] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:25:08] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('aDWyseRm', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417205674059763805, -1, 1)
[2025-09-24 00:25:08] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:25:08] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:25:08] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:25:08] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('brpzD6Jm', 1417205672847736955, 336949613464649728, 'rapidecline', 1417310229460418580, -1, 0)
[2025-09-24 00:25:08] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 00:25:08] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:25:08] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:25:08] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('sSTAtTJH', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417673227366436997, -1, 1)
[2025-09-24 00:25:08] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:25:08] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:25:08] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:25:08] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vfwD3rVk', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-24 00:25:08] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-24 00:25:08] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 00:25:08] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 00:25:08] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('zFX6KGvA', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417209847346102312, -1, 1)
[2025-09-24 00:25:08] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 00:25:09] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 00:25:09] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 00:25:09] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-24 00:25:09] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 00:25:09] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 00:25:09] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 00:25:09] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 00:25:09] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-24 00:25:11] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 00:25:11] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 00:25:11] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-24 00:25:11] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 00:25:11] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 00:25:11] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 00:25:11] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 00:25:11] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-24 00:25:13] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 00:25:13] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 00:25:13] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-24 00:25:13] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 00:25:13] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 00:25:13] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 00:25:13] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 00:25:13] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-24 00:59:21] [DEBUG] [Database] get_user_guild_aware:445 - Retrieving user data for Discord ID: 331164413623009281 in guild: 897814031346319382
[2025-09-24 00:59:21] [DEBUG] [Database] execute_db_operation:115 - Executing get user 331164413623009281 from guild 897814031346319382
[2025-09-24 00:59:21] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE discord_id = ? AND guild_id = ?
[2025-09-24 00:59:21] [DEBUG] [Database] execute_db_operation:118 - Parameters: (331164413623009281, 897814031346319382)
[2025-09-24 00:59:21] [DEBUG] [Database] execute_db_operation:142 - get user 331164413623009281 from guild 897814031346319382 completed in 0.008s
[2025-09-24 00:59:21] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-24 00:59:21] [DEBUG] [Database] get_user_guild_aware:462 - ✅ Found user: Kyerstorm (ID: 1) in guild 897814031346319382
[2025-09-24 13:43:49] [INFO] [Database] <module>:60 - ==================================================
[2025-09-24 13:43:49] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-24 13:43:49] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-24 13:43:49] [INFO] [Database] <module>:63 - ==================================================
[2025-09-24 13:43:49] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-24 13:43:49] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-24 13:43:49] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-24 13:43:49] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-24 13:43:49] [INFO] [Database] init_db:1462 - ============================================================
[2025-09-24 13:43:49] [INFO] [Database] init_db:1463 - STARTING DATABASE INITIALIZATION
[2025-09-24 13:43:49] [INFO] [Database] init_db:1464 - ============================================================
[2025-09-24 13:43:49] [INFO] [Database] init_db:1489 - Verifying database connectivity...
[2025-09-24 13:43:49] [INFO] [Database] init_db:1492 - ✅ Database connectivity verified
[2025-09-24 13:43:49] [DEBUG] [Database] init_db:1497 - Initializing Users table...
[2025-09-24 13:43:49] [INFO] [Database] init_users_table:218 - Initializing users table
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-24 13:43:49] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.001s: duplicate column name: anilist_username
[2025-09-24 13:43:49] [DEBUG] [Database] init_users_table:251 - Column 'anilist_username' already exists in users table
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-24 13:43:49] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.001s: duplicate column name: anilist_id
[2025-09-24 13:43:49] [DEBUG] [Database] init_users_table:251 - Column 'anilist_id' already exists in users table
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:115 - Executing add guild_id column to users
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN guild_id INTEGER
[2025-09-24 13:43:49] [ERROR] [Database] execute_db_operation:156 - add guild_id column to users failed after 0.001s: duplicate column name: guild_id
[2025-09-24 13:43:49] [DEBUG] [Database] init_users_table:251 - Column 'guild_id' already exists in users table
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 13:43:49] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.002s: duplicate column name: created_at
[2025-09-24 13:43:49] [DEBUG] [Database] init_users_table:251 - Column 'created_at' already exists in users table
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 13:43:49] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.001s: duplicate column name: updated_at
[2025-09-24 13:43:49] [DEBUG] [Database] init_users_table:251 - Column 'updated_at' already exists in users table
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.002s
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 13:43:49] [DEBUG] [Database] init_users_table:258 - Users table schema: 8 columns
[2025-09-24 13:43:49] [DEBUG] [Database] init_users_table:260 -   Column: id (INTEGER)
[2025-09-24 13:43:49] [DEBUG] [Database] init_users_table:260 -   Column: discord_id (INTEGER)
[2025-09-24 13:43:49] [DEBUG] [Database] init_users_table:260 -   Column: guild_id (INTEGER)
[2025-09-24 13:43:49] [DEBUG] [Database] init_users_table:260 -   Column: username (TEXT)
[2025-09-24 13:43:49] [DEBUG] [Database] init_users_table:260 -   Column: anilist_username (TEXT)
[2025-09-24 13:43:49] [DEBUG] [Database] init_users_table:260 -   Column: anilist_id (INTEGER)
[2025-09-24 13:43:49] [DEBUG] [Database] init_users_table:260 -   Column: created_at (DATETIME)
[2025-09-24 13:43:49] [DEBUG] [Database] init_users_table:260 -   Column: updated_at (DATETIME)
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:115 - Executing check guild_id usage
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT COUNT(*) FROM users WHERE guild_id IS NOT NULL
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:142 - check guild_id usage completed in 0.002s
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 1
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 1, 'test1')
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 1 completed in 0.006s
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 2
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 2, 'test2')
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 2 completed in 0.005s
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:115 - Executing cleanup test data
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:116 - Query: DELETE FROM users WHERE discord_id = ?
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999,)
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:142 - cleanup test data completed in 0.005s
[2025-09-24 13:43:49] [INFO] [Database] init_users_table:298 - ✅ Multi-guild support confirmed - table supports multiple guilds per user
[2025-09-24 13:43:49] [INFO] [Database] init_users_table:312 - ✅ Users table initialization completed successfully
[2025-09-24 13:43:49] [DEBUG] [Database] init_db:1500 - ✅ Users table initialized successfully
[2025-09-24 13:43:49] [DEBUG] [Database] init_db:1497 - Initializing Challenge Rules table...
[2025-09-24 13:43:49] [INFO] [Database] init_challenge_rules_table:761 - Initializing challenge rules table
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.002s
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME
[2025-09-24 13:43:49] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.001s: duplicate column name: created_at
[2025-09-24 13:43:49] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'created_at' already exists in challenge_rules table
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME
[2025-09-24 13:43:49] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.001s: duplicate column name: updated_at
[2025-09-24 13:43:49] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'updated_at' already exists in challenge_rules table
[2025-09-24 13:43:49] [INFO] [Database] init_challenge_rules_table:790 - ✅ Challenge rules table initialization completed
[2025-09-24 13:43:49] [DEBUG] [Database] init_db:1500 - ✅ Challenge Rules table initialized successfully
[2025-09-24 13:43:49] [DEBUG] [Database] init_db:1497 - Initializing Recommendation Votes table...
[2025-09-24 13:43:49] [INFO] [Database] init_recommendation_votes_table:858 - Manga recommendation votes table ready.
[2025-09-24 13:43:49] [DEBUG] [Database] init_db:1500 - ✅ Recommendation Votes table initialized successfully
[2025-09-24 13:43:49] [DEBUG] [Database] init_db:1497 - Initializing User Stats table...
[2025-09-24 13:43:49] [INFO] [Database] init_user_stats_table:876 - User stats table ready.
[2025-09-24 13:43:49] [DEBUG] [Database] init_db:1500 - ✅ User Stats table initialized successfully
[2025-09-24 13:43:49] [DEBUG] [Database] init_db:1497 - Initializing Achievements table...
[2025-09-24 13:43:49] [INFO] [Database] init_achievements_table:892 - Achievements table ready.
[2025-09-24 13:43:49] [DEBUG] [Database] init_db:1500 - ✅ Achievements table initialized successfully
[2025-09-24 13:43:49] [DEBUG] [Database] init_db:1497 - Initializing User Manga Progress table...
[2025-09-24 13:43:49] [INFO] [Database] init_user_manga_progress_table:928 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-24 13:43:49] [DEBUG] [Database] init_db:1500 - ✅ User Manga Progress table initialized successfully
[2025-09-24 13:43:49] [DEBUG] [Database] init_db:1497 - Initializing Manga Challenges table...
[2025-09-24 13:43:49] [DEBUG] [Database] init_db:1500 - ✅ Manga Challenges table initialized successfully
[2025-09-24 13:43:49] [DEBUG] [Database] init_db:1497 - Initializing User Progress table...
[2025-09-24 13:43:49] [DEBUG] [Database] init_db:1500 - ✅ User Progress table initialized successfully
[2025-09-24 13:43:49] [DEBUG] [Database] init_db:1497 - Initializing Global Challenges table...
[2025-09-24 13:43:49] [INFO] [Database] init_global_challenges_table:1226 - Global challenges table ready with difficulty column.
[2025-09-24 13:43:49] [DEBUG] [Database] init_db:1500 - ✅ Global Challenges table initialized successfully
[2025-09-24 13:43:49] [DEBUG] [Database] init_db:1497 - Initializing Guild Challenge Roles table...
[2025-09-24 13:43:49] [INFO] [Database] init_guild_challenge_roles_table:1408 - 🔧 Initializing guild challenge roles table...
[2025-09-24 13:43:49] [INFO] [Database] get_guild_challenge_roles:2124 - Getting challenge roles for guild 897814031346319382
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:115 - Executing get challenge roles for guild 897814031346319382
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT challenge_id, threshold, role_id 
            FROM guild_challenge_roles 
            WHERE guild_id = ?
            ORDER BY challenge_id, threshold
        
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:142 - get challenge roles for guild 897814031346319382 completed in 0.002s
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:148 - Query returned 13 rows
[2025-09-24 13:43:49] [INFO] [Database] get_guild_challenge_roles:2152 - ✅ Retrieved 13 challenge role configurations for guild 897814031346319382
[2025-09-24 13:43:49] [INFO] [Database] migrate_default_challenge_roles:1440 - Default challenge roles already exist for primary guild 897814031346319382
[2025-09-24 13:43:49] [INFO] [Database] init_guild_challenge_roles_table:1428 - ✅ Guild challenge roles table ready.
[2025-09-24 13:43:49] [DEBUG] [Database] init_db:1500 - ✅ Guild Challenge Roles table initialized successfully
[2025-09-24 13:43:49] [DEBUG] [Database] init_db:1497 - Initializing Invite Tracker table...
[2025-09-24 13:43:49] [INFO] [Database] init_invite_tracker_tables:1316 - Initializing invite tracker tables
[2025-09-24 13:43:49] [INFO] [Database] init_invite_tracker_tables:1383 - ✅ Invite tracker tables initialized successfully
[2025-09-24 13:43:49] [DEBUG] [Database] init_db:1500 - ✅ Invite Tracker table initialized successfully
[2025-09-24 13:43:49] [DEBUG] [Database] init_db:1497 - Initializing Steam Users table...
[2025-09-24 13:43:49] [INFO] [Database] init_steam_users_table:1403 - Steam users table ready.
[2025-09-24 13:43:49] [DEBUG] [Database] init_db:1500 - ✅ Steam Users table initialized successfully
[2025-09-24 13:43:49] [DEBUG] [Database] init_db:1497 - Initializing Challenge Manga table...
[2025-09-24 13:43:49] [DEBUG] [Database] init_db:1500 - ✅ Challenge Manga table initialized successfully
[2025-09-24 13:43:49] [INFO] [Database] init_db:1511 - ============================================================
[2025-09-24 13:43:49] [INFO] [Database] init_db:1512 - DATABASE INITIALIZATION SUMMARY
[2025-09-24 13:43:49] [INFO] [Database] init_db:1513 - Total tables: 13
[2025-09-24 13:43:49] [INFO] [Database] init_db:1514 - Successfully initialized: 13
[2025-09-24 13:43:49] [INFO] [Database] init_db:1515 - Failed to initialize: 0
[2025-09-24 13:43:49] [INFO] [Database] init_db:1516 - Total time: 0.09 seconds
[2025-09-24 13:43:49] [INFO] [Database] init_db:1521 - ✅ All database tables initialized successfully
[2025-09-24 13:43:49] [INFO] [Database] init_db:1523 - ============================================================
[2025-09-24 13:43:49] [INFO] [Database] init_db:1528 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.002s
[2025-09-24 13:43:49] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-24 13:43:53] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 13:43:53] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 13:43:53] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-24 13:43:53] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 13:43:53] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 13:43:53] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 13:43:53] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 13:43:53] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-24 13:43:53] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 13:43:53] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 13:43:53] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-24 13:43:53] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 13:43:53] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 13:43:53] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 13:43:53] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-24 13:43:53] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 13:43:53] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 13:43:53] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 13:43:53] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-24 13:43:53] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 13:43:53] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 13:43:53] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 13:43:53] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-24 13:43:53] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 13:43:53] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 13:43:53] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 13:43:53] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-24 13:43:53] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 13:43:53] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 13:43:53] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 13:43:53] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-24 13:43:53] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 13:43:53] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 13:43:53] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 13:43:53] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-24 13:43:53] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 13:43:53] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 13:43:53] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 13:43:53] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-24 13:43:53] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 13:43:54] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 13:43:54] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 13:43:54] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('AWZ4mqN7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417339097411747853, -1, 2)
[2025-09-24 13:43:54] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 13:43:54] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 13:43:54] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 13:43:54] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HEGVx495', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-24 13:43:54] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 13:43:54] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 13:43:54] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 13:43:54] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HXt8GDc7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417205674059763805, -1, 1)
[2025-09-24 13:43:54] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 13:43:54] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 13:43:54] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 13:43:54] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('Y9Yq7ufy', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, -1, 1)
[2025-09-24 13:43:54] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 13:43:54] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 13:43:54] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 13:43:54] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('aDWyseRm', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417205674059763805, -1, 1)
[2025-09-24 13:43:54] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 13:43:54] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 13:43:54] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 13:43:54] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('brpzD6Jm', 1417205672847736955, 336949613464649728, 'rapidecline', 1417310229460418580, -1, 0)
[2025-09-24 13:43:54] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 13:43:54] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 13:43:54] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 13:43:54] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('sSTAtTJH', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417673227366436997, -1, 1)
[2025-09-24 13:43:54] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 13:43:54] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 13:43:54] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 13:43:54] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vfwD3rVk', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-24 13:43:54] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 13:43:54] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 13:43:54] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 13:43:54] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('zFX6KGvA', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417209847346102312, -1, 1)
[2025-09-24 13:43:54] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 13:43:55] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 13:43:55] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 13:43:55] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.004s
[2025-09-24 13:43:55] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 13:43:55] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 13:43:55] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 13:43:55] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 13:43:55] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-24 13:43:57] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 13:43:57] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 13:43:57] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-24 13:43:57] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 13:43:57] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 13:43:57] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 13:43:57] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 13:43:57] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-24 13:43:59] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 13:43:59] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 13:43:59] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.004s
[2025-09-24 13:43:59] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 13:43:59] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 13:43:59] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 13:43:59] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 13:43:59] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-24 13:45:46] [INFO] [Database] <module>:60 - ==================================================
[2025-09-24 13:45:46] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-24 13:45:46] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-24 13:45:46] [INFO] [Database] <module>:63 - ==================================================
[2025-09-24 13:45:46] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-24 13:45:46] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-24 13:45:46] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-24 13:45:46] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-24 13:45:46] [INFO] [Database] init_db:1462 - ============================================================
[2025-09-24 13:45:46] [INFO] [Database] init_db:1463 - STARTING DATABASE INITIALIZATION
[2025-09-24 13:45:46] [INFO] [Database] init_db:1464 - ============================================================
[2025-09-24 13:45:46] [INFO] [Database] init_db:1489 - Verifying database connectivity...
[2025-09-24 13:45:46] [INFO] [Database] init_db:1492 - ✅ Database connectivity verified
[2025-09-24 13:45:46] [DEBUG] [Database] init_db:1497 - Initializing Users table...
[2025-09-24 13:45:46] [INFO] [Database] init_users_table:218 - Initializing users table
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-24 13:45:46] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.004s: duplicate column name: anilist_username
[2025-09-24 13:45:46] [DEBUG] [Database] init_users_table:251 - Column 'anilist_username' already exists in users table
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-24 13:45:46] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.002s: duplicate column name: anilist_id
[2025-09-24 13:45:46] [DEBUG] [Database] init_users_table:251 - Column 'anilist_id' already exists in users table
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:115 - Executing add guild_id column to users
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN guild_id INTEGER
[2025-09-24 13:45:46] [ERROR] [Database] execute_db_operation:156 - add guild_id column to users failed after 0.002s: duplicate column name: guild_id
[2025-09-24 13:45:46] [DEBUG] [Database] init_users_table:251 - Column 'guild_id' already exists in users table
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 13:45:46] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.001s: duplicate column name: created_at
[2025-09-24 13:45:46] [DEBUG] [Database] init_users_table:251 - Column 'created_at' already exists in users table
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 13:45:46] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.001s: duplicate column name: updated_at
[2025-09-24 13:45:46] [DEBUG] [Database] init_users_table:251 - Column 'updated_at' already exists in users table
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.002s
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 13:45:46] [DEBUG] [Database] init_users_table:258 - Users table schema: 8 columns
[2025-09-24 13:45:46] [DEBUG] [Database] init_users_table:260 -   Column: id (INTEGER)
[2025-09-24 13:45:46] [DEBUG] [Database] init_users_table:260 -   Column: discord_id (INTEGER)
[2025-09-24 13:45:46] [DEBUG] [Database] init_users_table:260 -   Column: guild_id (INTEGER)
[2025-09-24 13:45:46] [DEBUG] [Database] init_users_table:260 -   Column: username (TEXT)
[2025-09-24 13:45:46] [DEBUG] [Database] init_users_table:260 -   Column: anilist_username (TEXT)
[2025-09-24 13:45:46] [DEBUG] [Database] init_users_table:260 -   Column: anilist_id (INTEGER)
[2025-09-24 13:45:46] [DEBUG] [Database] init_users_table:260 -   Column: created_at (DATETIME)
[2025-09-24 13:45:46] [DEBUG] [Database] init_users_table:260 -   Column: updated_at (DATETIME)
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:115 - Executing check guild_id usage
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT COUNT(*) FROM users WHERE guild_id IS NOT NULL
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:142 - check guild_id usage completed in 0.002s
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 1
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 1, 'test1')
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 1 completed in 0.005s
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 2
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 2, 'test2')
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 2 completed in 0.006s
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:115 - Executing cleanup test data
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:116 - Query: DELETE FROM users WHERE discord_id = ?
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999,)
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:142 - cleanup test data completed in 0.006s
[2025-09-24 13:45:46] [INFO] [Database] init_users_table:298 - ✅ Multi-guild support confirmed - table supports multiple guilds per user
[2025-09-24 13:45:46] [INFO] [Database] init_users_table:312 - ✅ Users table initialization completed successfully
[2025-09-24 13:45:46] [DEBUG] [Database] init_db:1500 - ✅ Users table initialized successfully
[2025-09-24 13:45:46] [DEBUG] [Database] init_db:1497 - Initializing Challenge Rules table...
[2025-09-24 13:45:46] [INFO] [Database] init_challenge_rules_table:761 - Initializing challenge rules table
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.003s
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME
[2025-09-24 13:45:46] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.002s: duplicate column name: created_at
[2025-09-24 13:45:46] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'created_at' already exists in challenge_rules table
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME
[2025-09-24 13:45:46] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.002s: duplicate column name: updated_at
[2025-09-24 13:45:46] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'updated_at' already exists in challenge_rules table
[2025-09-24 13:45:46] [INFO] [Database] init_challenge_rules_table:790 - ✅ Challenge rules table initialization completed
[2025-09-24 13:45:46] [DEBUG] [Database] init_db:1500 - ✅ Challenge Rules table initialized successfully
[2025-09-24 13:45:46] [DEBUG] [Database] init_db:1497 - Initializing Recommendation Votes table...
[2025-09-24 13:45:46] [INFO] [Database] init_recommendation_votes_table:858 - Manga recommendation votes table ready.
[2025-09-24 13:45:46] [DEBUG] [Database] init_db:1500 - ✅ Recommendation Votes table initialized successfully
[2025-09-24 13:45:46] [DEBUG] [Database] init_db:1497 - Initializing User Stats table...
[2025-09-24 13:45:46] [INFO] [Database] init_user_stats_table:876 - User stats table ready.
[2025-09-24 13:45:46] [DEBUG] [Database] init_db:1500 - ✅ User Stats table initialized successfully
[2025-09-24 13:45:46] [DEBUG] [Database] init_db:1497 - Initializing Achievements table...
[2025-09-24 13:45:46] [INFO] [Database] init_achievements_table:892 - Achievements table ready.
[2025-09-24 13:45:46] [DEBUG] [Database] init_db:1500 - ✅ Achievements table initialized successfully
[2025-09-24 13:45:46] [DEBUG] [Database] init_db:1497 - Initializing User Manga Progress table...
[2025-09-24 13:45:46] [INFO] [Database] init_user_manga_progress_table:928 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-24 13:45:46] [DEBUG] [Database] init_db:1500 - ✅ User Manga Progress table initialized successfully
[2025-09-24 13:45:46] [DEBUG] [Database] init_db:1497 - Initializing Manga Challenges table...
[2025-09-24 13:45:46] [DEBUG] [Database] init_db:1500 - ✅ Manga Challenges table initialized successfully
[2025-09-24 13:45:46] [DEBUG] [Database] init_db:1497 - Initializing User Progress table...
[2025-09-24 13:45:46] [DEBUG] [Database] init_db:1500 - ✅ User Progress table initialized successfully
[2025-09-24 13:45:46] [DEBUG] [Database] init_db:1497 - Initializing Global Challenges table...
[2025-09-24 13:45:46] [INFO] [Database] init_global_challenges_table:1226 - Global challenges table ready with difficulty column.
[2025-09-24 13:45:46] [DEBUG] [Database] init_db:1500 - ✅ Global Challenges table initialized successfully
[2025-09-24 13:45:46] [DEBUG] [Database] init_db:1497 - Initializing Guild Challenge Roles table...
[2025-09-24 13:45:46] [INFO] [Database] init_guild_challenge_roles_table:1408 - 🔧 Initializing guild challenge roles table...
[2025-09-24 13:45:46] [INFO] [Database] get_guild_challenge_roles:2124 - Getting challenge roles for guild 897814031346319382
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:115 - Executing get challenge roles for guild 897814031346319382
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT challenge_id, threshold, role_id 
            FROM guild_challenge_roles 
            WHERE guild_id = ?
            ORDER BY challenge_id, threshold
        
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:142 - get challenge roles for guild 897814031346319382 completed in 0.002s
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:148 - Query returned 13 rows
[2025-09-24 13:45:46] [INFO] [Database] get_guild_challenge_roles:2152 - ✅ Retrieved 13 challenge role configurations for guild 897814031346319382
[2025-09-24 13:45:46] [INFO] [Database] migrate_default_challenge_roles:1440 - Default challenge roles already exist for primary guild 897814031346319382
[2025-09-24 13:45:46] [INFO] [Database] init_guild_challenge_roles_table:1428 - ✅ Guild challenge roles table ready.
[2025-09-24 13:45:46] [DEBUG] [Database] init_db:1500 - ✅ Guild Challenge Roles table initialized successfully
[2025-09-24 13:45:46] [DEBUG] [Database] init_db:1497 - Initializing Invite Tracker table...
[2025-09-24 13:45:46] [INFO] [Database] init_invite_tracker_tables:1316 - Initializing invite tracker tables
[2025-09-24 13:45:46] [INFO] [Database] init_invite_tracker_tables:1383 - ✅ Invite tracker tables initialized successfully
[2025-09-24 13:45:46] [DEBUG] [Database] init_db:1500 - ✅ Invite Tracker table initialized successfully
[2025-09-24 13:45:46] [DEBUG] [Database] init_db:1497 - Initializing Steam Users table...
[2025-09-24 13:45:46] [INFO] [Database] init_steam_users_table:1403 - Steam users table ready.
[2025-09-24 13:45:46] [DEBUG] [Database] init_db:1500 - ✅ Steam Users table initialized successfully
[2025-09-24 13:45:46] [DEBUG] [Database] init_db:1497 - Initializing Challenge Manga table...
[2025-09-24 13:45:46] [DEBUG] [Database] init_db:1500 - ✅ Challenge Manga table initialized successfully
[2025-09-24 13:45:46] [INFO] [Database] init_db:1511 - ============================================================
[2025-09-24 13:45:46] [INFO] [Database] init_db:1512 - DATABASE INITIALIZATION SUMMARY
[2025-09-24 13:45:46] [INFO] [Database] init_db:1513 - Total tables: 13
[2025-09-24 13:45:46] [INFO] [Database] init_db:1514 - Successfully initialized: 13
[2025-09-24 13:45:46] [INFO] [Database] init_db:1515 - Failed to initialize: 0
[2025-09-24 13:45:46] [INFO] [Database] init_db:1516 - Total time: 0.09 seconds
[2025-09-24 13:45:46] [INFO] [Database] init_db:1521 - ✅ All database tables initialized successfully
[2025-09-24 13:45:46] [INFO] [Database] init_db:1523 - ============================================================
[2025-09-24 13:45:46] [INFO] [Database] init_db:1528 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.002s
[2025-09-24 13:45:46] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-24 13:45:50] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 13:45:50] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 13:45:50] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-24 13:45:50] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 13:45:50] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 13:45:50] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 13:45:50] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 13:45:50] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-24 13:45:50] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 13:45:50] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 13:45:50] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-24 13:45:50] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 13:45:50] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 13:45:50] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 13:45:50] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-24 13:45:50] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 13:45:50] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 13:45:50] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 13:45:50] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-24 13:45:50] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 13:45:50] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 13:45:50] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 13:45:50] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-24 13:45:50] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 13:45:50] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 13:45:50] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 13:45:50] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-24 13:45:50] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-24 13:45:50] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 13:45:50] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 13:45:50] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-24 13:45:50] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-24 13:45:50] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 13:45:50] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 13:45:50] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-24 13:45:50] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-24 13:45:50] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 13:45:50] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 13:45:50] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-24 13:45:50] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-24 13:45:51] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 13:45:51] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 13:45:51] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('AWZ4mqN7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417339097411747853, -1, 2)
[2025-09-24 13:45:51] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 13:45:51] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 13:45:51] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 13:45:51] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HEGVx495', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-24 13:45:51] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 13:45:51] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 13:45:51] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 13:45:51] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HXt8GDc7', 1417205672847736955, 902052855123443743, 'Emiya Kun', 1417205674059763805, -1, 1)
[2025-09-24 13:45:51] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 13:45:51] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 13:45:51] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 13:45:51] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('Y9Yq7ufy', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, -1, 1)
[2025-09-24 13:45:51] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-24 13:45:51] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 13:45:51] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 13:45:51] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('aDWyseRm', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417205674059763805, -1, 1)
[2025-09-24 13:45:51] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 13:45:51] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 13:45:51] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 13:45:51] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('brpzD6Jm', 1417205672847736955, 336949613464649728, 'rapidecline', 1417310229460418580, -1, 0)
[2025-09-24 13:45:51] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 13:45:51] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 13:45:51] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 13:45:51] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('sSTAtTJH', 1417205672847736955, 786295324154134558, 'xsjz 🍡🦋', 1417673227366436997, -1, 1)
[2025-09-24 13:45:51] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 13:45:51] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 13:45:51] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 13:45:51] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('vfwD3rVk', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417339097411747853, 1, 0)
[2025-09-24 13:45:51] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-24 13:45:51] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 13:45:51] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 13:45:51] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('zFX6KGvA', 1417205672847736955, 1089679920923422761, 'Monogatari Enthusiast', 1417209847346102312, -1, 1)
[2025-09-24 13:45:51] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.009s
[2025-09-24 13:45:52] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 13:45:52] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 13:45:52] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-24 13:45:52] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 13:45:52] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 13:45:52] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 13:45:52] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 13:45:52] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-24 13:45:54] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 13:45:54] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 13:45:54] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-24 13:45:54] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 13:45:54] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 13:45:54] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 13:45:54] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 13:45:54] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-24 13:45:56] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 13:45:56] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 13:45:56] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-24 13:45:56] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 13:45:56] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 13:45:56] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 13:45:56] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 13:45:56] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-24 14:55:30] [DEBUG] [Database] get_user_guild_aware:445 - Retrieving user data for Discord ID: 331164413623009281 in guild: 1417205672847736955
[2025-09-24 14:55:30] [DEBUG] [Database] execute_db_operation:115 - Executing get user 331164413623009281 from guild 1417205672847736955
[2025-09-24 14:55:30] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE discord_id = ? AND guild_id = ?
[2025-09-24 14:55:30] [DEBUG] [Database] execute_db_operation:118 - Parameters: (331164413623009281, 1417205672847736955)
[2025-09-24 14:55:30] [DEBUG] [Database] execute_db_operation:142 - get user 331164413623009281 from guild 1417205672847736955 completed in 0.002s
[2025-09-24 14:55:30] [DEBUG] [Database] get_user_guild_aware:464 - No user found for Discord ID: 331164413623009281 in guild 1417205672847736955
[2025-09-24 14:55:49] [DEBUG] [Database] get_user_guild_aware:445 - Retrieving user data for Discord ID: 331164413623009281 in guild: 1417205672847736955
[2025-09-24 14:55:49] [DEBUG] [Database] execute_db_operation:115 - Executing get user 331164413623009281 from guild 1417205672847736955
[2025-09-24 14:55:49] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE discord_id = ? AND guild_id = ?
[2025-09-24 14:55:49] [DEBUG] [Database] execute_db_operation:118 - Parameters: (331164413623009281, 1417205672847736955)
[2025-09-24 14:55:49] [DEBUG] [Database] execute_db_operation:142 - get user 331164413623009281 from guild 1417205672847736955 completed in 0.003s
[2025-09-24 14:55:49] [DEBUG] [Database] get_user_guild_aware:464 - No user found for Discord ID: 331164413623009281 in guild 1417205672847736955
[2025-09-24 14:55:49] [INFO] [Database] register_user_guild_aware:1715 - Registering user kyerstorm (ID: 331164413623009281) in guild 1417205672847736955
[2025-09-24 14:55:49] [INFO] [Database] add_user_guild_aware:366 - Adding new user: kyerstorm (Discord ID: 331164413623009281) to guild 1417205672847736955
[2025-09-24 14:55:49] [DEBUG] [Database] add_user_guild_aware:377 - User data - Discord ID: 331164413623009281, Guild ID: 1417205672847736955, Username: kyerstorm
[2025-09-24 14:55:49] [DEBUG] [Database] add_user_guild_aware:379 - AniList data - Username: Kyerstorm, ID: 5284115
[2025-09-24 14:55:49] [DEBUG] [Database] execute_db_operation:115 - Executing add user kyerstorm to guild 1417205672847736955
[2025-09-24 14:55:49] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT OR REPLACE INTO users (discord_id, guild_id, username, anilist_username, anilist_id, updated_at)
            VALUES (?, ?, ?, ?, ?, CURRENT_TIMESTAMP)
        
[2025-09-24 14:55:49] [DEBUG] [Database] execute_db_operation:118 - Parameters: (331164413623009281, 1417205672847736955, 'kyerstorm', 'Kyerstorm', 5284115)
[2025-09-24 14:55:49] [DEBUG] [Database] execute_db_operation:142 - add user kyerstorm to guild 1417205672847736955 completed in 0.006s
[2025-09-24 14:55:49] [INFO] [Database] add_user_guild_aware:392 - ✅ Successfully added user kyerstorm (Discord ID: 331164413623009281) to guild 1417205672847736955
[2025-09-24 14:55:49] [INFO] [Database] register_user_guild_aware:1719 - ✅ Successfully registered user kyerstorm in guild 1417205672847736955
[2025-09-24 18:24:45] [DEBUG] [Database] get_all_users:484 - Retrieving all users from database
[2025-09-24 18:24:45] [DEBUG] [Database] execute_db_operation:115 - Executing get all users
[2025-09-24 18:24:45] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users ORDER BY username
[2025-09-24 18:24:45] [DEBUG] [Database] execute_db_operation:142 - get all users completed in 0.002s
[2025-09-24 18:24:45] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 18:24:45] [INFO] [Database] get_all_users:494 - ✅ Retrieved 19 users from database
[2025-09-24 18:26:50] [DEBUG] [Database] get_user_guild_aware:445 - Retrieving user data for Discord ID: 1419744000977403994 in guild: 897814031346319382
[2025-09-24 18:26:50] [DEBUG] [Database] execute_db_operation:115 - Executing get user 1419744000977403994 from guild 897814031346319382
[2025-09-24 18:26:50] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE discord_id = ? AND guild_id = ?
[2025-09-24 18:26:50] [DEBUG] [Database] execute_db_operation:118 - Parameters: (1419744000977403994, 897814031346319382)
[2025-09-24 18:26:50] [DEBUG] [Database] execute_db_operation:142 - get user 1419744000977403994 from guild 897814031346319382 completed in 0.002s
[2025-09-24 18:26:50] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-24 18:26:50] [DEBUG] [Database] get_user_guild_aware:462 - ✅ Found user: slopking._ (ID: 26) in guild 897814031346319382
[2025-09-24 19:41:28] [INFO] [Database] <module>:60 - ==================================================
[2025-09-24 19:41:28] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-24 19:41:28] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-24 19:41:28] [INFO] [Database] <module>:63 - ==================================================
[2025-09-24 19:41:28] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-24 19:41:28] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-24 19:41:28] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-24 19:41:28] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-24 19:41:28] [INFO] [Database] init_db:1462 - ============================================================
[2025-09-24 19:41:28] [INFO] [Database] init_db:1463 - STARTING DATABASE INITIALIZATION
[2025-09-24 19:41:28] [INFO] [Database] init_db:1464 - ============================================================
[2025-09-24 19:41:28] [INFO] [Database] init_db:1489 - Verifying database connectivity...
[2025-09-24 19:41:28] [INFO] [Database] init_db:1492 - ✅ Database connectivity verified
[2025-09-24 19:41:28] [DEBUG] [Database] init_db:1497 - Initializing Users table...
[2025-09-24 19:41:28] [INFO] [Database] init_users_table:218 - Initializing users table
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-24 19:41:28] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.001s: duplicate column name: anilist_username
[2025-09-24 19:41:28] [DEBUG] [Database] init_users_table:251 - Column 'anilist_username' already exists in users table
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-24 19:41:28] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.002s: duplicate column name: anilist_id
[2025-09-24 19:41:28] [DEBUG] [Database] init_users_table:251 - Column 'anilist_id' already exists in users table
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:115 - Executing add guild_id column to users
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN guild_id INTEGER
[2025-09-24 19:41:28] [ERROR] [Database] execute_db_operation:156 - add guild_id column to users failed after 0.002s: duplicate column name: guild_id
[2025-09-24 19:41:28] [DEBUG] [Database] init_users_table:251 - Column 'guild_id' already exists in users table
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 19:41:28] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.001s: duplicate column name: created_at
[2025-09-24 19:41:28] [DEBUG] [Database] init_users_table:251 - Column 'created_at' already exists in users table
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 19:41:28] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.001s: duplicate column name: updated_at
[2025-09-24 19:41:28] [DEBUG] [Database] init_users_table:251 - Column 'updated_at' already exists in users table
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.002s
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 19:41:28] [DEBUG] [Database] init_users_table:258 - Users table schema: 8 columns
[2025-09-24 19:41:28] [DEBUG] [Database] init_users_table:260 -   Column: id (INTEGER)
[2025-09-24 19:41:28] [DEBUG] [Database] init_users_table:260 -   Column: discord_id (INTEGER)
[2025-09-24 19:41:28] [DEBUG] [Database] init_users_table:260 -   Column: guild_id (INTEGER)
[2025-09-24 19:41:28] [DEBUG] [Database] init_users_table:260 -   Column: username (TEXT)
[2025-09-24 19:41:28] [DEBUG] [Database] init_users_table:260 -   Column: anilist_username (TEXT)
[2025-09-24 19:41:28] [DEBUG] [Database] init_users_table:260 -   Column: anilist_id (INTEGER)
[2025-09-24 19:41:28] [DEBUG] [Database] init_users_table:260 -   Column: created_at (DATETIME)
[2025-09-24 19:41:28] [DEBUG] [Database] init_users_table:260 -   Column: updated_at (DATETIME)
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:115 - Executing check guild_id usage
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT COUNT(*) FROM users WHERE guild_id IS NOT NULL
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:142 - check guild_id usage completed in 0.002s
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 1
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 1, 'test1')
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 1 completed in 0.005s
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 2
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 2, 'test2')
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 2 completed in 0.006s
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:115 - Executing cleanup test data
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:116 - Query: DELETE FROM users WHERE discord_id = ?
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999,)
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:142 - cleanup test data completed in 0.007s
[2025-09-24 19:41:28] [INFO] [Database] init_users_table:298 - ✅ Multi-guild support confirmed - table supports multiple guilds per user
[2025-09-24 19:41:28] [INFO] [Database] init_users_table:312 - ✅ Users table initialization completed successfully
[2025-09-24 19:41:28] [DEBUG] [Database] init_db:1500 - ✅ Users table initialized successfully
[2025-09-24 19:41:28] [DEBUG] [Database] init_db:1497 - Initializing Challenge Rules table...
[2025-09-24 19:41:28] [INFO] [Database] init_challenge_rules_table:761 - Initializing challenge rules table
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.002s
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME
[2025-09-24 19:41:28] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.001s: duplicate column name: created_at
[2025-09-24 19:41:28] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'created_at' already exists in challenge_rules table
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME
[2025-09-24 19:41:28] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.001s: duplicate column name: updated_at
[2025-09-24 19:41:28] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'updated_at' already exists in challenge_rules table
[2025-09-24 19:41:28] [INFO] [Database] init_challenge_rules_table:790 - ✅ Challenge rules table initialization completed
[2025-09-24 19:41:28] [DEBUG] [Database] init_db:1500 - ✅ Challenge Rules table initialized successfully
[2025-09-24 19:41:28] [DEBUG] [Database] init_db:1497 - Initializing Recommendation Votes table...
[2025-09-24 19:41:28] [INFO] [Database] init_recommendation_votes_table:858 - Manga recommendation votes table ready.
[2025-09-24 19:41:28] [DEBUG] [Database] init_db:1500 - ✅ Recommendation Votes table initialized successfully
[2025-09-24 19:41:28] [DEBUG] [Database] init_db:1497 - Initializing User Stats table...
[2025-09-24 19:41:28] [INFO] [Database] init_user_stats_table:876 - User stats table ready.
[2025-09-24 19:41:28] [DEBUG] [Database] init_db:1500 - ✅ User Stats table initialized successfully
[2025-09-24 19:41:28] [DEBUG] [Database] init_db:1497 - Initializing Achievements table...
[2025-09-24 19:41:28] [INFO] [Database] init_achievements_table:892 - Achievements table ready.
[2025-09-24 19:41:28] [DEBUG] [Database] init_db:1500 - ✅ Achievements table initialized successfully
[2025-09-24 19:41:28] [DEBUG] [Database] init_db:1497 - Initializing User Manga Progress table...
[2025-09-24 19:41:28] [INFO] [Database] init_user_manga_progress_table:928 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-24 19:41:28] [DEBUG] [Database] init_db:1500 - ✅ User Manga Progress table initialized successfully
[2025-09-24 19:41:28] [DEBUG] [Database] init_db:1497 - Initializing Manga Challenges table...
[2025-09-24 19:41:28] [DEBUG] [Database] init_db:1500 - ✅ Manga Challenges table initialized successfully
[2025-09-24 19:41:28] [DEBUG] [Database] init_db:1497 - Initializing User Progress table...
[2025-09-24 19:41:28] [DEBUG] [Database] init_db:1500 - ✅ User Progress table initialized successfully
[2025-09-24 19:41:28] [DEBUG] [Database] init_db:1497 - Initializing Global Challenges table...
[2025-09-24 19:41:28] [INFO] [Database] init_global_challenges_table:1226 - Global challenges table ready with difficulty column.
[2025-09-24 19:41:28] [DEBUG] [Database] init_db:1500 - ✅ Global Challenges table initialized successfully
[2025-09-24 19:41:28] [DEBUG] [Database] init_db:1497 - Initializing Guild Challenge Roles table...
[2025-09-24 19:41:28] [INFO] [Database] init_guild_challenge_roles_table:1408 - 🔧 Initializing guild challenge roles table...
[2025-09-24 19:41:28] [INFO] [Database] get_guild_challenge_roles:2124 - Getting challenge roles for guild 897814031346319382
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:115 - Executing get challenge roles for guild 897814031346319382
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT challenge_id, threshold, role_id 
            FROM guild_challenge_roles 
            WHERE guild_id = ?
            ORDER BY challenge_id, threshold
        
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:142 - get challenge roles for guild 897814031346319382 completed in 0.002s
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:148 - Query returned 13 rows
[2025-09-24 19:41:28] [INFO] [Database] get_guild_challenge_roles:2152 - ✅ Retrieved 13 challenge role configurations for guild 897814031346319382
[2025-09-24 19:41:28] [INFO] [Database] migrate_default_challenge_roles:1440 - Default challenge roles already exist for primary guild 897814031346319382
[2025-09-24 19:41:28] [INFO] [Database] init_guild_challenge_roles_table:1428 - ✅ Guild challenge roles table ready.
[2025-09-24 19:41:28] [DEBUG] [Database] init_db:1500 - ✅ Guild Challenge Roles table initialized successfully
[2025-09-24 19:41:28] [DEBUG] [Database] init_db:1497 - Initializing Invite Tracker table...
[2025-09-24 19:41:28] [INFO] [Database] init_invite_tracker_tables:1316 - Initializing invite tracker tables
[2025-09-24 19:41:28] [INFO] [Database] init_invite_tracker_tables:1383 - ✅ Invite tracker tables initialized successfully
[2025-09-24 19:41:28] [DEBUG] [Database] init_db:1500 - ✅ Invite Tracker table initialized successfully
[2025-09-24 19:41:28] [DEBUG] [Database] init_db:1497 - Initializing Steam Users table...
[2025-09-24 19:41:28] [INFO] [Database] init_steam_users_table:1403 - Steam users table ready.
[2025-09-24 19:41:28] [DEBUG] [Database] init_db:1500 - ✅ Steam Users table initialized successfully
[2025-09-24 19:41:28] [DEBUG] [Database] init_db:1497 - Initializing Challenge Manga table...
[2025-09-24 19:41:28] [DEBUG] [Database] init_db:1500 - ✅ Challenge Manga table initialized successfully
[2025-09-24 19:41:28] [INFO] [Database] init_db:1511 - ============================================================
[2025-09-24 19:41:28] [INFO] [Database] init_db:1512 - DATABASE INITIALIZATION SUMMARY
[2025-09-24 19:41:28] [INFO] [Database] init_db:1513 - Total tables: 13
[2025-09-24 19:41:28] [INFO] [Database] init_db:1514 - Successfully initialized: 13
[2025-09-24 19:41:28] [INFO] [Database] init_db:1515 - Failed to initialize: 0
[2025-09-24 19:41:28] [INFO] [Database] init_db:1516 - Total time: 0.07 seconds
[2025-09-24 19:41:28] [INFO] [Database] init_db:1521 - ✅ All database tables initialized successfully
[2025-09-24 19:41:28] [INFO] [Database] init_db:1523 - ============================================================
[2025-09-24 19:41:28] [INFO] [Database] init_db:1528 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.002s
[2025-09-24 19:41:28] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-24 19:41:31] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 19:41:31] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 19:41:31] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-24 19:41:31] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 19:41:31] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 19:41:31] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 19:41:31] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 19:41:31] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 19:41:31] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 19:41:31] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 19:41:31] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-24 19:41:31] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.004s
[2025-09-24 19:41:31] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 19:41:31] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 19:41:31] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-24 19:41:31] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 19:41:31] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 19:41:31] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 19:41:31] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-24 19:41:31] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 19:41:31] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 19:41:31] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 19:41:31] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-24 19:41:31] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 19:41:31] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 19:41:31] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 19:41:31] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-24 19:41:31] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 19:41:31] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 19:41:31] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 19:41:31] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-24 19:41:31] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 19:41:31] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 19:41:31] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 19:41:31] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-24 19:41:31] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 19:41:31] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 19:41:31] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 19:41:31] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-24 19:41:31] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 19:41:33] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 19:41:33] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 19:41:33] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-24 19:41:33] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 19:41:33] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 19:41:33] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 19:41:33] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 19:41:33] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 19:41:35] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 19:41:35] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 19:41:35] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-24 19:41:35] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 19:41:35] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 19:41:35] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 19:41:35] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 19:41:35] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 19:44:21] [INFO] [Database] <module>:60 - ==================================================
[2025-09-24 19:44:21] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-24 19:44:21] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-24 19:44:21] [INFO] [Database] <module>:63 - ==================================================
[2025-09-24 19:44:21] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-24 19:44:21] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-24 19:44:21] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-24 19:44:21] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-24 19:44:21] [INFO] [Database] init_db:1462 - ============================================================
[2025-09-24 19:44:21] [INFO] [Database] init_db:1463 - STARTING DATABASE INITIALIZATION
[2025-09-24 19:44:21] [INFO] [Database] init_db:1464 - ============================================================
[2025-09-24 19:44:21] [INFO] [Database] init_db:1489 - Verifying database connectivity...
[2025-09-24 19:44:21] [INFO] [Database] init_db:1492 - ✅ Database connectivity verified
[2025-09-24 19:44:21] [DEBUG] [Database] init_db:1497 - Initializing Users table...
[2025-09-24 19:44:21] [INFO] [Database] init_users_table:218 - Initializing users table
[2025-09-24 19:44:21] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-24 19:44:21] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 19:44:21] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-24 19:44:21] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-24 19:44:21] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-24 19:44:21] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.002s: duplicate column name: anilist_username
[2025-09-24 19:44:21] [DEBUG] [Database] init_users_table:251 - Column 'anilist_username' already exists in users table
[2025-09-24 19:44:21] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-24 19:44:21] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-24 19:44:21] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.002s: duplicate column name: anilist_id
[2025-09-24 19:44:21] [DEBUG] [Database] init_users_table:251 - Column 'anilist_id' already exists in users table
[2025-09-24 19:44:21] [DEBUG] [Database] execute_db_operation:115 - Executing add guild_id column to users
[2025-09-24 19:44:21] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN guild_id INTEGER
[2025-09-24 19:44:21] [ERROR] [Database] execute_db_operation:156 - add guild_id column to users failed after 0.002s: duplicate column name: guild_id
[2025-09-24 19:44:21] [DEBUG] [Database] init_users_table:251 - Column 'guild_id' already exists in users table
[2025-09-24 19:44:21] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-24 19:44:21] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 19:44:21] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.002s: duplicate column name: created_at
[2025-09-24 19:44:21] [DEBUG] [Database] init_users_table:251 - Column 'created_at' already exists in users table
[2025-09-24 19:44:21] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-24 19:44:21] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 19:44:21] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.002s: duplicate column name: updated_at
[2025-09-24 19:44:21] [DEBUG] [Database] init_users_table:251 - Column 'updated_at' already exists in users table
[2025-09-24 19:44:21] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-24 19:44:21] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 19:44:21] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.003s
[2025-09-24 19:44:21] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 19:44:21] [DEBUG] [Database] init_users_table:258 - Users table schema: 8 columns
[2025-09-24 19:44:21] [DEBUG] [Database] init_users_table:260 -   Column: id (INTEGER)
[2025-09-24 19:44:21] [DEBUG] [Database] init_users_table:260 -   Column: discord_id (INTEGER)
[2025-09-24 19:44:21] [DEBUG] [Database] init_users_table:260 -   Column: guild_id (INTEGER)
[2025-09-24 19:44:21] [DEBUG] [Database] init_users_table:260 -   Column: username (TEXT)
[2025-09-24 19:44:21] [DEBUG] [Database] init_users_table:260 -   Column: anilist_username (TEXT)
[2025-09-24 19:44:21] [DEBUG] [Database] init_users_table:260 -   Column: anilist_id (INTEGER)
[2025-09-24 19:44:21] [DEBUG] [Database] init_users_table:260 -   Column: created_at (DATETIME)
[2025-09-24 19:44:21] [DEBUG] [Database] init_users_table:260 -   Column: updated_at (DATETIME)
[2025-09-24 19:44:21] [DEBUG] [Database] execute_db_operation:115 - Executing check guild_id usage
[2025-09-24 19:44:21] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT COUNT(*) FROM users WHERE guild_id IS NOT NULL
[2025-09-24 19:44:21] [DEBUG] [Database] execute_db_operation:142 - check guild_id usage completed in 0.002s
[2025-09-24 19:44:21] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-24 19:44:21] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 1
[2025-09-24 19:44:21] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 19:44:21] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 1, 'test1')
[2025-09-24 19:44:21] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 1 completed in 0.005s
[2025-09-24 19:44:21] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 2
[2025-09-24 19:44:21] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 19:44:21] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 2, 'test2')
[2025-09-24 19:44:21] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 2 completed in 0.006s
[2025-09-24 19:44:21] [DEBUG] [Database] execute_db_operation:115 - Executing cleanup test data
[2025-09-24 19:44:21] [DEBUG] [Database] execute_db_operation:116 - Query: DELETE FROM users WHERE discord_id = ?
[2025-09-24 19:44:21] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999,)
[2025-09-24 19:44:21] [DEBUG] [Database] execute_db_operation:142 - cleanup test data completed in 0.005s
[2025-09-24 19:44:21] [INFO] [Database] init_users_table:298 - ✅ Multi-guild support confirmed - table supports multiple guilds per user
[2025-09-24 19:44:21] [INFO] [Database] init_users_table:312 - ✅ Users table initialization completed successfully
[2025-09-24 19:44:21] [DEBUG] [Database] init_db:1500 - ✅ Users table initialized successfully
[2025-09-24 19:44:21] [DEBUG] [Database] init_db:1497 - Initializing Challenge Rules table...
[2025-09-24 19:44:21] [INFO] [Database] init_challenge_rules_table:761 - Initializing challenge rules table
[2025-09-24 19:44:21] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-24 19:44:21] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 19:44:21] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.004s
[2025-09-24 19:44:21] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-24 19:44:21] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME
[2025-09-24 19:44:21] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.002s: duplicate column name: created_at
[2025-09-24 19:44:21] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'created_at' already exists in challenge_rules table
[2025-09-24 19:44:21] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-24 19:44:21] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME
[2025-09-24 19:44:21] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.002s: duplicate column name: updated_at
[2025-09-24 19:44:21] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'updated_at' already exists in challenge_rules table
[2025-09-24 19:44:21] [INFO] [Database] init_challenge_rules_table:790 - ✅ Challenge rules table initialization completed
[2025-09-24 19:44:21] [DEBUG] [Database] init_db:1500 - ✅ Challenge Rules table initialized successfully
[2025-09-24 19:44:21] [DEBUG] [Database] init_db:1497 - Initializing Recommendation Votes table...
[2025-09-24 19:44:21] [INFO] [Database] init_recommendation_votes_table:858 - Manga recommendation votes table ready.
[2025-09-24 19:44:21] [DEBUG] [Database] init_db:1500 - ✅ Recommendation Votes table initialized successfully
[2025-09-24 19:44:21] [DEBUG] [Database] init_db:1497 - Initializing User Stats table...
[2025-09-24 19:44:21] [INFO] [Database] init_user_stats_table:876 - User stats table ready.
[2025-09-24 19:44:21] [DEBUG] [Database] init_db:1500 - ✅ User Stats table initialized successfully
[2025-09-24 19:44:21] [DEBUG] [Database] init_db:1497 - Initializing Achievements table...
[2025-09-24 19:44:21] [INFO] [Database] init_achievements_table:892 - Achievements table ready.
[2025-09-24 19:44:21] [DEBUG] [Database] init_db:1500 - ✅ Achievements table initialized successfully
[2025-09-24 19:44:21] [DEBUG] [Database] init_db:1497 - Initializing User Manga Progress table...
[2025-09-24 19:44:21] [INFO] [Database] init_user_manga_progress_table:928 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-24 19:44:21] [DEBUG] [Database] init_db:1500 - ✅ User Manga Progress table initialized successfully
[2025-09-24 19:44:21] [DEBUG] [Database] init_db:1497 - Initializing Manga Challenges table...
[2025-09-24 19:44:21] [DEBUG] [Database] init_db:1500 - ✅ Manga Challenges table initialized successfully
[2025-09-24 19:44:21] [DEBUG] [Database] init_db:1497 - Initializing User Progress table...
[2025-09-24 19:44:21] [DEBUG] [Database] init_db:1500 - ✅ User Progress table initialized successfully
[2025-09-24 19:44:21] [DEBUG] [Database] init_db:1497 - Initializing Global Challenges table...
[2025-09-24 19:44:21] [INFO] [Database] init_global_challenges_table:1226 - Global challenges table ready with difficulty column.
[2025-09-24 19:44:21] [DEBUG] [Database] init_db:1500 - ✅ Global Challenges table initialized successfully
[2025-09-24 19:44:21] [DEBUG] [Database] init_db:1497 - Initializing Guild Challenge Roles table...
[2025-09-24 19:44:21] [INFO] [Database] init_guild_challenge_roles_table:1408 - 🔧 Initializing guild challenge roles table...
[2025-09-24 19:44:21] [INFO] [Database] get_guild_challenge_roles:2124 - Getting challenge roles for guild 897814031346319382
[2025-09-24 19:44:21] [DEBUG] [Database] execute_db_operation:115 - Executing get challenge roles for guild 897814031346319382
[2025-09-24 19:44:21] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT challenge_id, threshold, role_id 
            FROM guild_challenge_roles 
            WHERE guild_id = ?
            ORDER BY challenge_id, threshold
        
[2025-09-24 19:44:21] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 19:44:21] [DEBUG] [Database] execute_db_operation:142 - get challenge roles for guild 897814031346319382 completed in 0.002s
[2025-09-24 19:44:21] [DEBUG] [Database] execute_db_operation:148 - Query returned 13 rows
[2025-09-24 19:44:21] [INFO] [Database] get_guild_challenge_roles:2152 - ✅ Retrieved 13 challenge role configurations for guild 897814031346319382
[2025-09-24 19:44:21] [INFO] [Database] migrate_default_challenge_roles:1440 - Default challenge roles already exist for primary guild 897814031346319382
[2025-09-24 19:44:21] [INFO] [Database] init_guild_challenge_roles_table:1428 - ✅ Guild challenge roles table ready.
[2025-09-24 19:44:21] [DEBUG] [Database] init_db:1500 - ✅ Guild Challenge Roles table initialized successfully
[2025-09-24 19:44:21] [DEBUG] [Database] init_db:1497 - Initializing Invite Tracker table...
[2025-09-24 19:44:21] [INFO] [Database] init_invite_tracker_tables:1316 - Initializing invite tracker tables
[2025-09-24 19:44:21] [INFO] [Database] init_invite_tracker_tables:1383 - ✅ Invite tracker tables initialized successfully
[2025-09-24 19:44:21] [DEBUG] [Database] init_db:1500 - ✅ Invite Tracker table initialized successfully
[2025-09-24 19:44:21] [DEBUG] [Database] init_db:1497 - Initializing Steam Users table...
[2025-09-24 19:44:21] [INFO] [Database] init_steam_users_table:1403 - Steam users table ready.
[2025-09-24 19:44:21] [DEBUG] [Database] init_db:1500 - ✅ Steam Users table initialized successfully
[2025-09-24 19:44:21] [DEBUG] [Database] init_db:1497 - Initializing Challenge Manga table...
[2025-09-24 19:44:21] [DEBUG] [Database] init_db:1500 - ✅ Challenge Manga table initialized successfully
[2025-09-24 19:44:21] [INFO] [Database] init_db:1511 - ============================================================
[2025-09-24 19:44:21] [INFO] [Database] init_db:1512 - DATABASE INITIALIZATION SUMMARY
[2025-09-24 19:44:21] [INFO] [Database] init_db:1513 - Total tables: 13
[2025-09-24 19:44:21] [INFO] [Database] init_db:1514 - Successfully initialized: 13
[2025-09-24 19:44:21] [INFO] [Database] init_db:1515 - Failed to initialize: 0
[2025-09-24 19:44:21] [INFO] [Database] init_db:1516 - Total time: 0.08 seconds
[2025-09-24 19:44:21] [INFO] [Database] init_db:1521 - ✅ All database tables initialized successfully
[2025-09-24 19:44:21] [INFO] [Database] init_db:1523 - ============================================================
[2025-09-24 19:44:21] [INFO] [Database] init_db:1528 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-24 19:44:22] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-24 19:44:22] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-24 19:44:22] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.003s
[2025-09-24 19:44:22] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-24 19:44:27] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 19:44:27] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 19:44:27] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-24 19:44:27] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 19:44:27] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 19:44:27] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 19:44:27] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 19:44:27] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 19:44:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 19:44:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 19:44:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-24 19:44:28] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 19:44:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 19:44:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 19:44:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-24 19:44:28] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 19:44:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 19:44:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 19:44:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-24 19:44:28] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 19:44:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 19:44:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 19:44:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-24 19:44:28] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 19:44:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 19:44:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 19:44:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-24 19:44:28] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 19:44:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 19:44:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 19:44:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-24 19:44:28] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 19:44:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 19:44:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 19:44:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-24 19:44:28] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 19:44:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 19:44:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 19:44:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-24 19:44:28] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 19:44:29] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 19:44:29] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 19:44:29] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-24 19:44:29] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 19:44:29] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 19:44:29] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 19:44:29] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 19:44:29] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 19:44:31] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 19:44:31] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 19:44:31] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-24 19:44:31] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 19:44:31] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 19:44:31] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 19:44:31] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 19:44:31] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 19:50:43] [INFO] [Database] <module>:60 - ==================================================
[2025-09-24 19:50:43] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-24 19:50:43] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-24 19:50:43] [INFO] [Database] <module>:63 - ==================================================
[2025-09-24 19:50:43] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-24 19:50:43] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-24 19:50:43] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-24 19:50:43] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-24 19:50:43] [INFO] [Database] init_db:1462 - ============================================================
[2025-09-24 19:50:43] [INFO] [Database] init_db:1463 - STARTING DATABASE INITIALIZATION
[2025-09-24 19:50:43] [INFO] [Database] init_db:1464 - ============================================================
[2025-09-24 19:50:43] [INFO] [Database] init_db:1489 - Verifying database connectivity...
[2025-09-24 19:50:43] [INFO] [Database] init_db:1492 - ✅ Database connectivity verified
[2025-09-24 19:50:43] [DEBUG] [Database] init_db:1497 - Initializing Users table...
[2025-09-24 19:50:43] [INFO] [Database] init_users_table:218 - Initializing users table
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-24 19:50:43] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.001s: duplicate column name: anilist_username
[2025-09-24 19:50:43] [DEBUG] [Database] init_users_table:251 - Column 'anilist_username' already exists in users table
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-24 19:50:43] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.001s: duplicate column name: anilist_id
[2025-09-24 19:50:43] [DEBUG] [Database] init_users_table:251 - Column 'anilist_id' already exists in users table
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:115 - Executing add guild_id column to users
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN guild_id INTEGER
[2025-09-24 19:50:43] [ERROR] [Database] execute_db_operation:156 - add guild_id column to users failed after 0.001s: duplicate column name: guild_id
[2025-09-24 19:50:43] [DEBUG] [Database] init_users_table:251 - Column 'guild_id' already exists in users table
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 19:50:43] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.001s: duplicate column name: created_at
[2025-09-24 19:50:43] [DEBUG] [Database] init_users_table:251 - Column 'created_at' already exists in users table
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 19:50:43] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.001s: duplicate column name: updated_at
[2025-09-24 19:50:43] [DEBUG] [Database] init_users_table:251 - Column 'updated_at' already exists in users table
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.002s
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 19:50:43] [DEBUG] [Database] init_users_table:258 - Users table schema: 8 columns
[2025-09-24 19:50:43] [DEBUG] [Database] init_users_table:260 -   Column: id (INTEGER)
[2025-09-24 19:50:43] [DEBUG] [Database] init_users_table:260 -   Column: discord_id (INTEGER)
[2025-09-24 19:50:43] [DEBUG] [Database] init_users_table:260 -   Column: guild_id (INTEGER)
[2025-09-24 19:50:43] [DEBUG] [Database] init_users_table:260 -   Column: username (TEXT)
[2025-09-24 19:50:43] [DEBUG] [Database] init_users_table:260 -   Column: anilist_username (TEXT)
[2025-09-24 19:50:43] [DEBUG] [Database] init_users_table:260 -   Column: anilist_id (INTEGER)
[2025-09-24 19:50:43] [DEBUG] [Database] init_users_table:260 -   Column: created_at (DATETIME)
[2025-09-24 19:50:43] [DEBUG] [Database] init_users_table:260 -   Column: updated_at (DATETIME)
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:115 - Executing check guild_id usage
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT COUNT(*) FROM users WHERE guild_id IS NOT NULL
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:142 - check guild_id usage completed in 0.002s
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 1
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 1, 'test1')
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 1 completed in 0.005s
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 2
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 2, 'test2')
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 2 completed in 0.005s
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:115 - Executing cleanup test data
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:116 - Query: DELETE FROM users WHERE discord_id = ?
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999,)
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:142 - cleanup test data completed in 0.008s
[2025-09-24 19:50:43] [INFO] [Database] init_users_table:298 - ✅ Multi-guild support confirmed - table supports multiple guilds per user
[2025-09-24 19:50:43] [INFO] [Database] init_users_table:312 - ✅ Users table initialization completed successfully
[2025-09-24 19:50:43] [DEBUG] [Database] init_db:1500 - ✅ Users table initialized successfully
[2025-09-24 19:50:43] [DEBUG] [Database] init_db:1497 - Initializing Challenge Rules table...
[2025-09-24 19:50:43] [INFO] [Database] init_challenge_rules_table:761 - Initializing challenge rules table
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.002s
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME
[2025-09-24 19:50:43] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.001s: duplicate column name: created_at
[2025-09-24 19:50:43] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'created_at' already exists in challenge_rules table
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME
[2025-09-24 19:50:43] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.002s: duplicate column name: updated_at
[2025-09-24 19:50:43] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'updated_at' already exists in challenge_rules table
[2025-09-24 19:50:43] [INFO] [Database] init_challenge_rules_table:790 - ✅ Challenge rules table initialization completed
[2025-09-24 19:50:43] [DEBUG] [Database] init_db:1500 - ✅ Challenge Rules table initialized successfully
[2025-09-24 19:50:43] [DEBUG] [Database] init_db:1497 - Initializing Recommendation Votes table...
[2025-09-24 19:50:43] [INFO] [Database] init_recommendation_votes_table:858 - Manga recommendation votes table ready.
[2025-09-24 19:50:43] [DEBUG] [Database] init_db:1500 - ✅ Recommendation Votes table initialized successfully
[2025-09-24 19:50:43] [DEBUG] [Database] init_db:1497 - Initializing User Stats table...
[2025-09-24 19:50:43] [INFO] [Database] init_user_stats_table:876 - User stats table ready.
[2025-09-24 19:50:43] [DEBUG] [Database] init_db:1500 - ✅ User Stats table initialized successfully
[2025-09-24 19:50:43] [DEBUG] [Database] init_db:1497 - Initializing Achievements table...
[2025-09-24 19:50:43] [INFO] [Database] init_achievements_table:892 - Achievements table ready.
[2025-09-24 19:50:43] [DEBUG] [Database] init_db:1500 - ✅ Achievements table initialized successfully
[2025-09-24 19:50:43] [DEBUG] [Database] init_db:1497 - Initializing User Manga Progress table...
[2025-09-24 19:50:43] [INFO] [Database] init_user_manga_progress_table:928 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-24 19:50:43] [DEBUG] [Database] init_db:1500 - ✅ User Manga Progress table initialized successfully
[2025-09-24 19:50:43] [DEBUG] [Database] init_db:1497 - Initializing Manga Challenges table...
[2025-09-24 19:50:43] [DEBUG] [Database] init_db:1500 - ✅ Manga Challenges table initialized successfully
[2025-09-24 19:50:43] [DEBUG] [Database] init_db:1497 - Initializing User Progress table...
[2025-09-24 19:50:43] [DEBUG] [Database] init_db:1500 - ✅ User Progress table initialized successfully
[2025-09-24 19:50:43] [DEBUG] [Database] init_db:1497 - Initializing Global Challenges table...
[2025-09-24 19:50:43] [INFO] [Database] init_global_challenges_table:1226 - Global challenges table ready with difficulty column.
[2025-09-24 19:50:43] [DEBUG] [Database] init_db:1500 - ✅ Global Challenges table initialized successfully
[2025-09-24 19:50:43] [DEBUG] [Database] init_db:1497 - Initializing Guild Challenge Roles table...
[2025-09-24 19:50:43] [INFO] [Database] init_guild_challenge_roles_table:1408 - 🔧 Initializing guild challenge roles table...
[2025-09-24 19:50:43] [INFO] [Database] get_guild_challenge_roles:2124 - Getting challenge roles for guild 897814031346319382
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:115 - Executing get challenge roles for guild 897814031346319382
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT challenge_id, threshold, role_id 
            FROM guild_challenge_roles 
            WHERE guild_id = ?
            ORDER BY challenge_id, threshold
        
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:142 - get challenge roles for guild 897814031346319382 completed in 0.002s
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:148 - Query returned 13 rows
[2025-09-24 19:50:43] [INFO] [Database] get_guild_challenge_roles:2152 - ✅ Retrieved 13 challenge role configurations for guild 897814031346319382
[2025-09-24 19:50:43] [INFO] [Database] migrate_default_challenge_roles:1440 - Default challenge roles already exist for primary guild 897814031346319382
[2025-09-24 19:50:43] [INFO] [Database] init_guild_challenge_roles_table:1428 - ✅ Guild challenge roles table ready.
[2025-09-24 19:50:43] [DEBUG] [Database] init_db:1500 - ✅ Guild Challenge Roles table initialized successfully
[2025-09-24 19:50:43] [DEBUG] [Database] init_db:1497 - Initializing Invite Tracker table...
[2025-09-24 19:50:43] [INFO] [Database] init_invite_tracker_tables:1316 - Initializing invite tracker tables
[2025-09-24 19:50:43] [INFO] [Database] init_invite_tracker_tables:1383 - ✅ Invite tracker tables initialized successfully
[2025-09-24 19:50:43] [DEBUG] [Database] init_db:1500 - ✅ Invite Tracker table initialized successfully
[2025-09-24 19:50:43] [DEBUG] [Database] init_db:1497 - Initializing Steam Users table...
[2025-09-24 19:50:43] [INFO] [Database] init_steam_users_table:1403 - Steam users table ready.
[2025-09-24 19:50:43] [DEBUG] [Database] init_db:1500 - ✅ Steam Users table initialized successfully
[2025-09-24 19:50:43] [DEBUG] [Database] init_db:1497 - Initializing Challenge Manga table...
[2025-09-24 19:50:43] [DEBUG] [Database] init_db:1500 - ✅ Challenge Manga table initialized successfully
[2025-09-24 19:50:43] [INFO] [Database] init_db:1511 - ============================================================
[2025-09-24 19:50:43] [INFO] [Database] init_db:1512 - DATABASE INITIALIZATION SUMMARY
[2025-09-24 19:50:43] [INFO] [Database] init_db:1513 - Total tables: 13
[2025-09-24 19:50:43] [INFO] [Database] init_db:1514 - Successfully initialized: 13
[2025-09-24 19:50:43] [INFO] [Database] init_db:1515 - Failed to initialize: 0
[2025-09-24 19:50:43] [INFO] [Database] init_db:1516 - Total time: 0.07 seconds
[2025-09-24 19:50:43] [INFO] [Database] init_db:1521 - ✅ All database tables initialized successfully
[2025-09-24 19:50:43] [INFO] [Database] init_db:1523 - ============================================================
[2025-09-24 19:50:43] [INFO] [Database] init_db:1528 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.002s
[2025-09-24 19:50:43] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-24 19:50:46] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 19:50:46] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 19:50:46] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-24 19:50:46] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 19:50:46] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 19:50:46] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 19:50:46] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 19:50:46] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 19:50:46] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 19:50:46] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 19:50:46] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-24 19:50:46] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 19:50:46] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 19:50:46] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 19:50:46] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-24 19:50:46] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 19:50:46] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 19:50:46] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 19:50:46] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-24 19:50:46] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 19:50:46] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 19:50:46] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 19:50:46] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-24 19:50:46] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 19:50:46] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 19:50:46] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 19:50:46] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-24 19:50:46] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 19:50:46] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 19:50:46] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 19:50:46] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-24 19:50:46] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 19:50:46] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 19:50:46] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 19:50:46] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-24 19:50:46] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 19:50:46] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 19:50:46] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 19:50:46] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-24 19:50:46] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 19:50:48] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 19:50:48] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 19:50:48] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-24 19:50:48] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 19:50:48] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 19:50:48] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 19:50:48] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 19:50:48] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 19:50:50] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 19:50:50] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 19:50:50] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-24 19:50:50] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 19:50:50] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 19:50:50] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 19:50:50] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 19:50:50] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 19:57:36] [INFO] [Database] <module>:60 - ==================================================
[2025-09-24 19:57:36] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-24 19:57:36] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-24 19:57:36] [INFO] [Database] <module>:63 - ==================================================
[2025-09-24 19:57:36] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-24 19:57:36] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-24 19:57:36] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-24 19:57:36] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-24 19:57:36] [INFO] [Database] init_db:1462 - ============================================================
[2025-09-24 19:57:36] [INFO] [Database] init_db:1463 - STARTING DATABASE INITIALIZATION
[2025-09-24 19:57:36] [INFO] [Database] init_db:1464 - ============================================================
[2025-09-24 19:57:36] [INFO] [Database] init_db:1489 - Verifying database connectivity...
[2025-09-24 19:57:36] [INFO] [Database] init_db:1492 - ✅ Database connectivity verified
[2025-09-24 19:57:36] [DEBUG] [Database] init_db:1497 - Initializing Users table...
[2025-09-24 19:57:36] [INFO] [Database] init_users_table:218 - Initializing users table
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-24 19:57:36] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.002s: duplicate column name: anilist_username
[2025-09-24 19:57:36] [DEBUG] [Database] init_users_table:251 - Column 'anilist_username' already exists in users table
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-24 19:57:36] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.002s: duplicate column name: anilist_id
[2025-09-24 19:57:36] [DEBUG] [Database] init_users_table:251 - Column 'anilist_id' already exists in users table
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:115 - Executing add guild_id column to users
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN guild_id INTEGER
[2025-09-24 19:57:36] [ERROR] [Database] execute_db_operation:156 - add guild_id column to users failed after 0.002s: duplicate column name: guild_id
[2025-09-24 19:57:36] [DEBUG] [Database] init_users_table:251 - Column 'guild_id' already exists in users table
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 19:57:36] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.002s: duplicate column name: created_at
[2025-09-24 19:57:36] [DEBUG] [Database] init_users_table:251 - Column 'created_at' already exists in users table
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 19:57:36] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.002s: duplicate column name: updated_at
[2025-09-24 19:57:36] [DEBUG] [Database] init_users_table:251 - Column 'updated_at' already exists in users table
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.002s
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 19:57:36] [DEBUG] [Database] init_users_table:258 - Users table schema: 8 columns
[2025-09-24 19:57:36] [DEBUG] [Database] init_users_table:260 -   Column: id (INTEGER)
[2025-09-24 19:57:36] [DEBUG] [Database] init_users_table:260 -   Column: discord_id (INTEGER)
[2025-09-24 19:57:36] [DEBUG] [Database] init_users_table:260 -   Column: guild_id (INTEGER)
[2025-09-24 19:57:36] [DEBUG] [Database] init_users_table:260 -   Column: username (TEXT)
[2025-09-24 19:57:36] [DEBUG] [Database] init_users_table:260 -   Column: anilist_username (TEXT)
[2025-09-24 19:57:36] [DEBUG] [Database] init_users_table:260 -   Column: anilist_id (INTEGER)
[2025-09-24 19:57:36] [DEBUG] [Database] init_users_table:260 -   Column: created_at (DATETIME)
[2025-09-24 19:57:36] [DEBUG] [Database] init_users_table:260 -   Column: updated_at (DATETIME)
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:115 - Executing check guild_id usage
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT COUNT(*) FROM users WHERE guild_id IS NOT NULL
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:142 - check guild_id usage completed in 0.002s
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 1
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 1, 'test1')
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 1 completed in 0.004s
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 2
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 2, 'test2')
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 2 completed in 0.005s
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:115 - Executing cleanup test data
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:116 - Query: DELETE FROM users WHERE discord_id = ?
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999,)
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:142 - cleanup test data completed in 0.006s
[2025-09-24 19:57:36] [INFO] [Database] init_users_table:298 - ✅ Multi-guild support confirmed - table supports multiple guilds per user
[2025-09-24 19:57:36] [INFO] [Database] init_users_table:312 - ✅ Users table initialization completed successfully
[2025-09-24 19:57:36] [DEBUG] [Database] init_db:1500 - ✅ Users table initialized successfully
[2025-09-24 19:57:36] [DEBUG] [Database] init_db:1497 - Initializing Challenge Rules table...
[2025-09-24 19:57:36] [INFO] [Database] init_challenge_rules_table:761 - Initializing challenge rules table
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.002s
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME
[2025-09-24 19:57:36] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.001s: duplicate column name: created_at
[2025-09-24 19:57:36] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'created_at' already exists in challenge_rules table
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME
[2025-09-24 19:57:36] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.002s: duplicate column name: updated_at
[2025-09-24 19:57:36] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'updated_at' already exists in challenge_rules table
[2025-09-24 19:57:36] [INFO] [Database] init_challenge_rules_table:790 - ✅ Challenge rules table initialization completed
[2025-09-24 19:57:36] [DEBUG] [Database] init_db:1500 - ✅ Challenge Rules table initialized successfully
[2025-09-24 19:57:36] [DEBUG] [Database] init_db:1497 - Initializing Recommendation Votes table...
[2025-09-24 19:57:36] [INFO] [Database] init_recommendation_votes_table:858 - Manga recommendation votes table ready.
[2025-09-24 19:57:36] [DEBUG] [Database] init_db:1500 - ✅ Recommendation Votes table initialized successfully
[2025-09-24 19:57:36] [DEBUG] [Database] init_db:1497 - Initializing User Stats table...
[2025-09-24 19:57:36] [INFO] [Database] init_user_stats_table:876 - User stats table ready.
[2025-09-24 19:57:36] [DEBUG] [Database] init_db:1500 - ✅ User Stats table initialized successfully
[2025-09-24 19:57:36] [DEBUG] [Database] init_db:1497 - Initializing Achievements table...
[2025-09-24 19:57:36] [INFO] [Database] init_achievements_table:892 - Achievements table ready.
[2025-09-24 19:57:36] [DEBUG] [Database] init_db:1500 - ✅ Achievements table initialized successfully
[2025-09-24 19:57:36] [DEBUG] [Database] init_db:1497 - Initializing User Manga Progress table...
[2025-09-24 19:57:36] [INFO] [Database] init_user_manga_progress_table:928 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-24 19:57:36] [DEBUG] [Database] init_db:1500 - ✅ User Manga Progress table initialized successfully
[2025-09-24 19:57:36] [DEBUG] [Database] init_db:1497 - Initializing Manga Challenges table...
[2025-09-24 19:57:36] [DEBUG] [Database] init_db:1500 - ✅ Manga Challenges table initialized successfully
[2025-09-24 19:57:36] [DEBUG] [Database] init_db:1497 - Initializing User Progress table...
[2025-09-24 19:57:36] [DEBUG] [Database] init_db:1500 - ✅ User Progress table initialized successfully
[2025-09-24 19:57:36] [DEBUG] [Database] init_db:1497 - Initializing Global Challenges table...
[2025-09-24 19:57:36] [INFO] [Database] init_global_challenges_table:1226 - Global challenges table ready with difficulty column.
[2025-09-24 19:57:36] [DEBUG] [Database] init_db:1500 - ✅ Global Challenges table initialized successfully
[2025-09-24 19:57:36] [DEBUG] [Database] init_db:1497 - Initializing Guild Challenge Roles table...
[2025-09-24 19:57:36] [INFO] [Database] init_guild_challenge_roles_table:1408 - 🔧 Initializing guild challenge roles table...
[2025-09-24 19:57:36] [INFO] [Database] get_guild_challenge_roles:2124 - Getting challenge roles for guild 897814031346319382
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:115 - Executing get challenge roles for guild 897814031346319382
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT challenge_id, threshold, role_id 
            FROM guild_challenge_roles 
            WHERE guild_id = ?
            ORDER BY challenge_id, threshold
        
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:142 - get challenge roles for guild 897814031346319382 completed in 0.002s
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:148 - Query returned 13 rows
[2025-09-24 19:57:36] [INFO] [Database] get_guild_challenge_roles:2152 - ✅ Retrieved 13 challenge role configurations for guild 897814031346319382
[2025-09-24 19:57:36] [INFO] [Database] migrate_default_challenge_roles:1440 - Default challenge roles already exist for primary guild 897814031346319382
[2025-09-24 19:57:36] [INFO] [Database] init_guild_challenge_roles_table:1428 - ✅ Guild challenge roles table ready.
[2025-09-24 19:57:36] [DEBUG] [Database] init_db:1500 - ✅ Guild Challenge Roles table initialized successfully
[2025-09-24 19:57:36] [DEBUG] [Database] init_db:1497 - Initializing Invite Tracker table...
[2025-09-24 19:57:36] [INFO] [Database] init_invite_tracker_tables:1316 - Initializing invite tracker tables
[2025-09-24 19:57:36] [INFO] [Database] init_invite_tracker_tables:1383 - ✅ Invite tracker tables initialized successfully
[2025-09-24 19:57:36] [DEBUG] [Database] init_db:1500 - ✅ Invite Tracker table initialized successfully
[2025-09-24 19:57:36] [DEBUG] [Database] init_db:1497 - Initializing Steam Users table...
[2025-09-24 19:57:36] [INFO] [Database] init_steam_users_table:1403 - Steam users table ready.
[2025-09-24 19:57:36] [DEBUG] [Database] init_db:1500 - ✅ Steam Users table initialized successfully
[2025-09-24 19:57:36] [DEBUG] [Database] init_db:1497 - Initializing Challenge Manga table...
[2025-09-24 19:57:36] [DEBUG] [Database] init_db:1500 - ✅ Challenge Manga table initialized successfully
[2025-09-24 19:57:36] [INFO] [Database] init_db:1511 - ============================================================
[2025-09-24 19:57:36] [INFO] [Database] init_db:1512 - DATABASE INITIALIZATION SUMMARY
[2025-09-24 19:57:36] [INFO] [Database] init_db:1513 - Total tables: 13
[2025-09-24 19:57:36] [INFO] [Database] init_db:1514 - Successfully initialized: 13
[2025-09-24 19:57:36] [INFO] [Database] init_db:1515 - Failed to initialize: 0
[2025-09-24 19:57:36] [INFO] [Database] init_db:1516 - Total time: 0.07 seconds
[2025-09-24 19:57:36] [INFO] [Database] init_db:1521 - ✅ All database tables initialized successfully
[2025-09-24 19:57:36] [INFO] [Database] init_db:1523 - ============================================================
[2025-09-24 19:57:36] [INFO] [Database] init_db:1528 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.003s
[2025-09-24 19:57:36] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-24 19:57:40] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 19:57:40] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 19:57:40] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-24 19:57:40] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 19:57:40] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 19:57:40] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 19:57:40] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 19:57:40] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 19:57:40] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 19:57:40] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 19:57:40] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-24 19:57:40] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 19:57:40] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 19:57:40] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 19:57:40] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-24 19:57:40] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 19:57:40] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 19:57:40] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 19:57:40] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-24 19:57:40] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 19:57:40] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 19:57:40] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 19:57:40] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-24 19:57:40] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 19:57:40] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 19:57:40] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 19:57:40] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-24 19:57:40] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-24 19:57:40] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 19:57:40] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 19:57:40] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-24 19:57:40] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 19:57:40] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 19:57:40] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 19:57:40] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-24 19:57:40] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 19:57:40] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 19:57:40] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 19:57:40] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-24 19:57:40] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 19:57:42] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 19:57:42] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 19:57:42] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-24 19:57:42] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 19:57:42] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 19:57:42] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 19:57:42] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 19:57:42] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 19:57:44] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 19:57:44] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 19:57:44] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-24 19:57:44] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 19:57:44] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 19:57:44] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 19:57:44] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 19:57:44] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 20:09:50] [INFO] [Database] <module>:60 - ==================================================
[2025-09-24 20:09:50] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-24 20:09:50] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-24 20:09:50] [INFO] [Database] <module>:63 - ==================================================
[2025-09-24 20:09:50] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-24 20:09:50] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-24 20:09:50] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-24 20:09:50] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-24 20:09:50] [INFO] [Database] init_db:1462 - ============================================================
[2025-09-24 20:09:50] [INFO] [Database] init_db:1463 - STARTING DATABASE INITIALIZATION
[2025-09-24 20:09:50] [INFO] [Database] init_db:1464 - ============================================================
[2025-09-24 20:09:50] [INFO] [Database] init_db:1489 - Verifying database connectivity...
[2025-09-24 20:09:50] [INFO] [Database] init_db:1492 - ✅ Database connectivity verified
[2025-09-24 20:09:50] [DEBUG] [Database] init_db:1497 - Initializing Users table...
[2025-09-24 20:09:50] [INFO] [Database] init_users_table:218 - Initializing users table
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-24 20:09:50] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.002s: duplicate column name: anilist_username
[2025-09-24 20:09:50] [DEBUG] [Database] init_users_table:251 - Column 'anilist_username' already exists in users table
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-24 20:09:50] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.001s: duplicate column name: anilist_id
[2025-09-24 20:09:50] [DEBUG] [Database] init_users_table:251 - Column 'anilist_id' already exists in users table
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:115 - Executing add guild_id column to users
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN guild_id INTEGER
[2025-09-24 20:09:50] [ERROR] [Database] execute_db_operation:156 - add guild_id column to users failed after 0.001s: duplicate column name: guild_id
[2025-09-24 20:09:50] [DEBUG] [Database] init_users_table:251 - Column 'guild_id' already exists in users table
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 20:09:50] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.002s: duplicate column name: created_at
[2025-09-24 20:09:50] [DEBUG] [Database] init_users_table:251 - Column 'created_at' already exists in users table
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 20:09:50] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.001s: duplicate column name: updated_at
[2025-09-24 20:09:50] [DEBUG] [Database] init_users_table:251 - Column 'updated_at' already exists in users table
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.002s
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 20:09:50] [DEBUG] [Database] init_users_table:258 - Users table schema: 8 columns
[2025-09-24 20:09:50] [DEBUG] [Database] init_users_table:260 -   Column: id (INTEGER)
[2025-09-24 20:09:50] [DEBUG] [Database] init_users_table:260 -   Column: discord_id (INTEGER)
[2025-09-24 20:09:50] [DEBUG] [Database] init_users_table:260 -   Column: guild_id (INTEGER)
[2025-09-24 20:09:50] [DEBUG] [Database] init_users_table:260 -   Column: username (TEXT)
[2025-09-24 20:09:50] [DEBUG] [Database] init_users_table:260 -   Column: anilist_username (TEXT)
[2025-09-24 20:09:50] [DEBUG] [Database] init_users_table:260 -   Column: anilist_id (INTEGER)
[2025-09-24 20:09:50] [DEBUG] [Database] init_users_table:260 -   Column: created_at (DATETIME)
[2025-09-24 20:09:50] [DEBUG] [Database] init_users_table:260 -   Column: updated_at (DATETIME)
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:115 - Executing check guild_id usage
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT COUNT(*) FROM users WHERE guild_id IS NOT NULL
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:142 - check guild_id usage completed in 0.002s
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 1
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 1, 'test1')
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 1 completed in 0.006s
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 2
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 2, 'test2')
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 2 completed in 0.007s
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:115 - Executing cleanup test data
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:116 - Query: DELETE FROM users WHERE discord_id = ?
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999,)
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:142 - cleanup test data completed in 0.008s
[2025-09-24 20:09:50] [INFO] [Database] init_users_table:298 - ✅ Multi-guild support confirmed - table supports multiple guilds per user
[2025-09-24 20:09:50] [INFO] [Database] init_users_table:312 - ✅ Users table initialization completed successfully
[2025-09-24 20:09:50] [DEBUG] [Database] init_db:1500 - ✅ Users table initialized successfully
[2025-09-24 20:09:50] [DEBUG] [Database] init_db:1497 - Initializing Challenge Rules table...
[2025-09-24 20:09:50] [INFO] [Database] init_challenge_rules_table:761 - Initializing challenge rules table
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.002s
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME
[2025-09-24 20:09:50] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.001s: duplicate column name: created_at
[2025-09-24 20:09:50] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'created_at' already exists in challenge_rules table
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME
[2025-09-24 20:09:50] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.001s: duplicate column name: updated_at
[2025-09-24 20:09:50] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'updated_at' already exists in challenge_rules table
[2025-09-24 20:09:50] [INFO] [Database] init_challenge_rules_table:790 - ✅ Challenge rules table initialization completed
[2025-09-24 20:09:50] [DEBUG] [Database] init_db:1500 - ✅ Challenge Rules table initialized successfully
[2025-09-24 20:09:50] [DEBUG] [Database] init_db:1497 - Initializing Recommendation Votes table...
[2025-09-24 20:09:50] [INFO] [Database] init_recommendation_votes_table:858 - Manga recommendation votes table ready.
[2025-09-24 20:09:50] [DEBUG] [Database] init_db:1500 - ✅ Recommendation Votes table initialized successfully
[2025-09-24 20:09:50] [DEBUG] [Database] init_db:1497 - Initializing User Stats table...
[2025-09-24 20:09:50] [INFO] [Database] init_user_stats_table:876 - User stats table ready.
[2025-09-24 20:09:50] [DEBUG] [Database] init_db:1500 - ✅ User Stats table initialized successfully
[2025-09-24 20:09:50] [DEBUG] [Database] init_db:1497 - Initializing Achievements table...
[2025-09-24 20:09:50] [INFO] [Database] init_achievements_table:892 - Achievements table ready.
[2025-09-24 20:09:50] [DEBUG] [Database] init_db:1500 - ✅ Achievements table initialized successfully
[2025-09-24 20:09:50] [DEBUG] [Database] init_db:1497 - Initializing User Manga Progress table...
[2025-09-24 20:09:50] [INFO] [Database] init_user_manga_progress_table:928 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-24 20:09:50] [DEBUG] [Database] init_db:1500 - ✅ User Manga Progress table initialized successfully
[2025-09-24 20:09:50] [DEBUG] [Database] init_db:1497 - Initializing Manga Challenges table...
[2025-09-24 20:09:50] [DEBUG] [Database] init_db:1500 - ✅ Manga Challenges table initialized successfully
[2025-09-24 20:09:50] [DEBUG] [Database] init_db:1497 - Initializing User Progress table...
[2025-09-24 20:09:50] [DEBUG] [Database] init_db:1500 - ✅ User Progress table initialized successfully
[2025-09-24 20:09:50] [DEBUG] [Database] init_db:1497 - Initializing Global Challenges table...
[2025-09-24 20:09:50] [INFO] [Database] init_global_challenges_table:1226 - Global challenges table ready with difficulty column.
[2025-09-24 20:09:50] [DEBUG] [Database] init_db:1500 - ✅ Global Challenges table initialized successfully
[2025-09-24 20:09:50] [DEBUG] [Database] init_db:1497 - Initializing Guild Challenge Roles table...
[2025-09-24 20:09:50] [INFO] [Database] init_guild_challenge_roles_table:1408 - 🔧 Initializing guild challenge roles table...
[2025-09-24 20:09:50] [INFO] [Database] get_guild_challenge_roles:2124 - Getting challenge roles for guild 897814031346319382
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:115 - Executing get challenge roles for guild 897814031346319382
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT challenge_id, threshold, role_id 
            FROM guild_challenge_roles 
            WHERE guild_id = ?
            ORDER BY challenge_id, threshold
        
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:142 - get challenge roles for guild 897814031346319382 completed in 0.002s
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:148 - Query returned 13 rows
[2025-09-24 20:09:50] [INFO] [Database] get_guild_challenge_roles:2152 - ✅ Retrieved 13 challenge role configurations for guild 897814031346319382
[2025-09-24 20:09:50] [INFO] [Database] migrate_default_challenge_roles:1440 - Default challenge roles already exist for primary guild 897814031346319382
[2025-09-24 20:09:50] [INFO] [Database] init_guild_challenge_roles_table:1428 - ✅ Guild challenge roles table ready.
[2025-09-24 20:09:50] [DEBUG] [Database] init_db:1500 - ✅ Guild Challenge Roles table initialized successfully
[2025-09-24 20:09:50] [DEBUG] [Database] init_db:1497 - Initializing Invite Tracker table...
[2025-09-24 20:09:50] [INFO] [Database] init_invite_tracker_tables:1316 - Initializing invite tracker tables
[2025-09-24 20:09:50] [INFO] [Database] init_invite_tracker_tables:1383 - ✅ Invite tracker tables initialized successfully
[2025-09-24 20:09:50] [DEBUG] [Database] init_db:1500 - ✅ Invite Tracker table initialized successfully
[2025-09-24 20:09:50] [DEBUG] [Database] init_db:1497 - Initializing Steam Users table...
[2025-09-24 20:09:50] [INFO] [Database] init_steam_users_table:1403 - Steam users table ready.
[2025-09-24 20:09:50] [DEBUG] [Database] init_db:1500 - ✅ Steam Users table initialized successfully
[2025-09-24 20:09:50] [DEBUG] [Database] init_db:1497 - Initializing Challenge Manga table...
[2025-09-24 20:09:50] [DEBUG] [Database] init_db:1500 - ✅ Challenge Manga table initialized successfully
[2025-09-24 20:09:50] [INFO] [Database] init_db:1511 - ============================================================
[2025-09-24 20:09:50] [INFO] [Database] init_db:1512 - DATABASE INITIALIZATION SUMMARY
[2025-09-24 20:09:50] [INFO] [Database] init_db:1513 - Total tables: 13
[2025-09-24 20:09:50] [INFO] [Database] init_db:1514 - Successfully initialized: 13
[2025-09-24 20:09:50] [INFO] [Database] init_db:1515 - Failed to initialize: 0
[2025-09-24 20:09:50] [INFO] [Database] init_db:1516 - Total time: 0.07 seconds
[2025-09-24 20:09:50] [INFO] [Database] init_db:1521 - ✅ All database tables initialized successfully
[2025-09-24 20:09:50] [INFO] [Database] init_db:1523 - ============================================================
[2025-09-24 20:09:50] [INFO] [Database] init_db:1528 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.002s
[2025-09-24 20:09:50] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-24 20:09:53] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 20:09:53] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 20:09:53] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-24 20:09:53] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 20:09:53] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 20:09:53] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 20:09:53] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 20:09:53] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 20:09:53] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 20:09:53] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 20:09:53] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-24 20:09:53] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-24 20:09:53] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 20:09:53] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 20:09:53] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-24 20:09:53] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 20:09:53] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 20:09:53] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 20:09:53] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-24 20:09:53] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 20:09:53] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 20:09:53] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 20:09:53] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-24 20:09:53] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 20:09:53] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 20:09:53] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 20:09:53] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-24 20:09:53] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 20:09:53] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 20:09:53] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 20:09:53] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-24 20:09:53] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-24 20:09:53] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 20:09:53] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 20:09:53] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-24 20:09:53] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 20:09:53] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 20:09:53] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 20:09:53] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-24 20:09:53] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 20:09:55] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 20:09:55] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 20:09:55] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-24 20:09:55] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 20:09:55] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 20:09:55] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 20:09:55] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 20:09:55] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 20:09:57] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 20:09:57] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 20:09:57] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-24 20:09:57] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 20:09:57] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 20:09:57] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 20:09:57] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 20:09:57] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 20:17:49] [INFO] [Database] <module>:60 - ==================================================
[2025-09-24 20:17:49] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-24 20:17:49] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-24 20:17:49] [INFO] [Database] <module>:63 - ==================================================
[2025-09-24 20:17:49] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-24 20:17:49] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-24 20:17:49] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-24 20:17:49] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-24 20:17:49] [INFO] [Database] init_db:1462 - ============================================================
[2025-09-24 20:17:49] [INFO] [Database] init_db:1463 - STARTING DATABASE INITIALIZATION
[2025-09-24 20:17:49] [INFO] [Database] init_db:1464 - ============================================================
[2025-09-24 20:17:49] [INFO] [Database] init_db:1489 - Verifying database connectivity...
[2025-09-24 20:17:49] [INFO] [Database] init_db:1492 - ✅ Database connectivity verified
[2025-09-24 20:17:49] [DEBUG] [Database] init_db:1497 - Initializing Users table...
[2025-09-24 20:17:49] [INFO] [Database] init_users_table:218 - Initializing users table
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-24 20:17:49] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.001s: duplicate column name: anilist_username
[2025-09-24 20:17:49] [DEBUG] [Database] init_users_table:251 - Column 'anilist_username' already exists in users table
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-24 20:17:49] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.001s: duplicate column name: anilist_id
[2025-09-24 20:17:49] [DEBUG] [Database] init_users_table:251 - Column 'anilist_id' already exists in users table
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:115 - Executing add guild_id column to users
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN guild_id INTEGER
[2025-09-24 20:17:49] [ERROR] [Database] execute_db_operation:156 - add guild_id column to users failed after 0.001s: duplicate column name: guild_id
[2025-09-24 20:17:49] [DEBUG] [Database] init_users_table:251 - Column 'guild_id' already exists in users table
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 20:17:49] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.001s: duplicate column name: created_at
[2025-09-24 20:17:49] [DEBUG] [Database] init_users_table:251 - Column 'created_at' already exists in users table
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 20:17:49] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.001s: duplicate column name: updated_at
[2025-09-24 20:17:49] [DEBUG] [Database] init_users_table:251 - Column 'updated_at' already exists in users table
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.002s
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 20:17:49] [DEBUG] [Database] init_users_table:258 - Users table schema: 8 columns
[2025-09-24 20:17:49] [DEBUG] [Database] init_users_table:260 -   Column: id (INTEGER)
[2025-09-24 20:17:49] [DEBUG] [Database] init_users_table:260 -   Column: discord_id (INTEGER)
[2025-09-24 20:17:49] [DEBUG] [Database] init_users_table:260 -   Column: guild_id (INTEGER)
[2025-09-24 20:17:49] [DEBUG] [Database] init_users_table:260 -   Column: username (TEXT)
[2025-09-24 20:17:49] [DEBUG] [Database] init_users_table:260 -   Column: anilist_username (TEXT)
[2025-09-24 20:17:49] [DEBUG] [Database] init_users_table:260 -   Column: anilist_id (INTEGER)
[2025-09-24 20:17:49] [DEBUG] [Database] init_users_table:260 -   Column: created_at (DATETIME)
[2025-09-24 20:17:49] [DEBUG] [Database] init_users_table:260 -   Column: updated_at (DATETIME)
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:115 - Executing check guild_id usage
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT COUNT(*) FROM users WHERE guild_id IS NOT NULL
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:142 - check guild_id usage completed in 0.002s
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 1
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 1, 'test1')
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 1 completed in 0.006s
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 2
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 2, 'test2')
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 2 completed in 0.006s
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:115 - Executing cleanup test data
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:116 - Query: DELETE FROM users WHERE discord_id = ?
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999,)
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:142 - cleanup test data completed in 0.005s
[2025-09-24 20:17:49] [INFO] [Database] init_users_table:298 - ✅ Multi-guild support confirmed - table supports multiple guilds per user
[2025-09-24 20:17:49] [INFO] [Database] init_users_table:312 - ✅ Users table initialization completed successfully
[2025-09-24 20:17:49] [DEBUG] [Database] init_db:1500 - ✅ Users table initialized successfully
[2025-09-24 20:17:49] [DEBUG] [Database] init_db:1497 - Initializing Challenge Rules table...
[2025-09-24 20:17:49] [INFO] [Database] init_challenge_rules_table:761 - Initializing challenge rules table
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.002s
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME
[2025-09-24 20:17:49] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.002s: duplicate column name: created_at
[2025-09-24 20:17:49] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'created_at' already exists in challenge_rules table
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME
[2025-09-24 20:17:49] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.001s: duplicate column name: updated_at
[2025-09-24 20:17:49] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'updated_at' already exists in challenge_rules table
[2025-09-24 20:17:49] [INFO] [Database] init_challenge_rules_table:790 - ✅ Challenge rules table initialization completed
[2025-09-24 20:17:49] [DEBUG] [Database] init_db:1500 - ✅ Challenge Rules table initialized successfully
[2025-09-24 20:17:49] [DEBUG] [Database] init_db:1497 - Initializing Recommendation Votes table...
[2025-09-24 20:17:49] [INFO] [Database] init_recommendation_votes_table:858 - Manga recommendation votes table ready.
[2025-09-24 20:17:49] [DEBUG] [Database] init_db:1500 - ✅ Recommendation Votes table initialized successfully
[2025-09-24 20:17:49] [DEBUG] [Database] init_db:1497 - Initializing User Stats table...
[2025-09-24 20:17:49] [INFO] [Database] init_user_stats_table:876 - User stats table ready.
[2025-09-24 20:17:49] [DEBUG] [Database] init_db:1500 - ✅ User Stats table initialized successfully
[2025-09-24 20:17:49] [DEBUG] [Database] init_db:1497 - Initializing Achievements table...
[2025-09-24 20:17:49] [INFO] [Database] init_achievements_table:892 - Achievements table ready.
[2025-09-24 20:17:49] [DEBUG] [Database] init_db:1500 - ✅ Achievements table initialized successfully
[2025-09-24 20:17:49] [DEBUG] [Database] init_db:1497 - Initializing User Manga Progress table...
[2025-09-24 20:17:49] [INFO] [Database] init_user_manga_progress_table:928 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-24 20:17:49] [DEBUG] [Database] init_db:1500 - ✅ User Manga Progress table initialized successfully
[2025-09-24 20:17:49] [DEBUG] [Database] init_db:1497 - Initializing Manga Challenges table...
[2025-09-24 20:17:49] [DEBUG] [Database] init_db:1500 - ✅ Manga Challenges table initialized successfully
[2025-09-24 20:17:49] [DEBUG] [Database] init_db:1497 - Initializing User Progress table...
[2025-09-24 20:17:49] [DEBUG] [Database] init_db:1500 - ✅ User Progress table initialized successfully
[2025-09-24 20:17:49] [DEBUG] [Database] init_db:1497 - Initializing Global Challenges table...
[2025-09-24 20:17:49] [INFO] [Database] init_global_challenges_table:1226 - Global challenges table ready with difficulty column.
[2025-09-24 20:17:49] [DEBUG] [Database] init_db:1500 - ✅ Global Challenges table initialized successfully
[2025-09-24 20:17:49] [DEBUG] [Database] init_db:1497 - Initializing Guild Challenge Roles table...
[2025-09-24 20:17:49] [INFO] [Database] init_guild_challenge_roles_table:1408 - 🔧 Initializing guild challenge roles table...
[2025-09-24 20:17:49] [INFO] [Database] get_guild_challenge_roles:2124 - Getting challenge roles for guild 897814031346319382
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:115 - Executing get challenge roles for guild 897814031346319382
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT challenge_id, threshold, role_id 
            FROM guild_challenge_roles 
            WHERE guild_id = ?
            ORDER BY challenge_id, threshold
        
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:142 - get challenge roles for guild 897814031346319382 completed in 0.002s
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:148 - Query returned 13 rows
[2025-09-24 20:17:49] [INFO] [Database] get_guild_challenge_roles:2152 - ✅ Retrieved 13 challenge role configurations for guild 897814031346319382
[2025-09-24 20:17:49] [INFO] [Database] migrate_default_challenge_roles:1440 - Default challenge roles already exist for primary guild 897814031346319382
[2025-09-24 20:17:49] [INFO] [Database] init_guild_challenge_roles_table:1428 - ✅ Guild challenge roles table ready.
[2025-09-24 20:17:49] [DEBUG] [Database] init_db:1500 - ✅ Guild Challenge Roles table initialized successfully
[2025-09-24 20:17:49] [DEBUG] [Database] init_db:1497 - Initializing Invite Tracker table...
[2025-09-24 20:17:49] [INFO] [Database] init_invite_tracker_tables:1316 - Initializing invite tracker tables
[2025-09-24 20:17:49] [INFO] [Database] init_invite_tracker_tables:1383 - ✅ Invite tracker tables initialized successfully
[2025-09-24 20:17:49] [DEBUG] [Database] init_db:1500 - ✅ Invite Tracker table initialized successfully
[2025-09-24 20:17:49] [DEBUG] [Database] init_db:1497 - Initializing Steam Users table...
[2025-09-24 20:17:49] [INFO] [Database] init_steam_users_table:1403 - Steam users table ready.
[2025-09-24 20:17:49] [DEBUG] [Database] init_db:1500 - ✅ Steam Users table initialized successfully
[2025-09-24 20:17:49] [DEBUG] [Database] init_db:1497 - Initializing Challenge Manga table...
[2025-09-24 20:17:49] [DEBUG] [Database] init_db:1500 - ✅ Challenge Manga table initialized successfully
[2025-09-24 20:17:49] [INFO] [Database] init_db:1511 - ============================================================
[2025-09-24 20:17:49] [INFO] [Database] init_db:1512 - DATABASE INITIALIZATION SUMMARY
[2025-09-24 20:17:49] [INFO] [Database] init_db:1513 - Total tables: 13
[2025-09-24 20:17:49] [INFO] [Database] init_db:1514 - Successfully initialized: 13
[2025-09-24 20:17:49] [INFO] [Database] init_db:1515 - Failed to initialize: 0
[2025-09-24 20:17:49] [INFO] [Database] init_db:1516 - Total time: 0.07 seconds
[2025-09-24 20:17:49] [INFO] [Database] init_db:1521 - ✅ All database tables initialized successfully
[2025-09-24 20:17:49] [INFO] [Database] init_db:1523 - ============================================================
[2025-09-24 20:17:49] [INFO] [Database] init_db:1528 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.002s
[2025-09-24 20:17:49] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-24 20:17:53] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 20:17:53] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 20:17:53] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-24 20:17:53] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 20:17:53] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 20:17:53] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 20:17:53] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 20:17:53] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 20:17:53] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 20:17:53] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 20:17:53] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-24 20:17:53] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 20:17:53] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 20:17:53] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 20:17:53] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-24 20:17:53] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-24 20:17:53] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 20:17:53] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 20:17:53] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-24 20:17:53] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 20:17:53] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 20:17:53] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 20:17:53] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-24 20:17:53] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 20:17:53] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 20:17:53] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 20:17:53] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-24 20:17:53] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 20:17:53] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 20:17:53] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 20:17:53] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-24 20:17:53] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-24 20:17:53] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 20:17:53] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 20:17:53] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-24 20:17:53] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 20:17:53] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 20:17:53] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 20:17:53] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-24 20:17:53] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-24 20:17:55] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 20:17:55] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 20:17:55] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-24 20:17:55] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 20:17:55] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 20:17:55] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 20:17:55] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 20:17:55] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 20:17:57] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 20:17:57] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 20:17:57] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-24 20:17:57] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 20:17:57] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 20:17:57] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 20:17:57] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 20:17:57] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 20:27:25] [DEBUG] [Database] get_all_users:484 - Retrieving all users from database
[2025-09-24 20:27:25] [DEBUG] [Database] execute_db_operation:115 - Executing get all users
[2025-09-24 20:27:25] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users ORDER BY username
[2025-09-24 20:27:25] [DEBUG] [Database] execute_db_operation:142 - get all users completed in 0.002s
[2025-09-24 20:27:25] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 20:27:25] [INFO] [Database] get_all_users:494 - ✅ Retrieved 19 users from database
[2025-09-24 21:24:32] [INFO] [Database] <module>:60 - ==================================================
[2025-09-24 21:24:32] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-24 21:24:32] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-24 21:24:32] [INFO] [Database] <module>:63 - ==================================================
[2025-09-24 21:24:32] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-24 21:24:32] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-24 21:24:32] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-24 21:24:32] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-24 21:24:32] [INFO] [Database] init_db:1462 - ============================================================
[2025-09-24 21:24:32] [INFO] [Database] init_db:1463 - STARTING DATABASE INITIALIZATION
[2025-09-24 21:24:32] [INFO] [Database] init_db:1464 - ============================================================
[2025-09-24 21:24:32] [INFO] [Database] init_db:1489 - Verifying database connectivity...
[2025-09-24 21:24:32] [INFO] [Database] init_db:1492 - ✅ Database connectivity verified
[2025-09-24 21:24:32] [DEBUG] [Database] init_db:1497 - Initializing Users table...
[2025-09-24 21:24:32] [INFO] [Database] init_users_table:218 - Initializing users table
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-24 21:24:32] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.002s: duplicate column name: anilist_username
[2025-09-24 21:24:32] [DEBUG] [Database] init_users_table:251 - Column 'anilist_username' already exists in users table
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-24 21:24:32] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.001s: duplicate column name: anilist_id
[2025-09-24 21:24:32] [DEBUG] [Database] init_users_table:251 - Column 'anilist_id' already exists in users table
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:115 - Executing add guild_id column to users
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN guild_id INTEGER
[2025-09-24 21:24:32] [ERROR] [Database] execute_db_operation:156 - add guild_id column to users failed after 0.001s: duplicate column name: guild_id
[2025-09-24 21:24:32] [DEBUG] [Database] init_users_table:251 - Column 'guild_id' already exists in users table
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 21:24:32] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.002s: duplicate column name: created_at
[2025-09-24 21:24:32] [DEBUG] [Database] init_users_table:251 - Column 'created_at' already exists in users table
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 21:24:32] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.001s: duplicate column name: updated_at
[2025-09-24 21:24:32] [DEBUG] [Database] init_users_table:251 - Column 'updated_at' already exists in users table
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.002s
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 21:24:32] [DEBUG] [Database] init_users_table:258 - Users table schema: 8 columns
[2025-09-24 21:24:32] [DEBUG] [Database] init_users_table:260 -   Column: id (INTEGER)
[2025-09-24 21:24:32] [DEBUG] [Database] init_users_table:260 -   Column: discord_id (INTEGER)
[2025-09-24 21:24:32] [DEBUG] [Database] init_users_table:260 -   Column: guild_id (INTEGER)
[2025-09-24 21:24:32] [DEBUG] [Database] init_users_table:260 -   Column: username (TEXT)
[2025-09-24 21:24:32] [DEBUG] [Database] init_users_table:260 -   Column: anilist_username (TEXT)
[2025-09-24 21:24:32] [DEBUG] [Database] init_users_table:260 -   Column: anilist_id (INTEGER)
[2025-09-24 21:24:32] [DEBUG] [Database] init_users_table:260 -   Column: created_at (DATETIME)
[2025-09-24 21:24:32] [DEBUG] [Database] init_users_table:260 -   Column: updated_at (DATETIME)
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:115 - Executing check guild_id usage
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT COUNT(*) FROM users WHERE guild_id IS NOT NULL
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:142 - check guild_id usage completed in 0.002s
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 1
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 1, 'test1')
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 1 completed in 0.005s
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 2
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 2, 'test2')
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 2 completed in 0.006s
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:115 - Executing cleanup test data
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:116 - Query: DELETE FROM users WHERE discord_id = ?
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999,)
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:142 - cleanup test data completed in 0.006s
[2025-09-24 21:24:32] [INFO] [Database] init_users_table:298 - ✅ Multi-guild support confirmed - table supports multiple guilds per user
[2025-09-24 21:24:32] [INFO] [Database] init_users_table:312 - ✅ Users table initialization completed successfully
[2025-09-24 21:24:32] [DEBUG] [Database] init_db:1500 - ✅ Users table initialized successfully
[2025-09-24 21:24:32] [DEBUG] [Database] init_db:1497 - Initializing Challenge Rules table...
[2025-09-24 21:24:32] [INFO] [Database] init_challenge_rules_table:761 - Initializing challenge rules table
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.002s
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME
[2025-09-24 21:24:32] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.001s: duplicate column name: created_at
[2025-09-24 21:24:32] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'created_at' already exists in challenge_rules table
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME
[2025-09-24 21:24:32] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.001s: duplicate column name: updated_at
[2025-09-24 21:24:32] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'updated_at' already exists in challenge_rules table
[2025-09-24 21:24:32] [INFO] [Database] init_challenge_rules_table:790 - ✅ Challenge rules table initialization completed
[2025-09-24 21:24:32] [DEBUG] [Database] init_db:1500 - ✅ Challenge Rules table initialized successfully
[2025-09-24 21:24:32] [DEBUG] [Database] init_db:1497 - Initializing Recommendation Votes table...
[2025-09-24 21:24:32] [INFO] [Database] init_recommendation_votes_table:858 - Manga recommendation votes table ready.
[2025-09-24 21:24:32] [DEBUG] [Database] init_db:1500 - ✅ Recommendation Votes table initialized successfully
[2025-09-24 21:24:32] [DEBUG] [Database] init_db:1497 - Initializing User Stats table...
[2025-09-24 21:24:32] [INFO] [Database] init_user_stats_table:876 - User stats table ready.
[2025-09-24 21:24:32] [DEBUG] [Database] init_db:1500 - ✅ User Stats table initialized successfully
[2025-09-24 21:24:32] [DEBUG] [Database] init_db:1497 - Initializing Achievements table...
[2025-09-24 21:24:32] [INFO] [Database] init_achievements_table:892 - Achievements table ready.
[2025-09-24 21:24:32] [DEBUG] [Database] init_db:1500 - ✅ Achievements table initialized successfully
[2025-09-24 21:24:32] [DEBUG] [Database] init_db:1497 - Initializing User Manga Progress table...
[2025-09-24 21:24:32] [INFO] [Database] init_user_manga_progress_table:928 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-24 21:24:32] [DEBUG] [Database] init_db:1500 - ✅ User Manga Progress table initialized successfully
[2025-09-24 21:24:32] [DEBUG] [Database] init_db:1497 - Initializing Manga Challenges table...
[2025-09-24 21:24:32] [DEBUG] [Database] init_db:1500 - ✅ Manga Challenges table initialized successfully
[2025-09-24 21:24:32] [DEBUG] [Database] init_db:1497 - Initializing User Progress table...
[2025-09-24 21:24:32] [DEBUG] [Database] init_db:1500 - ✅ User Progress table initialized successfully
[2025-09-24 21:24:32] [DEBUG] [Database] init_db:1497 - Initializing Global Challenges table...
[2025-09-24 21:24:32] [INFO] [Database] init_global_challenges_table:1226 - Global challenges table ready with difficulty column.
[2025-09-24 21:24:32] [DEBUG] [Database] init_db:1500 - ✅ Global Challenges table initialized successfully
[2025-09-24 21:24:32] [DEBUG] [Database] init_db:1497 - Initializing Guild Challenge Roles table...
[2025-09-24 21:24:32] [INFO] [Database] init_guild_challenge_roles_table:1408 - 🔧 Initializing guild challenge roles table...
[2025-09-24 21:24:32] [INFO] [Database] get_guild_challenge_roles:2124 - Getting challenge roles for guild 897814031346319382
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:115 - Executing get challenge roles for guild 897814031346319382
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT challenge_id, threshold, role_id 
            FROM guild_challenge_roles 
            WHERE guild_id = ?
            ORDER BY challenge_id, threshold
        
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:142 - get challenge roles for guild 897814031346319382 completed in 0.003s
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:148 - Query returned 13 rows
[2025-09-24 21:24:32] [INFO] [Database] get_guild_challenge_roles:2152 - ✅ Retrieved 13 challenge role configurations for guild 897814031346319382
[2025-09-24 21:24:32] [INFO] [Database] migrate_default_challenge_roles:1440 - Default challenge roles already exist for primary guild 897814031346319382
[2025-09-24 21:24:32] [INFO] [Database] init_guild_challenge_roles_table:1428 - ✅ Guild challenge roles table ready.
[2025-09-24 21:24:32] [DEBUG] [Database] init_db:1500 - ✅ Guild Challenge Roles table initialized successfully
[2025-09-24 21:24:32] [DEBUG] [Database] init_db:1497 - Initializing Invite Tracker table...
[2025-09-24 21:24:32] [INFO] [Database] init_invite_tracker_tables:1316 - Initializing invite tracker tables
[2025-09-24 21:24:32] [INFO] [Database] init_invite_tracker_tables:1383 - ✅ Invite tracker tables initialized successfully
[2025-09-24 21:24:32] [DEBUG] [Database] init_db:1500 - ✅ Invite Tracker table initialized successfully
[2025-09-24 21:24:32] [DEBUG] [Database] init_db:1497 - Initializing Steam Users table...
[2025-09-24 21:24:32] [INFO] [Database] init_steam_users_table:1403 - Steam users table ready.
[2025-09-24 21:24:32] [DEBUG] [Database] init_db:1500 - ✅ Steam Users table initialized successfully
[2025-09-24 21:24:32] [DEBUG] [Database] init_db:1497 - Initializing Challenge Manga table...
[2025-09-24 21:24:32] [DEBUG] [Database] init_db:1500 - ✅ Challenge Manga table initialized successfully
[2025-09-24 21:24:32] [INFO] [Database] init_db:1511 - ============================================================
[2025-09-24 21:24:32] [INFO] [Database] init_db:1512 - DATABASE INITIALIZATION SUMMARY
[2025-09-24 21:24:32] [INFO] [Database] init_db:1513 - Total tables: 13
[2025-09-24 21:24:32] [INFO] [Database] init_db:1514 - Successfully initialized: 13
[2025-09-24 21:24:32] [INFO] [Database] init_db:1515 - Failed to initialize: 0
[2025-09-24 21:24:32] [INFO] [Database] init_db:1516 - Total time: 0.07 seconds
[2025-09-24 21:24:32] [INFO] [Database] init_db:1521 - ✅ All database tables initialized successfully
[2025-09-24 21:24:32] [INFO] [Database] init_db:1523 - ============================================================
[2025-09-24 21:24:32] [INFO] [Database] init_db:1528 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.002s
[2025-09-24 21:24:32] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-24 21:24:35] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 21:24:35] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 21:24:35] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-24 21:24:35] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 21:24:35] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 21:24:35] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 21:24:35] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 21:24:35] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 21:24:36] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 21:24:36] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 21:24:36] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-24 21:24:36] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 21:24:36] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 21:24:36] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 21:24:36] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-24 21:24:36] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-24 21:24:36] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 21:24:36] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 21:24:36] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-24 21:24:36] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 21:24:36] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 21:24:36] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 21:24:36] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-24 21:24:36] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 21:24:36] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 21:24:36] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 21:24:36] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-24 21:24:36] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 21:24:36] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 21:24:36] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 21:24:36] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-24 21:24:36] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 21:24:36] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 21:24:36] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 21:24:36] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-24 21:24:36] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 21:24:36] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 21:24:36] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 21:24:36] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-24 21:24:36] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 21:24:37] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 21:24:37] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 21:24:37] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.004s
[2025-09-24 21:24:37] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 21:24:37] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 21:24:37] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 21:24:37] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 21:24:37] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 21:24:39] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 21:24:39] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 21:24:39] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-24 21:24:39] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 21:24:39] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 21:24:39] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 21:24:39] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 21:24:39] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 21:25:23] [INFO] [Database] <module>:60 - ==================================================
[2025-09-24 21:25:23] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-24 21:25:23] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-24 21:25:23] [INFO] [Database] <module>:63 - ==================================================
[2025-09-24 21:25:23] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-24 21:25:23] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-24 21:25:23] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-24 21:25:23] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-24 21:25:23] [INFO] [Database] init_db:1462 - ============================================================
[2025-09-24 21:25:23] [INFO] [Database] init_db:1463 - STARTING DATABASE INITIALIZATION
[2025-09-24 21:25:23] [INFO] [Database] init_db:1464 - ============================================================
[2025-09-24 21:25:23] [INFO] [Database] init_db:1489 - Verifying database connectivity...
[2025-09-24 21:25:23] [INFO] [Database] init_db:1492 - ✅ Database connectivity verified
[2025-09-24 21:25:23] [DEBUG] [Database] init_db:1497 - Initializing Users table...
[2025-09-24 21:25:23] [INFO] [Database] init_users_table:218 - Initializing users table
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-24 21:25:23] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.001s: duplicate column name: anilist_username
[2025-09-24 21:25:23] [DEBUG] [Database] init_users_table:251 - Column 'anilist_username' already exists in users table
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-24 21:25:23] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.001s: duplicate column name: anilist_id
[2025-09-24 21:25:23] [DEBUG] [Database] init_users_table:251 - Column 'anilist_id' already exists in users table
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:115 - Executing add guild_id column to users
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN guild_id INTEGER
[2025-09-24 21:25:23] [ERROR] [Database] execute_db_operation:156 - add guild_id column to users failed after 0.001s: duplicate column name: guild_id
[2025-09-24 21:25:23] [DEBUG] [Database] init_users_table:251 - Column 'guild_id' already exists in users table
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 21:25:23] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.002s: duplicate column name: created_at
[2025-09-24 21:25:23] [DEBUG] [Database] init_users_table:251 - Column 'created_at' already exists in users table
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 21:25:23] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.001s: duplicate column name: updated_at
[2025-09-24 21:25:23] [DEBUG] [Database] init_users_table:251 - Column 'updated_at' already exists in users table
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.002s
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 21:25:23] [DEBUG] [Database] init_users_table:258 - Users table schema: 8 columns
[2025-09-24 21:25:23] [DEBUG] [Database] init_users_table:260 -   Column: id (INTEGER)
[2025-09-24 21:25:23] [DEBUG] [Database] init_users_table:260 -   Column: discord_id (INTEGER)
[2025-09-24 21:25:23] [DEBUG] [Database] init_users_table:260 -   Column: guild_id (INTEGER)
[2025-09-24 21:25:23] [DEBUG] [Database] init_users_table:260 -   Column: username (TEXT)
[2025-09-24 21:25:23] [DEBUG] [Database] init_users_table:260 -   Column: anilist_username (TEXT)
[2025-09-24 21:25:23] [DEBUG] [Database] init_users_table:260 -   Column: anilist_id (INTEGER)
[2025-09-24 21:25:23] [DEBUG] [Database] init_users_table:260 -   Column: created_at (DATETIME)
[2025-09-24 21:25:23] [DEBUG] [Database] init_users_table:260 -   Column: updated_at (DATETIME)
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:115 - Executing check guild_id usage
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT COUNT(*) FROM users WHERE guild_id IS NOT NULL
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:142 - check guild_id usage completed in 0.002s
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 1
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 1, 'test1')
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 1 completed in 0.005s
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 2
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 2, 'test2')
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 2 completed in 0.005s
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:115 - Executing cleanup test data
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:116 - Query: DELETE FROM users WHERE discord_id = ?
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999,)
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:142 - cleanup test data completed in 0.005s
[2025-09-24 21:25:23] [INFO] [Database] init_users_table:298 - ✅ Multi-guild support confirmed - table supports multiple guilds per user
[2025-09-24 21:25:23] [INFO] [Database] init_users_table:312 - ✅ Users table initialization completed successfully
[2025-09-24 21:25:23] [DEBUG] [Database] init_db:1500 - ✅ Users table initialized successfully
[2025-09-24 21:25:23] [DEBUG] [Database] init_db:1497 - Initializing Challenge Rules table...
[2025-09-24 21:25:23] [INFO] [Database] init_challenge_rules_table:761 - Initializing challenge rules table
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.002s
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME
[2025-09-24 21:25:23] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.001s: duplicate column name: created_at
[2025-09-24 21:25:23] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'created_at' already exists in challenge_rules table
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME
[2025-09-24 21:25:23] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.001s: duplicate column name: updated_at
[2025-09-24 21:25:23] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'updated_at' already exists in challenge_rules table
[2025-09-24 21:25:23] [INFO] [Database] init_challenge_rules_table:790 - ✅ Challenge rules table initialization completed
[2025-09-24 21:25:23] [DEBUG] [Database] init_db:1500 - ✅ Challenge Rules table initialized successfully
[2025-09-24 21:25:23] [DEBUG] [Database] init_db:1497 - Initializing Recommendation Votes table...
[2025-09-24 21:25:23] [INFO] [Database] init_recommendation_votes_table:858 - Manga recommendation votes table ready.
[2025-09-24 21:25:23] [DEBUG] [Database] init_db:1500 - ✅ Recommendation Votes table initialized successfully
[2025-09-24 21:25:23] [DEBUG] [Database] init_db:1497 - Initializing User Stats table...
[2025-09-24 21:25:23] [INFO] [Database] init_user_stats_table:876 - User stats table ready.
[2025-09-24 21:25:23] [DEBUG] [Database] init_db:1500 - ✅ User Stats table initialized successfully
[2025-09-24 21:25:23] [DEBUG] [Database] init_db:1497 - Initializing Achievements table...
[2025-09-24 21:25:23] [INFO] [Database] init_achievements_table:892 - Achievements table ready.
[2025-09-24 21:25:23] [DEBUG] [Database] init_db:1500 - ✅ Achievements table initialized successfully
[2025-09-24 21:25:23] [DEBUG] [Database] init_db:1497 - Initializing User Manga Progress table...
[2025-09-24 21:25:23] [INFO] [Database] init_user_manga_progress_table:928 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-24 21:25:23] [DEBUG] [Database] init_db:1500 - ✅ User Manga Progress table initialized successfully
[2025-09-24 21:25:23] [DEBUG] [Database] init_db:1497 - Initializing Manga Challenges table...
[2025-09-24 21:25:23] [DEBUG] [Database] init_db:1500 - ✅ Manga Challenges table initialized successfully
[2025-09-24 21:25:23] [DEBUG] [Database] init_db:1497 - Initializing User Progress table...
[2025-09-24 21:25:23] [DEBUG] [Database] init_db:1500 - ✅ User Progress table initialized successfully
[2025-09-24 21:25:23] [DEBUG] [Database] init_db:1497 - Initializing Global Challenges table...
[2025-09-24 21:25:23] [INFO] [Database] init_global_challenges_table:1226 - Global challenges table ready with difficulty column.
[2025-09-24 21:25:23] [DEBUG] [Database] init_db:1500 - ✅ Global Challenges table initialized successfully
[2025-09-24 21:25:23] [DEBUG] [Database] init_db:1497 - Initializing Guild Challenge Roles table...
[2025-09-24 21:25:23] [INFO] [Database] init_guild_challenge_roles_table:1408 - 🔧 Initializing guild challenge roles table...
[2025-09-24 21:25:23] [INFO] [Database] get_guild_challenge_roles:2124 - Getting challenge roles for guild 897814031346319382
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:115 - Executing get challenge roles for guild 897814031346319382
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT challenge_id, threshold, role_id 
            FROM guild_challenge_roles 
            WHERE guild_id = ?
            ORDER BY challenge_id, threshold
        
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:142 - get challenge roles for guild 897814031346319382 completed in 0.002s
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:148 - Query returned 13 rows
[2025-09-24 21:25:23] [INFO] [Database] get_guild_challenge_roles:2152 - ✅ Retrieved 13 challenge role configurations for guild 897814031346319382
[2025-09-24 21:25:23] [INFO] [Database] migrate_default_challenge_roles:1440 - Default challenge roles already exist for primary guild 897814031346319382
[2025-09-24 21:25:23] [INFO] [Database] init_guild_challenge_roles_table:1428 - ✅ Guild challenge roles table ready.
[2025-09-24 21:25:23] [DEBUG] [Database] init_db:1500 - ✅ Guild Challenge Roles table initialized successfully
[2025-09-24 21:25:23] [DEBUG] [Database] init_db:1497 - Initializing Invite Tracker table...
[2025-09-24 21:25:23] [INFO] [Database] init_invite_tracker_tables:1316 - Initializing invite tracker tables
[2025-09-24 21:25:23] [INFO] [Database] init_invite_tracker_tables:1383 - ✅ Invite tracker tables initialized successfully
[2025-09-24 21:25:23] [DEBUG] [Database] init_db:1500 - ✅ Invite Tracker table initialized successfully
[2025-09-24 21:25:23] [DEBUG] [Database] init_db:1497 - Initializing Steam Users table...
[2025-09-24 21:25:23] [INFO] [Database] init_steam_users_table:1403 - Steam users table ready.
[2025-09-24 21:25:23] [DEBUG] [Database] init_db:1500 - ✅ Steam Users table initialized successfully
[2025-09-24 21:25:23] [DEBUG] [Database] init_db:1497 - Initializing Challenge Manga table...
[2025-09-24 21:25:23] [DEBUG] [Database] init_db:1500 - ✅ Challenge Manga table initialized successfully
[2025-09-24 21:25:23] [INFO] [Database] init_db:1511 - ============================================================
[2025-09-24 21:25:23] [INFO] [Database] init_db:1512 - DATABASE INITIALIZATION SUMMARY
[2025-09-24 21:25:23] [INFO] [Database] init_db:1513 - Total tables: 13
[2025-09-24 21:25:23] [INFO] [Database] init_db:1514 - Successfully initialized: 13
[2025-09-24 21:25:23] [INFO] [Database] init_db:1515 - Failed to initialize: 0
[2025-09-24 21:25:23] [INFO] [Database] init_db:1516 - Total time: 0.06 seconds
[2025-09-24 21:25:23] [INFO] [Database] init_db:1521 - ✅ All database tables initialized successfully
[2025-09-24 21:25:23] [INFO] [Database] init_db:1523 - ============================================================
[2025-09-24 21:25:23] [INFO] [Database] init_db:1528 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.002s
[2025-09-24 21:25:23] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-24 21:25:26] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 21:25:26] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 21:25:26] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-24 21:25:26] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 21:25:26] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 21:25:26] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 21:25:26] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 21:25:26] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 21:25:27] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 21:25:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 21:25:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-24 21:25:27] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 21:25:27] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 21:25:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 21:25:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-24 21:25:27] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-24 21:25:27] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 21:25:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 21:25:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-24 21:25:27] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-24 21:25:27] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 21:25:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 21:25:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-24 21:25:27] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 21:25:27] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 21:25:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 21:25:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-24 21:25:27] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 21:25:27] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 21:25:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 21:25:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-24 21:25:27] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 21:25:27] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 21:25:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 21:25:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-24 21:25:27] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 21:25:27] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 21:25:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 21:25:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-24 21:25:27] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 21:25:28] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 21:25:28] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 21:25:28] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-24 21:25:28] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 21:25:28] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 21:25:28] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 21:25:28] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 21:25:28] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 21:25:30] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 21:25:30] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 21:25:30] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-24 21:25:30] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 21:25:30] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 21:25:30] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 21:25:30] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 21:25:30] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 21:28:05] [INFO] [Database] <module>:60 - ==================================================
[2025-09-24 21:28:05] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-24 21:28:05] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-24 21:28:05] [INFO] [Database] <module>:63 - ==================================================
[2025-09-24 21:28:05] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-24 21:28:05] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-24 21:28:05] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-24 21:28:05] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-24 21:28:05] [INFO] [Database] init_db:1462 - ============================================================
[2025-09-24 21:28:05] [INFO] [Database] init_db:1463 - STARTING DATABASE INITIALIZATION
[2025-09-24 21:28:05] [INFO] [Database] init_db:1464 - ============================================================
[2025-09-24 21:28:05] [INFO] [Database] init_db:1489 - Verifying database connectivity...
[2025-09-24 21:28:05] [INFO] [Database] init_db:1492 - ✅ Database connectivity verified
[2025-09-24 21:28:05] [DEBUG] [Database] init_db:1497 - Initializing Users table...
[2025-09-24 21:28:05] [INFO] [Database] init_users_table:218 - Initializing users table
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-24 21:28:05] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.002s: duplicate column name: anilist_username
[2025-09-24 21:28:05] [DEBUG] [Database] init_users_table:251 - Column 'anilist_username' already exists in users table
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-24 21:28:05] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.001s: duplicate column name: anilist_id
[2025-09-24 21:28:05] [DEBUG] [Database] init_users_table:251 - Column 'anilist_id' already exists in users table
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:115 - Executing add guild_id column to users
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN guild_id INTEGER
[2025-09-24 21:28:05] [ERROR] [Database] execute_db_operation:156 - add guild_id column to users failed after 0.002s: duplicate column name: guild_id
[2025-09-24 21:28:05] [DEBUG] [Database] init_users_table:251 - Column 'guild_id' already exists in users table
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 21:28:05] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.001s: duplicate column name: created_at
[2025-09-24 21:28:05] [DEBUG] [Database] init_users_table:251 - Column 'created_at' already exists in users table
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 21:28:05] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.002s: duplicate column name: updated_at
[2025-09-24 21:28:05] [DEBUG] [Database] init_users_table:251 - Column 'updated_at' already exists in users table
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.002s
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 21:28:05] [DEBUG] [Database] init_users_table:258 - Users table schema: 8 columns
[2025-09-24 21:28:05] [DEBUG] [Database] init_users_table:260 -   Column: id (INTEGER)
[2025-09-24 21:28:05] [DEBUG] [Database] init_users_table:260 -   Column: discord_id (INTEGER)
[2025-09-24 21:28:05] [DEBUG] [Database] init_users_table:260 -   Column: guild_id (INTEGER)
[2025-09-24 21:28:05] [DEBUG] [Database] init_users_table:260 -   Column: username (TEXT)
[2025-09-24 21:28:05] [DEBUG] [Database] init_users_table:260 -   Column: anilist_username (TEXT)
[2025-09-24 21:28:05] [DEBUG] [Database] init_users_table:260 -   Column: anilist_id (INTEGER)
[2025-09-24 21:28:05] [DEBUG] [Database] init_users_table:260 -   Column: created_at (DATETIME)
[2025-09-24 21:28:05] [DEBUG] [Database] init_users_table:260 -   Column: updated_at (DATETIME)
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:115 - Executing check guild_id usage
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT COUNT(*) FROM users WHERE guild_id IS NOT NULL
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:142 - check guild_id usage completed in 0.002s
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 1
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 1, 'test1')
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 1 completed in 0.005s
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 2
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 2, 'test2')
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 2 completed in 0.006s
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:115 - Executing cleanup test data
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:116 - Query: DELETE FROM users WHERE discord_id = ?
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999,)
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:142 - cleanup test data completed in 0.006s
[2025-09-24 21:28:05] [INFO] [Database] init_users_table:298 - ✅ Multi-guild support confirmed - table supports multiple guilds per user
[2025-09-24 21:28:05] [INFO] [Database] init_users_table:312 - ✅ Users table initialization completed successfully
[2025-09-24 21:28:05] [DEBUG] [Database] init_db:1500 - ✅ Users table initialized successfully
[2025-09-24 21:28:05] [DEBUG] [Database] init_db:1497 - Initializing Challenge Rules table...
[2025-09-24 21:28:05] [INFO] [Database] init_challenge_rules_table:761 - Initializing challenge rules table
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.002s
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME
[2025-09-24 21:28:05] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.001s: duplicate column name: created_at
[2025-09-24 21:28:05] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'created_at' already exists in challenge_rules table
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME
[2025-09-24 21:28:05] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.001s: duplicate column name: updated_at
[2025-09-24 21:28:05] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'updated_at' already exists in challenge_rules table
[2025-09-24 21:28:05] [INFO] [Database] init_challenge_rules_table:790 - ✅ Challenge rules table initialization completed
[2025-09-24 21:28:05] [DEBUG] [Database] init_db:1500 - ✅ Challenge Rules table initialized successfully
[2025-09-24 21:28:05] [DEBUG] [Database] init_db:1497 - Initializing Recommendation Votes table...
[2025-09-24 21:28:05] [INFO] [Database] init_recommendation_votes_table:858 - Manga recommendation votes table ready.
[2025-09-24 21:28:05] [DEBUG] [Database] init_db:1500 - ✅ Recommendation Votes table initialized successfully
[2025-09-24 21:28:05] [DEBUG] [Database] init_db:1497 - Initializing User Stats table...
[2025-09-24 21:28:05] [INFO] [Database] init_user_stats_table:876 - User stats table ready.
[2025-09-24 21:28:05] [DEBUG] [Database] init_db:1500 - ✅ User Stats table initialized successfully
[2025-09-24 21:28:05] [DEBUG] [Database] init_db:1497 - Initializing Achievements table...
[2025-09-24 21:28:05] [INFO] [Database] init_achievements_table:892 - Achievements table ready.
[2025-09-24 21:28:05] [DEBUG] [Database] init_db:1500 - ✅ Achievements table initialized successfully
[2025-09-24 21:28:05] [DEBUG] [Database] init_db:1497 - Initializing User Manga Progress table...
[2025-09-24 21:28:05] [INFO] [Database] init_user_manga_progress_table:928 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-24 21:28:05] [DEBUG] [Database] init_db:1500 - ✅ User Manga Progress table initialized successfully
[2025-09-24 21:28:05] [DEBUG] [Database] init_db:1497 - Initializing Manga Challenges table...
[2025-09-24 21:28:05] [DEBUG] [Database] init_db:1500 - ✅ Manga Challenges table initialized successfully
[2025-09-24 21:28:05] [DEBUG] [Database] init_db:1497 - Initializing User Progress table...
[2025-09-24 21:28:05] [DEBUG] [Database] init_db:1500 - ✅ User Progress table initialized successfully
[2025-09-24 21:28:05] [DEBUG] [Database] init_db:1497 - Initializing Global Challenges table...
[2025-09-24 21:28:05] [INFO] [Database] init_global_challenges_table:1226 - Global challenges table ready with difficulty column.
[2025-09-24 21:28:05] [DEBUG] [Database] init_db:1500 - ✅ Global Challenges table initialized successfully
[2025-09-24 21:28:05] [DEBUG] [Database] init_db:1497 - Initializing Guild Challenge Roles table...
[2025-09-24 21:28:05] [INFO] [Database] init_guild_challenge_roles_table:1408 - 🔧 Initializing guild challenge roles table...
[2025-09-24 21:28:05] [INFO] [Database] get_guild_challenge_roles:2124 - Getting challenge roles for guild 897814031346319382
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:115 - Executing get challenge roles for guild 897814031346319382
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT challenge_id, threshold, role_id 
            FROM guild_challenge_roles 
            WHERE guild_id = ?
            ORDER BY challenge_id, threshold
        
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:142 - get challenge roles for guild 897814031346319382 completed in 0.002s
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:148 - Query returned 13 rows
[2025-09-24 21:28:05] [INFO] [Database] get_guild_challenge_roles:2152 - ✅ Retrieved 13 challenge role configurations for guild 897814031346319382
[2025-09-24 21:28:05] [INFO] [Database] migrate_default_challenge_roles:1440 - Default challenge roles already exist for primary guild 897814031346319382
[2025-09-24 21:28:05] [INFO] [Database] init_guild_challenge_roles_table:1428 - ✅ Guild challenge roles table ready.
[2025-09-24 21:28:05] [DEBUG] [Database] init_db:1500 - ✅ Guild Challenge Roles table initialized successfully
[2025-09-24 21:28:05] [DEBUG] [Database] init_db:1497 - Initializing Invite Tracker table...
[2025-09-24 21:28:05] [INFO] [Database] init_invite_tracker_tables:1316 - Initializing invite tracker tables
[2025-09-24 21:28:05] [INFO] [Database] init_invite_tracker_tables:1383 - ✅ Invite tracker tables initialized successfully
[2025-09-24 21:28:05] [DEBUG] [Database] init_db:1500 - ✅ Invite Tracker table initialized successfully
[2025-09-24 21:28:05] [DEBUG] [Database] init_db:1497 - Initializing Steam Users table...
[2025-09-24 21:28:05] [INFO] [Database] init_steam_users_table:1403 - Steam users table ready.
[2025-09-24 21:28:05] [DEBUG] [Database] init_db:1500 - ✅ Steam Users table initialized successfully
[2025-09-24 21:28:05] [DEBUG] [Database] init_db:1497 - Initializing Challenge Manga table...
[2025-09-24 21:28:05] [DEBUG] [Database] init_db:1500 - ✅ Challenge Manga table initialized successfully
[2025-09-24 21:28:05] [INFO] [Database] init_db:1511 - ============================================================
[2025-09-24 21:28:05] [INFO] [Database] init_db:1512 - DATABASE INITIALIZATION SUMMARY
[2025-09-24 21:28:05] [INFO] [Database] init_db:1513 - Total tables: 13
[2025-09-24 21:28:05] [INFO] [Database] init_db:1514 - Successfully initialized: 13
[2025-09-24 21:28:05] [INFO] [Database] init_db:1515 - Failed to initialize: 0
[2025-09-24 21:28:05] [INFO] [Database] init_db:1516 - Total time: 0.07 seconds
[2025-09-24 21:28:05] [INFO] [Database] init_db:1521 - ✅ All database tables initialized successfully
[2025-09-24 21:28:05] [INFO] [Database] init_db:1523 - ============================================================
[2025-09-24 21:28:05] [INFO] [Database] init_db:1528 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.002s
[2025-09-24 21:28:05] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-24 21:28:08] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 21:28:08] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 21:28:08] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-24 21:28:08] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 21:28:08] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 21:28:08] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 21:28:08] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 21:28:08] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 21:28:09] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 21:28:09] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 21:28:09] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-24 21:28:09] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 21:28:09] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 21:28:09] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 21:28:09] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-24 21:28:09] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-24 21:28:09] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 21:28:09] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 21:28:09] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-24 21:28:09] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-24 21:28:09] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 21:28:09] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 21:28:09] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-24 21:28:09] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 21:28:09] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 21:28:09] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 21:28:09] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-24 21:28:09] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.009s
[2025-09-24 21:28:09] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 21:28:09] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 21:28:09] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-24 21:28:09] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 21:28:09] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 21:28:09] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 21:28:09] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-24 21:28:09] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 21:28:09] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 21:28:09] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 21:28:09] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-24 21:28:09] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 21:28:10] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 21:28:10] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 21:28:10] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-24 21:28:10] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 21:28:10] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 21:28:10] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 21:28:10] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 21:28:10] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 21:28:12] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 21:28:12] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 21:28:12] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-24 21:28:12] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 21:28:12] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 21:28:12] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 21:28:12] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 21:28:12] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 21:43:37] [DEBUG] [Database] get_all_users:484 - Retrieving all users from database
[2025-09-24 21:43:37] [DEBUG] [Database] execute_db_operation:115 - Executing get all users
[2025-09-24 21:43:37] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users ORDER BY username
[2025-09-24 21:43:37] [DEBUG] [Database] execute_db_operation:142 - get all users completed in 0.002s
[2025-09-24 21:43:37] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 21:43:37] [INFO] [Database] get_all_users:494 - ✅ Retrieved 19 users from database
[2025-09-24 21:47:25] [INFO] [Database] <module>:60 - ==================================================
[2025-09-24 21:47:25] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-24 21:47:25] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-24 21:47:25] [INFO] [Database] <module>:63 - ==================================================
[2025-09-24 21:47:25] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-24 21:47:25] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-24 21:47:25] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-24 21:47:25] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-24 21:47:25] [INFO] [Database] init_db:1462 - ============================================================
[2025-09-24 21:47:25] [INFO] [Database] init_db:1463 - STARTING DATABASE INITIALIZATION
[2025-09-24 21:47:25] [INFO] [Database] init_db:1464 - ============================================================
[2025-09-24 21:47:25] [INFO] [Database] init_db:1489 - Verifying database connectivity...
[2025-09-24 21:47:25] [INFO] [Database] init_db:1492 - ✅ Database connectivity verified
[2025-09-24 21:47:25] [DEBUG] [Database] init_db:1497 - Initializing Users table...
[2025-09-24 21:47:25] [INFO] [Database] init_users_table:218 - Initializing users table
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-24 21:47:25] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.001s: duplicate column name: anilist_username
[2025-09-24 21:47:25] [DEBUG] [Database] init_users_table:251 - Column 'anilist_username' already exists in users table
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-24 21:47:25] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.002s: duplicate column name: anilist_id
[2025-09-24 21:47:25] [DEBUG] [Database] init_users_table:251 - Column 'anilist_id' already exists in users table
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:115 - Executing add guild_id column to users
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN guild_id INTEGER
[2025-09-24 21:47:25] [ERROR] [Database] execute_db_operation:156 - add guild_id column to users failed after 0.001s: duplicate column name: guild_id
[2025-09-24 21:47:25] [DEBUG] [Database] init_users_table:251 - Column 'guild_id' already exists in users table
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 21:47:25] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.002s: duplicate column name: created_at
[2025-09-24 21:47:25] [DEBUG] [Database] init_users_table:251 - Column 'created_at' already exists in users table
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 21:47:25] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.002s: duplicate column name: updated_at
[2025-09-24 21:47:25] [DEBUG] [Database] init_users_table:251 - Column 'updated_at' already exists in users table
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.002s
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 21:47:25] [DEBUG] [Database] init_users_table:258 - Users table schema: 8 columns
[2025-09-24 21:47:25] [DEBUG] [Database] init_users_table:260 -   Column: id (INTEGER)
[2025-09-24 21:47:25] [DEBUG] [Database] init_users_table:260 -   Column: discord_id (INTEGER)
[2025-09-24 21:47:25] [DEBUG] [Database] init_users_table:260 -   Column: guild_id (INTEGER)
[2025-09-24 21:47:25] [DEBUG] [Database] init_users_table:260 -   Column: username (TEXT)
[2025-09-24 21:47:25] [DEBUG] [Database] init_users_table:260 -   Column: anilist_username (TEXT)
[2025-09-24 21:47:25] [DEBUG] [Database] init_users_table:260 -   Column: anilist_id (INTEGER)
[2025-09-24 21:47:25] [DEBUG] [Database] init_users_table:260 -   Column: created_at (DATETIME)
[2025-09-24 21:47:25] [DEBUG] [Database] init_users_table:260 -   Column: updated_at (DATETIME)
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:115 - Executing check guild_id usage
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT COUNT(*) FROM users WHERE guild_id IS NOT NULL
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:142 - check guild_id usage completed in 0.002s
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 1
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 1, 'test1')
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 1 completed in 0.007s
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 2
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 2, 'test2')
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 2 completed in 0.005s
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:115 - Executing cleanup test data
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:116 - Query: DELETE FROM users WHERE discord_id = ?
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999,)
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:142 - cleanup test data completed in 0.008s
[2025-09-24 21:47:25] [INFO] [Database] init_users_table:298 - ✅ Multi-guild support confirmed - table supports multiple guilds per user
[2025-09-24 21:47:25] [INFO] [Database] init_users_table:312 - ✅ Users table initialization completed successfully
[2025-09-24 21:47:25] [DEBUG] [Database] init_db:1500 - ✅ Users table initialized successfully
[2025-09-24 21:47:25] [DEBUG] [Database] init_db:1497 - Initializing Challenge Rules table...
[2025-09-24 21:47:25] [INFO] [Database] init_challenge_rules_table:761 - Initializing challenge rules table
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.002s
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME
[2025-09-24 21:47:25] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.001s: duplicate column name: created_at
[2025-09-24 21:47:25] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'created_at' already exists in challenge_rules table
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME
[2025-09-24 21:47:25] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.002s: duplicate column name: updated_at
[2025-09-24 21:47:25] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'updated_at' already exists in challenge_rules table
[2025-09-24 21:47:25] [INFO] [Database] init_challenge_rules_table:790 - ✅ Challenge rules table initialization completed
[2025-09-24 21:47:25] [DEBUG] [Database] init_db:1500 - ✅ Challenge Rules table initialized successfully
[2025-09-24 21:47:25] [DEBUG] [Database] init_db:1497 - Initializing Recommendation Votes table...
[2025-09-24 21:47:25] [INFO] [Database] init_recommendation_votes_table:858 - Manga recommendation votes table ready.
[2025-09-24 21:47:25] [DEBUG] [Database] init_db:1500 - ✅ Recommendation Votes table initialized successfully
[2025-09-24 21:47:25] [DEBUG] [Database] init_db:1497 - Initializing User Stats table...
[2025-09-24 21:47:25] [INFO] [Database] init_user_stats_table:876 - User stats table ready.
[2025-09-24 21:47:25] [DEBUG] [Database] init_db:1500 - ✅ User Stats table initialized successfully
[2025-09-24 21:47:25] [DEBUG] [Database] init_db:1497 - Initializing Achievements table...
[2025-09-24 21:47:25] [INFO] [Database] init_achievements_table:892 - Achievements table ready.
[2025-09-24 21:47:25] [DEBUG] [Database] init_db:1500 - ✅ Achievements table initialized successfully
[2025-09-24 21:47:25] [DEBUG] [Database] init_db:1497 - Initializing User Manga Progress table...
[2025-09-24 21:47:25] [INFO] [Database] init_user_manga_progress_table:928 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-24 21:47:25] [DEBUG] [Database] init_db:1500 - ✅ User Manga Progress table initialized successfully
[2025-09-24 21:47:25] [DEBUG] [Database] init_db:1497 - Initializing Manga Challenges table...
[2025-09-24 21:47:25] [DEBUG] [Database] init_db:1500 - ✅ Manga Challenges table initialized successfully
[2025-09-24 21:47:25] [DEBUG] [Database] init_db:1497 - Initializing User Progress table...
[2025-09-24 21:47:25] [DEBUG] [Database] init_db:1500 - ✅ User Progress table initialized successfully
[2025-09-24 21:47:25] [DEBUG] [Database] init_db:1497 - Initializing Global Challenges table...
[2025-09-24 21:47:25] [INFO] [Database] init_global_challenges_table:1226 - Global challenges table ready with difficulty column.
[2025-09-24 21:47:25] [DEBUG] [Database] init_db:1500 - ✅ Global Challenges table initialized successfully
[2025-09-24 21:47:25] [DEBUG] [Database] init_db:1497 - Initializing Guild Challenge Roles table...
[2025-09-24 21:47:25] [INFO] [Database] init_guild_challenge_roles_table:1408 - 🔧 Initializing guild challenge roles table...
[2025-09-24 21:47:25] [INFO] [Database] get_guild_challenge_roles:2124 - Getting challenge roles for guild 897814031346319382
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:115 - Executing get challenge roles for guild 897814031346319382
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT challenge_id, threshold, role_id 
            FROM guild_challenge_roles 
            WHERE guild_id = ?
            ORDER BY challenge_id, threshold
        
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:142 - get challenge roles for guild 897814031346319382 completed in 0.002s
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:148 - Query returned 13 rows
[2025-09-24 21:47:25] [INFO] [Database] get_guild_challenge_roles:2152 - ✅ Retrieved 13 challenge role configurations for guild 897814031346319382
[2025-09-24 21:47:25] [INFO] [Database] migrate_default_challenge_roles:1440 - Default challenge roles already exist for primary guild 897814031346319382
[2025-09-24 21:47:25] [INFO] [Database] init_guild_challenge_roles_table:1428 - ✅ Guild challenge roles table ready.
[2025-09-24 21:47:25] [DEBUG] [Database] init_db:1500 - ✅ Guild Challenge Roles table initialized successfully
[2025-09-24 21:47:25] [DEBUG] [Database] init_db:1497 - Initializing Invite Tracker table...
[2025-09-24 21:47:25] [INFO] [Database] init_invite_tracker_tables:1316 - Initializing invite tracker tables
[2025-09-24 21:47:25] [INFO] [Database] init_invite_tracker_tables:1383 - ✅ Invite tracker tables initialized successfully
[2025-09-24 21:47:25] [DEBUG] [Database] init_db:1500 - ✅ Invite Tracker table initialized successfully
[2025-09-24 21:47:25] [DEBUG] [Database] init_db:1497 - Initializing Steam Users table...
[2025-09-24 21:47:25] [INFO] [Database] init_steam_users_table:1403 - Steam users table ready.
[2025-09-24 21:47:25] [DEBUG] [Database] init_db:1500 - ✅ Steam Users table initialized successfully
[2025-09-24 21:47:25] [DEBUG] [Database] init_db:1497 - Initializing Challenge Manga table...
[2025-09-24 21:47:25] [DEBUG] [Database] init_db:1500 - ✅ Challenge Manga table initialized successfully
[2025-09-24 21:47:25] [INFO] [Database] init_db:1511 - ============================================================
[2025-09-24 21:47:25] [INFO] [Database] init_db:1512 - DATABASE INITIALIZATION SUMMARY
[2025-09-24 21:47:25] [INFO] [Database] init_db:1513 - Total tables: 13
[2025-09-24 21:47:25] [INFO] [Database] init_db:1514 - Successfully initialized: 13
[2025-09-24 21:47:25] [INFO] [Database] init_db:1515 - Failed to initialize: 0
[2025-09-24 21:47:25] [INFO] [Database] init_db:1516 - Total time: 0.07 seconds
[2025-09-24 21:47:25] [INFO] [Database] init_db:1521 - ✅ All database tables initialized successfully
[2025-09-24 21:47:25] [INFO] [Database] init_db:1523 - ============================================================
[2025-09-24 21:47:25] [INFO] [Database] init_db:1528 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.002s
[2025-09-24 21:47:25] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-24 21:47:28] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 21:47:28] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 21:47:28] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-24 21:47:28] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 21:47:28] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 21:47:28] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 21:47:28] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 21:47:28] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 21:47:29] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 21:47:29] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 21:47:29] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-24 21:47:29] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 21:47:29] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 21:47:29] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 21:47:29] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-24 21:47:29] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 21:47:29] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 21:47:29] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 21:47:29] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-24 21:47:29] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 21:47:29] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 21:47:29] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 21:47:29] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-24 21:47:29] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 21:47:29] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 21:47:29] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 21:47:29] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-24 21:47:29] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 21:47:29] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 21:47:29] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 21:47:29] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-24 21:47:29] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 21:47:29] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 21:47:29] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 21:47:29] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-24 21:47:29] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 21:47:29] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 21:47:29] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 21:47:29] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-24 21:47:29] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 21:47:30] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 21:47:30] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 21:47:30] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-24 21:47:30] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 21:47:30] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 21:47:30] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 21:47:30] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 21:47:30] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 21:47:32] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 21:47:32] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 21:47:32] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-24 21:47:32] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 21:47:32] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 21:47:32] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 21:47:32] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 21:47:32] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 21:47:40] [DEBUG] [Database] get_all_users:484 - Retrieving all users from database
[2025-09-24 21:47:40] [DEBUG] [Database] execute_db_operation:115 - Executing get all users
[2025-09-24 21:47:40] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users ORDER BY username
[2025-09-24 21:47:40] [DEBUG] [Database] execute_db_operation:142 - get all users completed in 0.002s
[2025-09-24 21:47:40] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 21:47:40] [INFO] [Database] get_all_users:494 - ✅ Retrieved 19 users from database
[2025-09-24 22:59:01] [INFO] [Database] <module>:60 - ==================================================
[2025-09-24 22:59:01] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-24 22:59:01] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-24 22:59:01] [INFO] [Database] <module>:63 - ==================================================
[2025-09-24 22:59:01] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-24 22:59:01] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-24 22:59:01] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-24 22:59:01] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-24 22:59:01] [INFO] [Database] init_db:1462 - ============================================================
[2025-09-24 22:59:01] [INFO] [Database] init_db:1463 - STARTING DATABASE INITIALIZATION
[2025-09-24 22:59:01] [INFO] [Database] init_db:1464 - ============================================================
[2025-09-24 22:59:01] [INFO] [Database] init_db:1489 - Verifying database connectivity...
[2025-09-24 22:59:01] [INFO] [Database] init_db:1492 - ✅ Database connectivity verified
[2025-09-24 22:59:01] [DEBUG] [Database] init_db:1497 - Initializing Users table...
[2025-09-24 22:59:01] [INFO] [Database] init_users_table:218 - Initializing users table
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.003s
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-24 22:59:01] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.002s: duplicate column name: anilist_username
[2025-09-24 22:59:01] [DEBUG] [Database] init_users_table:251 - Column 'anilist_username' already exists in users table
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-24 22:59:01] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.002s: duplicate column name: anilist_id
[2025-09-24 22:59:01] [DEBUG] [Database] init_users_table:251 - Column 'anilist_id' already exists in users table
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:115 - Executing add guild_id column to users
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN guild_id INTEGER
[2025-09-24 22:59:01] [ERROR] [Database] execute_db_operation:156 - add guild_id column to users failed after 0.001s: duplicate column name: guild_id
[2025-09-24 22:59:01] [DEBUG] [Database] init_users_table:251 - Column 'guild_id' already exists in users table
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 22:59:01] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.002s: duplicate column name: created_at
[2025-09-24 22:59:01] [DEBUG] [Database] init_users_table:251 - Column 'created_at' already exists in users table
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 22:59:01] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.003s: duplicate column name: updated_at
[2025-09-24 22:59:01] [DEBUG] [Database] init_users_table:251 - Column 'updated_at' already exists in users table
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.003s
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 22:59:01] [DEBUG] [Database] init_users_table:258 - Users table schema: 8 columns
[2025-09-24 22:59:01] [DEBUG] [Database] init_users_table:260 -   Column: id (INTEGER)
[2025-09-24 22:59:01] [DEBUG] [Database] init_users_table:260 -   Column: discord_id (INTEGER)
[2025-09-24 22:59:01] [DEBUG] [Database] init_users_table:260 -   Column: guild_id (INTEGER)
[2025-09-24 22:59:01] [DEBUG] [Database] init_users_table:260 -   Column: username (TEXT)
[2025-09-24 22:59:01] [DEBUG] [Database] init_users_table:260 -   Column: anilist_username (TEXT)
[2025-09-24 22:59:01] [DEBUG] [Database] init_users_table:260 -   Column: anilist_id (INTEGER)
[2025-09-24 22:59:01] [DEBUG] [Database] init_users_table:260 -   Column: created_at (DATETIME)
[2025-09-24 22:59:01] [DEBUG] [Database] init_users_table:260 -   Column: updated_at (DATETIME)
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:115 - Executing check guild_id usage
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT COUNT(*) FROM users WHERE guild_id IS NOT NULL
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:142 - check guild_id usage completed in 0.003s
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 1
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 1, 'test1')
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 1 completed in 0.008s
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 2
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 2, 'test2')
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 2 completed in 0.010s
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:115 - Executing cleanup test data
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:116 - Query: DELETE FROM users WHERE discord_id = ?
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999,)
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:142 - cleanup test data completed in 0.009s
[2025-09-24 22:59:01] [INFO] [Database] init_users_table:298 - ✅ Multi-guild support confirmed - table supports multiple guilds per user
[2025-09-24 22:59:01] [INFO] [Database] init_users_table:312 - ✅ Users table initialization completed successfully
[2025-09-24 22:59:01] [DEBUG] [Database] init_db:1500 - ✅ Users table initialized successfully
[2025-09-24 22:59:01] [DEBUG] [Database] init_db:1497 - Initializing Challenge Rules table...
[2025-09-24 22:59:01] [INFO] [Database] init_challenge_rules_table:761 - Initializing challenge rules table
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.003s
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME
[2025-09-24 22:59:01] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.001s: duplicate column name: created_at
[2025-09-24 22:59:01] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'created_at' already exists in challenge_rules table
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME
[2025-09-24 22:59:01] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.002s: duplicate column name: updated_at
[2025-09-24 22:59:01] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'updated_at' already exists in challenge_rules table
[2025-09-24 22:59:01] [INFO] [Database] init_challenge_rules_table:790 - ✅ Challenge rules table initialization completed
[2025-09-24 22:59:01] [DEBUG] [Database] init_db:1500 - ✅ Challenge Rules table initialized successfully
[2025-09-24 22:59:01] [DEBUG] [Database] init_db:1497 - Initializing Recommendation Votes table...
[2025-09-24 22:59:01] [INFO] [Database] init_recommendation_votes_table:858 - Manga recommendation votes table ready.
[2025-09-24 22:59:01] [DEBUG] [Database] init_db:1500 - ✅ Recommendation Votes table initialized successfully
[2025-09-24 22:59:01] [DEBUG] [Database] init_db:1497 - Initializing User Stats table...
[2025-09-24 22:59:01] [INFO] [Database] init_user_stats_table:876 - User stats table ready.
[2025-09-24 22:59:01] [DEBUG] [Database] init_db:1500 - ✅ User Stats table initialized successfully
[2025-09-24 22:59:01] [DEBUG] [Database] init_db:1497 - Initializing Achievements table...
[2025-09-24 22:59:01] [INFO] [Database] init_achievements_table:892 - Achievements table ready.
[2025-09-24 22:59:01] [DEBUG] [Database] init_db:1500 - ✅ Achievements table initialized successfully
[2025-09-24 22:59:01] [DEBUG] [Database] init_db:1497 - Initializing User Manga Progress table...
[2025-09-24 22:59:01] [INFO] [Database] init_user_manga_progress_table:928 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-24 22:59:01] [DEBUG] [Database] init_db:1500 - ✅ User Manga Progress table initialized successfully
[2025-09-24 22:59:01] [DEBUG] [Database] init_db:1497 - Initializing Manga Challenges table...
[2025-09-24 22:59:01] [DEBUG] [Database] init_db:1500 - ✅ Manga Challenges table initialized successfully
[2025-09-24 22:59:01] [DEBUG] [Database] init_db:1497 - Initializing User Progress table...
[2025-09-24 22:59:01] [DEBUG] [Database] init_db:1500 - ✅ User Progress table initialized successfully
[2025-09-24 22:59:01] [DEBUG] [Database] init_db:1497 - Initializing Global Challenges table...
[2025-09-24 22:59:01] [INFO] [Database] init_global_challenges_table:1226 - Global challenges table ready with difficulty column.
[2025-09-24 22:59:01] [DEBUG] [Database] init_db:1500 - ✅ Global Challenges table initialized successfully
[2025-09-24 22:59:01] [DEBUG] [Database] init_db:1497 - Initializing Guild Challenge Roles table...
[2025-09-24 22:59:01] [INFO] [Database] init_guild_challenge_roles_table:1408 - 🔧 Initializing guild challenge roles table...
[2025-09-24 22:59:01] [INFO] [Database] get_guild_challenge_roles:2124 - Getting challenge roles for guild 897814031346319382
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:115 - Executing get challenge roles for guild 897814031346319382
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT challenge_id, threshold, role_id 
            FROM guild_challenge_roles 
            WHERE guild_id = ?
            ORDER BY challenge_id, threshold
        
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:142 - get challenge roles for guild 897814031346319382 completed in 0.002s
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:148 - Query returned 13 rows
[2025-09-24 22:59:01] [INFO] [Database] get_guild_challenge_roles:2152 - ✅ Retrieved 13 challenge role configurations for guild 897814031346319382
[2025-09-24 22:59:01] [INFO] [Database] migrate_default_challenge_roles:1440 - Default challenge roles already exist for primary guild 897814031346319382
[2025-09-24 22:59:01] [INFO] [Database] init_guild_challenge_roles_table:1428 - ✅ Guild challenge roles table ready.
[2025-09-24 22:59:01] [DEBUG] [Database] init_db:1500 - ✅ Guild Challenge Roles table initialized successfully
[2025-09-24 22:59:01] [DEBUG] [Database] init_db:1497 - Initializing Invite Tracker table...
[2025-09-24 22:59:01] [INFO] [Database] init_invite_tracker_tables:1316 - Initializing invite tracker tables
[2025-09-24 22:59:01] [INFO] [Database] init_invite_tracker_tables:1383 - ✅ Invite tracker tables initialized successfully
[2025-09-24 22:59:01] [DEBUG] [Database] init_db:1500 - ✅ Invite Tracker table initialized successfully
[2025-09-24 22:59:01] [DEBUG] [Database] init_db:1497 - Initializing Steam Users table...
[2025-09-24 22:59:01] [INFO] [Database] init_steam_users_table:1403 - Steam users table ready.
[2025-09-24 22:59:01] [DEBUG] [Database] init_db:1500 - ✅ Steam Users table initialized successfully
[2025-09-24 22:59:01] [DEBUG] [Database] init_db:1497 - Initializing Challenge Manga table...
[2025-09-24 22:59:01] [DEBUG] [Database] init_db:1500 - ✅ Challenge Manga table initialized successfully
[2025-09-24 22:59:01] [INFO] [Database] init_db:1511 - ============================================================
[2025-09-24 22:59:01] [INFO] [Database] init_db:1512 - DATABASE INITIALIZATION SUMMARY
[2025-09-24 22:59:01] [INFO] [Database] init_db:1513 - Total tables: 13
[2025-09-24 22:59:01] [INFO] [Database] init_db:1514 - Successfully initialized: 13
[2025-09-24 22:59:01] [INFO] [Database] init_db:1515 - Failed to initialize: 0
[2025-09-24 22:59:01] [INFO] [Database] init_db:1516 - Total time: 0.09 seconds
[2025-09-24 22:59:01] [INFO] [Database] init_db:1521 - ✅ All database tables initialized successfully
[2025-09-24 22:59:01] [INFO] [Database] init_db:1523 - ============================================================
[2025-09-24 22:59:01] [INFO] [Database] init_db:1528 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.004s
[2025-09-24 22:59:01] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-24 22:59:05] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 22:59:05] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 22:59:05] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.004s
[2025-09-24 22:59:05] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 22:59:05] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 22:59:05] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 22:59:05] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 22:59:05] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 22:59:05] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 22:59:05] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 22:59:05] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-24 22:59:05] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-24 22:59:05] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 22:59:05] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 22:59:05] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-24 22:59:05] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-24 22:59:05] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 22:59:05] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 22:59:05] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-24 22:59:05] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 22:59:05] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 22:59:05] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 22:59:05] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-24 22:59:05] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-24 22:59:05] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 22:59:05] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 22:59:05] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-24 22:59:05] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.009s
[2025-09-24 22:59:05] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 22:59:05] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 22:59:05] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-24 22:59:05] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-24 22:59:05] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 22:59:05] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 22:59:05] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-24 22:59:05] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 22:59:05] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 22:59:05] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 22:59:05] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-24 22:59:05] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-24 22:59:07] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 22:59:07] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 22:59:07] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-24 22:59:07] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 22:59:07] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 22:59:07] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 22:59:07] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 22:59:07] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 22:59:09] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 22:59:09] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 22:59:09] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-24 22:59:09] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 22:59:09] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 22:59:09] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 22:59:09] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 22:59:09] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 23:00:02] [INFO] [Database] <module>:60 - ==================================================
[2025-09-24 23:00:02] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-24 23:00:02] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-24 23:00:02] [INFO] [Database] <module>:63 - ==================================================
[2025-09-24 23:00:02] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-24 23:00:02] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-24 23:00:02] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-24 23:00:02] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-24 23:00:22] [INFO] [Database] <module>:60 - ==================================================
[2025-09-24 23:00:22] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-24 23:00:22] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-24 23:00:22] [INFO] [Database] <module>:63 - ==================================================
[2025-09-24 23:00:22] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-24 23:00:22] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-24 23:00:22] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-24 23:00:22] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-24 23:00:54] [INFO] [Database] get_all_users_guild_aware:1919 - Getting all users for guild 897814031346319382
[2025-09-24 23:00:54] [DEBUG] [Database] execute_db_operation:115 - Executing get all users for guild 897814031346319382
[2025-09-24 23:00:54] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE guild_id = ?
[2025-09-24 23:00:54] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 23:00:54] [DEBUG] [Database] execute_db_operation:142 - get all users for guild 897814031346319382 completed in 0.002s
[2025-09-24 23:00:54] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-24 23:00:54] [INFO] [Database] get_all_users_guild_aware:1933 - ✅ Retrieved 18 users for guild 897814031346319382
[2025-09-24 23:00:59] [INFO] [Database] get_guild_leaderboard_data:1849 - Getting manga leaderboard data for guild 897814031346319382
[2025-09-24 23:00:59] [DEBUG] [Database] execute_db_operation:115 - Executing get manga leaderboard for guild 897814031346319382
[2025-09-24 23:00:59] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT u.anilist_username, us.total_manga, us.total_anime, 
                   us.total_chapters, us.total_episodes, us.avg_manga_score, us.avg_anime_score
            FROM users u 
            JOIN user_stats us ON u.discord_id = us.discord_id
            WHERE u.guild_id = ? AND u.anilist_username IS NOT NULL
        
[2025-09-24 23:00:59] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 23:00:59] [DEBUG] [Database] execute_db_operation:142 - get manga leaderboard for guild 897814031346319382 completed in 0.002s
[2025-09-24 23:00:59] [DEBUG] [Database] execute_db_operation:148 - Query returned 15 rows
[2025-09-24 23:00:59] [INFO] [Database] get_guild_leaderboard_data:1906 - ✅ Retrieved 15 entries for manga leaderboard in guild 897814031346319382
[2025-09-24 23:02:20] [INFO] [Database] <module>:60 - ==================================================
[2025-09-24 23:02:20] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-24 23:02:20] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-24 23:02:20] [INFO] [Database] <module>:63 - ==================================================
[2025-09-24 23:02:20] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-24 23:02:20] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-24 23:02:20] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-24 23:02:20] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-24 23:02:20] [INFO] [Database] init_db:1462 - ============================================================
[2025-09-24 23:02:20] [INFO] [Database] init_db:1463 - STARTING DATABASE INITIALIZATION
[2025-09-24 23:02:20] [INFO] [Database] init_db:1464 - ============================================================
[2025-09-24 23:02:20] [INFO] [Database] init_db:1489 - Verifying database connectivity...
[2025-09-24 23:02:20] [INFO] [Database] init_db:1492 - ✅ Database connectivity verified
[2025-09-24 23:02:20] [DEBUG] [Database] init_db:1497 - Initializing Users table...
[2025-09-24 23:02:20] [INFO] [Database] init_users_table:218 - Initializing users table
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-24 23:02:20] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.002s: duplicate column name: anilist_username
[2025-09-24 23:02:20] [DEBUG] [Database] init_users_table:251 - Column 'anilist_username' already exists in users table
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-24 23:02:20] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.002s: duplicate column name: anilist_id
[2025-09-24 23:02:20] [DEBUG] [Database] init_users_table:251 - Column 'anilist_id' already exists in users table
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:115 - Executing add guild_id column to users
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN guild_id INTEGER
[2025-09-24 23:02:20] [ERROR] [Database] execute_db_operation:156 - add guild_id column to users failed after 0.002s: duplicate column name: guild_id
[2025-09-24 23:02:20] [DEBUG] [Database] init_users_table:251 - Column 'guild_id' already exists in users table
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 23:02:20] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.002s: duplicate column name: created_at
[2025-09-24 23:02:20] [DEBUG] [Database] init_users_table:251 - Column 'created_at' already exists in users table
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 23:02:20] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.002s: duplicate column name: updated_at
[2025-09-24 23:02:20] [DEBUG] [Database] init_users_table:251 - Column 'updated_at' already exists in users table
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.003s
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:02:20] [DEBUG] [Database] init_users_table:258 - Users table schema: 8 columns
[2025-09-24 23:02:20] [DEBUG] [Database] init_users_table:260 -   Column: id (INTEGER)
[2025-09-24 23:02:20] [DEBUG] [Database] init_users_table:260 -   Column: discord_id (INTEGER)
[2025-09-24 23:02:20] [DEBUG] [Database] init_users_table:260 -   Column: guild_id (INTEGER)
[2025-09-24 23:02:20] [DEBUG] [Database] init_users_table:260 -   Column: username (TEXT)
[2025-09-24 23:02:20] [DEBUG] [Database] init_users_table:260 -   Column: anilist_username (TEXT)
[2025-09-24 23:02:20] [DEBUG] [Database] init_users_table:260 -   Column: anilist_id (INTEGER)
[2025-09-24 23:02:20] [DEBUG] [Database] init_users_table:260 -   Column: created_at (DATETIME)
[2025-09-24 23:02:20] [DEBUG] [Database] init_users_table:260 -   Column: updated_at (DATETIME)
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:115 - Executing check guild_id usage
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT COUNT(*) FROM users WHERE guild_id IS NOT NULL
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:142 - check guild_id usage completed in 0.003s
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 1
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 1, 'test1')
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 1 completed in 0.006s
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 2
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 2, 'test2')
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 2 completed in 0.007s
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:115 - Executing cleanup test data
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:116 - Query: DELETE FROM users WHERE discord_id = ?
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999,)
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:142 - cleanup test data completed in 0.007s
[2025-09-24 23:02:20] [INFO] [Database] init_users_table:298 - ✅ Multi-guild support confirmed - table supports multiple guilds per user
[2025-09-24 23:02:20] [INFO] [Database] init_users_table:312 - ✅ Users table initialization completed successfully
[2025-09-24 23:02:20] [DEBUG] [Database] init_db:1500 - ✅ Users table initialized successfully
[2025-09-24 23:02:20] [DEBUG] [Database] init_db:1497 - Initializing Challenge Rules table...
[2025-09-24 23:02:20] [INFO] [Database] init_challenge_rules_table:761 - Initializing challenge rules table
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.003s
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME
[2025-09-24 23:02:20] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.002s: duplicate column name: created_at
[2025-09-24 23:02:20] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'created_at' already exists in challenge_rules table
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME
[2025-09-24 23:02:20] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.003s: duplicate column name: updated_at
[2025-09-24 23:02:20] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'updated_at' already exists in challenge_rules table
[2025-09-24 23:02:20] [INFO] [Database] init_challenge_rules_table:790 - ✅ Challenge rules table initialization completed
[2025-09-24 23:02:20] [DEBUG] [Database] init_db:1500 - ✅ Challenge Rules table initialized successfully
[2025-09-24 23:02:20] [DEBUG] [Database] init_db:1497 - Initializing Recommendation Votes table...
[2025-09-24 23:02:20] [INFO] [Database] init_recommendation_votes_table:858 - Manga recommendation votes table ready.
[2025-09-24 23:02:20] [DEBUG] [Database] init_db:1500 - ✅ Recommendation Votes table initialized successfully
[2025-09-24 23:02:20] [DEBUG] [Database] init_db:1497 - Initializing User Stats table...
[2025-09-24 23:02:20] [INFO] [Database] init_user_stats_table:876 - User stats table ready.
[2025-09-24 23:02:20] [DEBUG] [Database] init_db:1500 - ✅ User Stats table initialized successfully
[2025-09-24 23:02:20] [DEBUG] [Database] init_db:1497 - Initializing Achievements table...
[2025-09-24 23:02:20] [INFO] [Database] init_achievements_table:892 - Achievements table ready.
[2025-09-24 23:02:20] [DEBUG] [Database] init_db:1500 - ✅ Achievements table initialized successfully
[2025-09-24 23:02:20] [DEBUG] [Database] init_db:1497 - Initializing User Manga Progress table...
[2025-09-24 23:02:20] [INFO] [Database] init_user_manga_progress_table:928 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-24 23:02:20] [DEBUG] [Database] init_db:1500 - ✅ User Manga Progress table initialized successfully
[2025-09-24 23:02:20] [DEBUG] [Database] init_db:1497 - Initializing Manga Challenges table...
[2025-09-24 23:02:20] [DEBUG] [Database] init_db:1500 - ✅ Manga Challenges table initialized successfully
[2025-09-24 23:02:20] [DEBUG] [Database] init_db:1497 - Initializing User Progress table...
[2025-09-24 23:02:20] [DEBUG] [Database] init_db:1500 - ✅ User Progress table initialized successfully
[2025-09-24 23:02:20] [DEBUG] [Database] init_db:1497 - Initializing Global Challenges table...
[2025-09-24 23:02:20] [INFO] [Database] init_global_challenges_table:1226 - Global challenges table ready with difficulty column.
[2025-09-24 23:02:20] [DEBUG] [Database] init_db:1500 - ✅ Global Challenges table initialized successfully
[2025-09-24 23:02:20] [DEBUG] [Database] init_db:1497 - Initializing Guild Challenge Roles table...
[2025-09-24 23:02:20] [INFO] [Database] init_guild_challenge_roles_table:1408 - 🔧 Initializing guild challenge roles table...
[2025-09-24 23:02:20] [INFO] [Database] get_guild_challenge_roles:2124 - Getting challenge roles for guild 897814031346319382
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:115 - Executing get challenge roles for guild 897814031346319382
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT challenge_id, threshold, role_id 
            FROM guild_challenge_roles 
            WHERE guild_id = ?
            ORDER BY challenge_id, threshold
        
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:142 - get challenge roles for guild 897814031346319382 completed in 0.002s
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:148 - Query returned 13 rows
[2025-09-24 23:02:20] [INFO] [Database] get_guild_challenge_roles:2152 - ✅ Retrieved 13 challenge role configurations for guild 897814031346319382
[2025-09-24 23:02:20] [INFO] [Database] migrate_default_challenge_roles:1440 - Default challenge roles already exist for primary guild 897814031346319382
[2025-09-24 23:02:20] [INFO] [Database] init_guild_challenge_roles_table:1428 - ✅ Guild challenge roles table ready.
[2025-09-24 23:02:20] [DEBUG] [Database] init_db:1500 - ✅ Guild Challenge Roles table initialized successfully
[2025-09-24 23:02:20] [DEBUG] [Database] init_db:1497 - Initializing Invite Tracker table...
[2025-09-24 23:02:20] [INFO] [Database] init_invite_tracker_tables:1316 - Initializing invite tracker tables
[2025-09-24 23:02:20] [INFO] [Database] init_invite_tracker_tables:1383 - ✅ Invite tracker tables initialized successfully
[2025-09-24 23:02:20] [DEBUG] [Database] init_db:1500 - ✅ Invite Tracker table initialized successfully
[2025-09-24 23:02:20] [DEBUG] [Database] init_db:1497 - Initializing Steam Users table...
[2025-09-24 23:02:20] [INFO] [Database] init_steam_users_table:1403 - Steam users table ready.
[2025-09-24 23:02:20] [DEBUG] [Database] init_db:1500 - ✅ Steam Users table initialized successfully
[2025-09-24 23:02:20] [DEBUG] [Database] init_db:1497 - Initializing Challenge Manga table...
[2025-09-24 23:02:20] [DEBUG] [Database] init_db:1500 - ✅ Challenge Manga table initialized successfully
[2025-09-24 23:02:20] [INFO] [Database] init_db:1511 - ============================================================
[2025-09-24 23:02:20] [INFO] [Database] init_db:1512 - DATABASE INITIALIZATION SUMMARY
[2025-09-24 23:02:20] [INFO] [Database] init_db:1513 - Total tables: 13
[2025-09-24 23:02:20] [INFO] [Database] init_db:1514 - Successfully initialized: 13
[2025-09-24 23:02:20] [INFO] [Database] init_db:1515 - Failed to initialize: 0
[2025-09-24 23:02:20] [INFO] [Database] init_db:1516 - Total time: 0.09 seconds
[2025-09-24 23:02:20] [INFO] [Database] init_db:1521 - ✅ All database tables initialized successfully
[2025-09-24 23:02:20] [INFO] [Database] init_db:1523 - ============================================================
[2025-09-24 23:02:20] [INFO] [Database] init_db:1528 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.002s
[2025-09-24 23:02:20] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-24 23:02:24] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 23:02:24] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:02:24] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-24 23:02:24] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:02:24] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 23:02:24] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 23:02:24] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 23:02:24] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 23:02:24] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:02:24] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:02:24] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-24 23:02:24] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-24 23:02:24] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:02:24] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:02:24] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-24 23:02:24] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.009s
[2025-09-24 23:02:24] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:02:24] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:02:24] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-24 23:02:24] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 23:02:24] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:02:24] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:02:24] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-24 23:02:24] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.009s
[2025-09-24 23:02:24] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:02:24] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:02:24] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-24 23:02:24] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-24 23:02:24] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:02:24] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:02:24] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-24 23:02:24] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.009s
[2025-09-24 23:02:24] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:02:24] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:02:24] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-24 23:02:24] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.009s
[2025-09-24 23:02:24] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:02:24] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:02:24] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-24 23:02:24] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-24 23:02:26] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 23:02:26] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:02:26] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-24 23:02:26] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:02:26] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 23:02:26] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 23:02:26] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 23:02:26] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 23:02:28] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 23:02:28] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:02:28] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-24 23:02:28] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:02:28] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 23:02:28] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 23:02:28] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 23:02:28] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 23:02:39] [INFO] [Database] get_all_users_guild_aware:1919 - Getting all users for guild 897814031346319382
[2025-09-24 23:02:39] [DEBUG] [Database] execute_db_operation:115 - Executing get all users for guild 897814031346319382
[2025-09-24 23:02:39] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE guild_id = ?
[2025-09-24 23:02:39] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 23:02:39] [DEBUG] [Database] execute_db_operation:142 - get all users for guild 897814031346319382 completed in 0.002s
[2025-09-24 23:02:39] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-24 23:02:39] [INFO] [Database] get_all_users_guild_aware:1933 - ✅ Retrieved 18 users for guild 897814031346319382
[2025-09-24 23:02:45] [INFO] [Database] get_guild_leaderboard_data:1849 - Getting manga leaderboard data for guild 897814031346319382
[2025-09-24 23:02:45] [DEBUG] [Database] execute_db_operation:115 - Executing get manga leaderboard for guild 897814031346319382
[2025-09-24 23:02:45] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT u.anilist_username, us.total_manga, us.total_anime, 
                   us.total_chapters, us.total_episodes, us.avg_manga_score, us.avg_anime_score
            FROM users u 
            JOIN user_stats us ON u.discord_id = us.discord_id
            WHERE u.guild_id = ? AND u.anilist_username IS NOT NULL
        
[2025-09-24 23:02:45] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 23:02:45] [DEBUG] [Database] execute_db_operation:142 - get manga leaderboard for guild 897814031346319382 completed in 0.003s
[2025-09-24 23:02:45] [DEBUG] [Database] execute_db_operation:148 - Query returned 15 rows
[2025-09-24 23:02:45] [INFO] [Database] get_guild_leaderboard_data:1906 - ✅ Retrieved 15 entries for manga leaderboard in guild 897814031346319382
[2025-09-24 23:05:07] [INFO] [Database] <module>:60 - ==================================================
[2025-09-24 23:05:07] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-24 23:05:07] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-24 23:05:07] [INFO] [Database] <module>:63 - ==================================================
[2025-09-24 23:05:07] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-24 23:05:07] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-24 23:05:07] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-24 23:05:07] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-24 23:05:07] [INFO] [Database] init_db:1462 - ============================================================
[2025-09-24 23:05:07] [INFO] [Database] init_db:1463 - STARTING DATABASE INITIALIZATION
[2025-09-24 23:05:07] [INFO] [Database] init_db:1464 - ============================================================
[2025-09-24 23:05:07] [INFO] [Database] init_db:1489 - Verifying database connectivity...
[2025-09-24 23:05:07] [INFO] [Database] init_db:1492 - ✅ Database connectivity verified
[2025-09-24 23:05:07] [DEBUG] [Database] init_db:1497 - Initializing Users table...
[2025-09-24 23:05:07] [INFO] [Database] init_users_table:218 - Initializing users table
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-24 23:05:07] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.003s: duplicate column name: anilist_username
[2025-09-24 23:05:07] [DEBUG] [Database] init_users_table:251 - Column 'anilist_username' already exists in users table
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-24 23:05:07] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.003s: duplicate column name: anilist_id
[2025-09-24 23:05:07] [DEBUG] [Database] init_users_table:251 - Column 'anilist_id' already exists in users table
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:115 - Executing add guild_id column to users
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN guild_id INTEGER
[2025-09-24 23:05:07] [ERROR] [Database] execute_db_operation:156 - add guild_id column to users failed after 0.003s: duplicate column name: guild_id
[2025-09-24 23:05:07] [DEBUG] [Database] init_users_table:251 - Column 'guild_id' already exists in users table
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 23:05:07] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.002s: duplicate column name: created_at
[2025-09-24 23:05:07] [DEBUG] [Database] init_users_table:251 - Column 'created_at' already exists in users table
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 23:05:07] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.002s: duplicate column name: updated_at
[2025-09-24 23:05:07] [DEBUG] [Database] init_users_table:251 - Column 'updated_at' already exists in users table
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.004s
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:05:07] [DEBUG] [Database] init_users_table:258 - Users table schema: 8 columns
[2025-09-24 23:05:07] [DEBUG] [Database] init_users_table:260 -   Column: id (INTEGER)
[2025-09-24 23:05:07] [DEBUG] [Database] init_users_table:260 -   Column: discord_id (INTEGER)
[2025-09-24 23:05:07] [DEBUG] [Database] init_users_table:260 -   Column: guild_id (INTEGER)
[2025-09-24 23:05:07] [DEBUG] [Database] init_users_table:260 -   Column: username (TEXT)
[2025-09-24 23:05:07] [DEBUG] [Database] init_users_table:260 -   Column: anilist_username (TEXT)
[2025-09-24 23:05:07] [DEBUG] [Database] init_users_table:260 -   Column: anilist_id (INTEGER)
[2025-09-24 23:05:07] [DEBUG] [Database] init_users_table:260 -   Column: created_at (DATETIME)
[2025-09-24 23:05:07] [DEBUG] [Database] init_users_table:260 -   Column: updated_at (DATETIME)
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:115 - Executing check guild_id usage
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT COUNT(*) FROM users WHERE guild_id IS NOT NULL
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:142 - check guild_id usage completed in 0.003s
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 1
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 1, 'test1')
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 1 completed in 0.013s
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 2
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 2, 'test2')
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 2 completed in 0.008s
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:115 - Executing cleanup test data
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:116 - Query: DELETE FROM users WHERE discord_id = ?
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999,)
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:142 - cleanup test data completed in 0.007s
[2025-09-24 23:05:07] [INFO] [Database] init_users_table:298 - ✅ Multi-guild support confirmed - table supports multiple guilds per user
[2025-09-24 23:05:07] [INFO] [Database] init_users_table:312 - ✅ Users table initialization completed successfully
[2025-09-24 23:05:07] [DEBUG] [Database] init_db:1500 - ✅ Users table initialized successfully
[2025-09-24 23:05:07] [DEBUG] [Database] init_db:1497 - Initializing Challenge Rules table...
[2025-09-24 23:05:07] [INFO] [Database] init_challenge_rules_table:761 - Initializing challenge rules table
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.003s
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME
[2025-09-24 23:05:07] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.003s: duplicate column name: created_at
[2025-09-24 23:05:07] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'created_at' already exists in challenge_rules table
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME
[2025-09-24 23:05:07] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.003s: duplicate column name: updated_at
[2025-09-24 23:05:07] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'updated_at' already exists in challenge_rules table
[2025-09-24 23:05:07] [INFO] [Database] init_challenge_rules_table:790 - ✅ Challenge rules table initialization completed
[2025-09-24 23:05:07] [DEBUG] [Database] init_db:1500 - ✅ Challenge Rules table initialized successfully
[2025-09-24 23:05:07] [DEBUG] [Database] init_db:1497 - Initializing Recommendation Votes table...
[2025-09-24 23:05:07] [INFO] [Database] init_recommendation_votes_table:858 - Manga recommendation votes table ready.
[2025-09-24 23:05:07] [DEBUG] [Database] init_db:1500 - ✅ Recommendation Votes table initialized successfully
[2025-09-24 23:05:07] [DEBUG] [Database] init_db:1497 - Initializing User Stats table...
[2025-09-24 23:05:07] [INFO] [Database] init_user_stats_table:876 - User stats table ready.
[2025-09-24 23:05:07] [DEBUG] [Database] init_db:1500 - ✅ User Stats table initialized successfully
[2025-09-24 23:05:07] [DEBUG] [Database] init_db:1497 - Initializing Achievements table...
[2025-09-24 23:05:07] [INFO] [Database] init_achievements_table:892 - Achievements table ready.
[2025-09-24 23:05:07] [DEBUG] [Database] init_db:1500 - ✅ Achievements table initialized successfully
[2025-09-24 23:05:07] [DEBUG] [Database] init_db:1497 - Initializing User Manga Progress table...
[2025-09-24 23:05:07] [INFO] [Database] init_user_manga_progress_table:928 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-24 23:05:07] [DEBUG] [Database] init_db:1500 - ✅ User Manga Progress table initialized successfully
[2025-09-24 23:05:07] [DEBUG] [Database] init_db:1497 - Initializing Manga Challenges table...
[2025-09-24 23:05:07] [DEBUG] [Database] init_db:1500 - ✅ Manga Challenges table initialized successfully
[2025-09-24 23:05:07] [DEBUG] [Database] init_db:1497 - Initializing User Progress table...
[2025-09-24 23:05:07] [DEBUG] [Database] init_db:1500 - ✅ User Progress table initialized successfully
[2025-09-24 23:05:07] [DEBUG] [Database] init_db:1497 - Initializing Global Challenges table...
[2025-09-24 23:05:07] [INFO] [Database] init_global_challenges_table:1226 - Global challenges table ready with difficulty column.
[2025-09-24 23:05:07] [DEBUG] [Database] init_db:1500 - ✅ Global Challenges table initialized successfully
[2025-09-24 23:05:07] [DEBUG] [Database] init_db:1497 - Initializing Guild Challenge Roles table...
[2025-09-24 23:05:07] [INFO] [Database] init_guild_challenge_roles_table:1408 - 🔧 Initializing guild challenge roles table...
[2025-09-24 23:05:07] [INFO] [Database] get_guild_challenge_roles:2124 - Getting challenge roles for guild 897814031346319382
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:115 - Executing get challenge roles for guild 897814031346319382
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT challenge_id, threshold, role_id 
            FROM guild_challenge_roles 
            WHERE guild_id = ?
            ORDER BY challenge_id, threshold
        
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:142 - get challenge roles for guild 897814031346319382 completed in 0.003s
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:148 - Query returned 13 rows
[2025-09-24 23:05:07] [INFO] [Database] get_guild_challenge_roles:2152 - ✅ Retrieved 13 challenge role configurations for guild 897814031346319382
[2025-09-24 23:05:07] [INFO] [Database] migrate_default_challenge_roles:1440 - Default challenge roles already exist for primary guild 897814031346319382
[2025-09-24 23:05:07] [INFO] [Database] init_guild_challenge_roles_table:1428 - ✅ Guild challenge roles table ready.
[2025-09-24 23:05:07] [DEBUG] [Database] init_db:1500 - ✅ Guild Challenge Roles table initialized successfully
[2025-09-24 23:05:07] [DEBUG] [Database] init_db:1497 - Initializing Invite Tracker table...
[2025-09-24 23:05:07] [INFO] [Database] init_invite_tracker_tables:1316 - Initializing invite tracker tables
[2025-09-24 23:05:07] [INFO] [Database] init_invite_tracker_tables:1383 - ✅ Invite tracker tables initialized successfully
[2025-09-24 23:05:07] [DEBUG] [Database] init_db:1500 - ✅ Invite Tracker table initialized successfully
[2025-09-24 23:05:07] [DEBUG] [Database] init_db:1497 - Initializing Steam Users table...
[2025-09-24 23:05:07] [INFO] [Database] init_steam_users_table:1403 - Steam users table ready.
[2025-09-24 23:05:07] [DEBUG] [Database] init_db:1500 - ✅ Steam Users table initialized successfully
[2025-09-24 23:05:07] [DEBUG] [Database] init_db:1497 - Initializing Challenge Manga table...
[2025-09-24 23:05:07] [DEBUG] [Database] init_db:1500 - ✅ Challenge Manga table initialized successfully
[2025-09-24 23:05:07] [INFO] [Database] init_db:1511 - ============================================================
[2025-09-24 23:05:07] [INFO] [Database] init_db:1512 - DATABASE INITIALIZATION SUMMARY
[2025-09-24 23:05:07] [INFO] [Database] init_db:1513 - Total tables: 13
[2025-09-24 23:05:07] [INFO] [Database] init_db:1514 - Successfully initialized: 13
[2025-09-24 23:05:07] [INFO] [Database] init_db:1515 - Failed to initialize: 0
[2025-09-24 23:05:07] [INFO] [Database] init_db:1516 - Total time: 0.12 seconds
[2025-09-24 23:05:07] [INFO] [Database] init_db:1521 - ✅ All database tables initialized successfully
[2025-09-24 23:05:07] [INFO] [Database] init_db:1523 - ============================================================
[2025-09-24 23:05:07] [INFO] [Database] init_db:1528 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.003s
[2025-09-24 23:05:07] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-24 23:05:10] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 23:05:10] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:05:10] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.004s
[2025-09-24 23:05:10] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:05:10] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 23:05:10] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 23:05:10] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 23:05:10] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 23:05:11] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:05:11] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:05:11] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-24 23:05:11] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.009s
[2025-09-24 23:05:11] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:05:11] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:05:11] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-24 23:05:11] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-24 23:05:11] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:05:11] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:05:11] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-24 23:05:11] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.010s
[2025-09-24 23:05:11] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:05:11] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:05:11] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-24 23:05:11] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-24 23:05:11] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:05:11] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:05:11] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-24 23:05:11] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-24 23:05:11] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:05:11] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:05:11] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-24 23:05:11] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-24 23:05:11] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:05:11] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:05:11] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-24 23:05:11] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-24 23:05:11] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:05:11] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:05:11] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-24 23:05:11] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 23:05:12] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 23:05:12] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:05:12] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.004s
[2025-09-24 23:05:12] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:05:12] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 23:05:12] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 23:05:12] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 23:05:12] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 23:05:14] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 23:05:14] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:05:14] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-24 23:05:14] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:05:14] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 23:05:14] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 23:05:14] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 23:05:14] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 23:05:29] [INFO] [Database] get_all_users_guild_aware:1919 - Getting all users for guild 897814031346319382
[2025-09-24 23:05:29] [DEBUG] [Database] execute_db_operation:115 - Executing get all users for guild 897814031346319382
[2025-09-24 23:05:29] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE guild_id = ?
[2025-09-24 23:05:29] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 23:05:29] [DEBUG] [Database] execute_db_operation:142 - get all users for guild 897814031346319382 completed in 0.003s
[2025-09-24 23:05:29] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-24 23:05:29] [INFO] [Database] get_all_users_guild_aware:1933 - ✅ Retrieved 18 users for guild 897814031346319382
[2025-09-24 23:05:35] [INFO] [Database] get_guild_leaderboard_data:1849 - Getting manga leaderboard data for guild 897814031346319382
[2025-09-24 23:05:35] [DEBUG] [Database] execute_db_operation:115 - Executing get manga leaderboard for guild 897814031346319382
[2025-09-24 23:05:35] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT u.anilist_username, us.total_manga, us.total_anime, 
                   us.total_chapters, us.total_episodes, us.avg_manga_score, us.avg_anime_score
            FROM users u 
            JOIN user_stats us ON u.discord_id = us.discord_id
            WHERE u.guild_id = ? AND u.anilist_username IS NOT NULL
        
[2025-09-24 23:05:35] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 23:05:35] [DEBUG] [Database] execute_db_operation:142 - get manga leaderboard for guild 897814031346319382 completed in 0.003s
[2025-09-24 23:05:35] [DEBUG] [Database] execute_db_operation:148 - Query returned 15 rows
[2025-09-24 23:05:35] [INFO] [Database] get_guild_leaderboard_data:1906 - ✅ Retrieved 15 entries for manga leaderboard in guild 897814031346319382
[2025-09-24 23:10:39] [INFO] [Database] <module>:60 - ==================================================
[2025-09-24 23:10:39] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-24 23:10:39] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-24 23:10:39] [INFO] [Database] <module>:63 - ==================================================
[2025-09-24 23:10:39] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-24 23:10:39] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-24 23:10:39] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-24 23:10:39] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-24 23:10:39] [INFO] [Database] init_db:1462 - ============================================================
[2025-09-24 23:10:39] [INFO] [Database] init_db:1463 - STARTING DATABASE INITIALIZATION
[2025-09-24 23:10:39] [INFO] [Database] init_db:1464 - ============================================================
[2025-09-24 23:10:39] [INFO] [Database] init_db:1489 - Verifying database connectivity...
[2025-09-24 23:10:39] [INFO] [Database] init_db:1492 - ✅ Database connectivity verified
[2025-09-24 23:10:39] [DEBUG] [Database] init_db:1497 - Initializing Users table...
[2025-09-24 23:10:39] [INFO] [Database] init_users_table:218 - Initializing users table
[2025-09-24 23:10:39] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-24 23:10:39] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 23:10:39] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-24 23:10:39] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-24 23:10:39] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-24 23:10:39] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.002s: duplicate column name: anilist_username
[2025-09-24 23:10:39] [DEBUG] [Database] init_users_table:251 - Column 'anilist_username' already exists in users table
[2025-09-24 23:10:39] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-24 23:10:39] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-24 23:10:39] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.002s: duplicate column name: anilist_id
[2025-09-24 23:10:39] [DEBUG] [Database] init_users_table:251 - Column 'anilist_id' already exists in users table
[2025-09-24 23:10:39] [DEBUG] [Database] execute_db_operation:115 - Executing add guild_id column to users
[2025-09-24 23:10:39] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN guild_id INTEGER
[2025-09-24 23:10:39] [ERROR] [Database] execute_db_operation:156 - add guild_id column to users failed after 0.002s: duplicate column name: guild_id
[2025-09-24 23:10:39] [DEBUG] [Database] init_users_table:251 - Column 'guild_id' already exists in users table
[2025-09-24 23:10:39] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-24 23:10:39] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 23:10:39] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.002s: duplicate column name: created_at
[2025-09-24 23:10:39] [DEBUG] [Database] init_users_table:251 - Column 'created_at' already exists in users table
[2025-09-24 23:10:39] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-24 23:10:39] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 23:10:39] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.003s: duplicate column name: updated_at
[2025-09-24 23:10:39] [DEBUG] [Database] init_users_table:251 - Column 'updated_at' already exists in users table
[2025-09-24 23:10:39] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-24 23:10:39] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:10:39] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.003s
[2025-09-24 23:10:39] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:10:39] [DEBUG] [Database] init_users_table:258 - Users table schema: 8 columns
[2025-09-24 23:10:39] [DEBUG] [Database] init_users_table:260 -   Column: id (INTEGER)
[2025-09-24 23:10:39] [DEBUG] [Database] init_users_table:260 -   Column: discord_id (INTEGER)
[2025-09-24 23:10:39] [DEBUG] [Database] init_users_table:260 -   Column: guild_id (INTEGER)
[2025-09-24 23:10:39] [DEBUG] [Database] init_users_table:260 -   Column: username (TEXT)
[2025-09-24 23:10:39] [DEBUG] [Database] init_users_table:260 -   Column: anilist_username (TEXT)
[2025-09-24 23:10:39] [DEBUG] [Database] init_users_table:260 -   Column: anilist_id (INTEGER)
[2025-09-24 23:10:39] [DEBUG] [Database] init_users_table:260 -   Column: created_at (DATETIME)
[2025-09-24 23:10:39] [DEBUG] [Database] init_users_table:260 -   Column: updated_at (DATETIME)
[2025-09-24 23:10:39] [DEBUG] [Database] execute_db_operation:115 - Executing check guild_id usage
[2025-09-24 23:10:39] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT COUNT(*) FROM users WHERE guild_id IS NOT NULL
[2025-09-24 23:10:39] [DEBUG] [Database] execute_db_operation:142 - check guild_id usage completed in 0.002s
[2025-09-24 23:10:39] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-24 23:10:39] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 1
[2025-09-24 23:10:39] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 23:10:39] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 1, 'test1')
[2025-09-24 23:10:39] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 1 completed in 0.006s
[2025-09-24 23:10:39] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 2
[2025-09-24 23:10:39] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 23:10:39] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 2, 'test2')
[2025-09-24 23:10:39] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 2 completed in 0.007s
[2025-09-24 23:10:39] [DEBUG] [Database] execute_db_operation:115 - Executing cleanup test data
[2025-09-24 23:10:39] [DEBUG] [Database] execute_db_operation:116 - Query: DELETE FROM users WHERE discord_id = ?
[2025-09-24 23:10:39] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999,)
[2025-09-24 23:10:39] [DEBUG] [Database] execute_db_operation:142 - cleanup test data completed in 0.007s
[2025-09-24 23:10:39] [INFO] [Database] init_users_table:298 - ✅ Multi-guild support confirmed - table supports multiple guilds per user
[2025-09-24 23:10:39] [INFO] [Database] init_users_table:312 - ✅ Users table initialization completed successfully
[2025-09-24 23:10:39] [DEBUG] [Database] init_db:1500 - ✅ Users table initialized successfully
[2025-09-24 23:10:39] [DEBUG] [Database] init_db:1497 - Initializing Challenge Rules table...
[2025-09-24 23:10:39] [INFO] [Database] init_challenge_rules_table:761 - Initializing challenge rules table
[2025-09-24 23:10:39] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-24 23:10:39] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 23:10:39] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.003s
[2025-09-24 23:10:39] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-24 23:10:39] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME
[2025-09-24 23:10:39] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.002s: duplicate column name: created_at
[2025-09-24 23:10:39] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'created_at' already exists in challenge_rules table
[2025-09-24 23:10:39] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-24 23:10:39] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME
[2025-09-24 23:10:39] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.002s: duplicate column name: updated_at
[2025-09-24 23:10:39] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'updated_at' already exists in challenge_rules table
[2025-09-24 23:10:39] [INFO] [Database] init_challenge_rules_table:790 - ✅ Challenge rules table initialization completed
[2025-09-24 23:10:39] [DEBUG] [Database] init_db:1500 - ✅ Challenge Rules table initialized successfully
[2025-09-24 23:10:39] [DEBUG] [Database] init_db:1497 - Initializing Recommendation Votes table...
[2025-09-24 23:10:39] [INFO] [Database] init_recommendation_votes_table:858 - Manga recommendation votes table ready.
[2025-09-24 23:10:39] [DEBUG] [Database] init_db:1500 - ✅ Recommendation Votes table initialized successfully
[2025-09-24 23:10:39] [DEBUG] [Database] init_db:1497 - Initializing User Stats table...
[2025-09-24 23:10:39] [INFO] [Database] init_user_stats_table:876 - User stats table ready.
[2025-09-24 23:10:39] [DEBUG] [Database] init_db:1500 - ✅ User Stats table initialized successfully
[2025-09-24 23:10:39] [DEBUG] [Database] init_db:1497 - Initializing Achievements table...
[2025-09-24 23:10:39] [INFO] [Database] init_achievements_table:892 - Achievements table ready.
[2025-09-24 23:10:39] [DEBUG] [Database] init_db:1500 - ✅ Achievements table initialized successfully
[2025-09-24 23:10:39] [DEBUG] [Database] init_db:1497 - Initializing User Manga Progress table...
[2025-09-24 23:10:39] [INFO] [Database] init_user_manga_progress_table:928 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-24 23:10:39] [DEBUG] [Database] init_db:1500 - ✅ User Manga Progress table initialized successfully
[2025-09-24 23:10:39] [DEBUG] [Database] init_db:1497 - Initializing Manga Challenges table...
[2025-09-24 23:10:39] [DEBUG] [Database] init_db:1500 - ✅ Manga Challenges table initialized successfully
[2025-09-24 23:10:39] [DEBUG] [Database] init_db:1497 - Initializing User Progress table...
[2025-09-24 23:10:39] [DEBUG] [Database] init_db:1500 - ✅ User Progress table initialized successfully
[2025-09-24 23:10:39] [DEBUG] [Database] init_db:1497 - Initializing Global Challenges table...
[2025-09-24 23:10:39] [INFO] [Database] init_global_challenges_table:1226 - Global challenges table ready with difficulty column.
[2025-09-24 23:10:39] [DEBUG] [Database] init_db:1500 - ✅ Global Challenges table initialized successfully
[2025-09-24 23:10:39] [DEBUG] [Database] init_db:1497 - Initializing Guild Challenge Roles table...
[2025-09-24 23:10:39] [INFO] [Database] init_guild_challenge_roles_table:1408 - 🔧 Initializing guild challenge roles table...
[2025-09-24 23:10:39] [INFO] [Database] get_guild_challenge_roles:2124 - Getting challenge roles for guild 897814031346319382
[2025-09-24 23:10:39] [DEBUG] [Database] execute_db_operation:115 - Executing get challenge roles for guild 897814031346319382
[2025-09-24 23:10:39] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT challenge_id, threshold, role_id 
            FROM guild_challenge_roles 
            WHERE guild_id = ?
            ORDER BY challenge_id, threshold
        
[2025-09-24 23:10:39] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 23:10:39] [DEBUG] [Database] execute_db_operation:142 - get challenge roles for guild 897814031346319382 completed in 0.002s
[2025-09-24 23:10:39] [DEBUG] [Database] execute_db_operation:148 - Query returned 13 rows
[2025-09-24 23:10:39] [INFO] [Database] get_guild_challenge_roles:2152 - ✅ Retrieved 13 challenge role configurations for guild 897814031346319382
[2025-09-24 23:10:39] [INFO] [Database] migrate_default_challenge_roles:1440 - Default challenge roles already exist for primary guild 897814031346319382
[2025-09-24 23:10:39] [INFO] [Database] init_guild_challenge_roles_table:1428 - ✅ Guild challenge roles table ready.
[2025-09-24 23:10:39] [DEBUG] [Database] init_db:1500 - ✅ Guild Challenge Roles table initialized successfully
[2025-09-24 23:10:39] [DEBUG] [Database] init_db:1497 - Initializing Invite Tracker table...
[2025-09-24 23:10:39] [INFO] [Database] init_invite_tracker_tables:1316 - Initializing invite tracker tables
[2025-09-24 23:10:39] [INFO] [Database] init_invite_tracker_tables:1383 - ✅ Invite tracker tables initialized successfully
[2025-09-24 23:10:39] [DEBUG] [Database] init_db:1500 - ✅ Invite Tracker table initialized successfully
[2025-09-24 23:10:39] [DEBUG] [Database] init_db:1497 - Initializing Steam Users table...
[2025-09-24 23:10:39] [INFO] [Database] init_steam_users_table:1403 - Steam users table ready.
[2025-09-24 23:10:39] [DEBUG] [Database] init_db:1500 - ✅ Steam Users table initialized successfully
[2025-09-24 23:10:39] [DEBUG] [Database] init_db:1497 - Initializing Challenge Manga table...
[2025-09-24 23:10:39] [DEBUG] [Database] init_db:1500 - ✅ Challenge Manga table initialized successfully
[2025-09-24 23:10:39] [INFO] [Database] init_db:1511 - ============================================================
[2025-09-24 23:10:39] [INFO] [Database] init_db:1512 - DATABASE INITIALIZATION SUMMARY
[2025-09-24 23:10:39] [INFO] [Database] init_db:1513 - Total tables: 13
[2025-09-24 23:10:39] [INFO] [Database] init_db:1514 - Successfully initialized: 13
[2025-09-24 23:10:39] [INFO] [Database] init_db:1515 - Failed to initialize: 0
[2025-09-24 23:10:39] [INFO] [Database] init_db:1516 - Total time: 0.09 seconds
[2025-09-24 23:10:39] [INFO] [Database] init_db:1521 - ✅ All database tables initialized successfully
[2025-09-24 23:10:39] [INFO] [Database] init_db:1523 - ============================================================
[2025-09-24 23:10:39] [INFO] [Database] init_db:1528 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-24 23:10:40] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-24 23:10:40] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-24 23:10:40] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.003s
[2025-09-24 23:10:40] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-24 23:10:43] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 23:10:43] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:10:43] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-24 23:10:43] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:10:43] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 23:10:43] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 23:10:43] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 23:10:43] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 23:10:43] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:10:43] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:10:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-24 23:10:43] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-24 23:10:43] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:10:43] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:10:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-24 23:10:43] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-24 23:10:43] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:10:43] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:10:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-24 23:10:43] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-24 23:10:43] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:10:43] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:10:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-24 23:10:43] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-24 23:10:43] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:10:43] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:10:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-24 23:10:43] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-24 23:10:43] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:10:43] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:10:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-24 23:10:43] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 23:10:43] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:10:43] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:10:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-24 23:10:43] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 23:10:43] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:10:43] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:10:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-24 23:10:43] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 23:10:45] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 23:10:45] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:10:45] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.009s
[2025-09-24 23:10:45] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:10:45] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 23:10:45] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 23:10:45] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 23:10:45] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 23:10:47] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 23:10:47] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:10:47] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-24 23:10:47] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:10:47] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 23:10:47] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 23:10:47] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.003s
[2025-09-24 23:10:47] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 23:11:02] [INFO] [Database] get_all_users_guild_aware:1919 - Getting all users for guild 897814031346319382
[2025-09-24 23:11:02] [DEBUG] [Database] execute_db_operation:115 - Executing get all users for guild 897814031346319382
[2025-09-24 23:11:02] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE guild_id = ?
[2025-09-24 23:11:02] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 23:11:02] [DEBUG] [Database] execute_db_operation:142 - get all users for guild 897814031346319382 completed in 0.004s
[2025-09-24 23:11:02] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-24 23:11:02] [INFO] [Database] get_all_users_guild_aware:1933 - ✅ Retrieved 18 users for guild 897814031346319382
[2025-09-24 23:11:08] [INFO] [Database] get_guild_leaderboard_data:1849 - Getting manga leaderboard data for guild 897814031346319382
[2025-09-24 23:11:08] [DEBUG] [Database] execute_db_operation:115 - Executing get manga leaderboard for guild 897814031346319382
[2025-09-24 23:11:08] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT u.anilist_username, us.total_manga, us.total_anime, 
                   us.total_chapters, us.total_episodes, us.avg_manga_score, us.avg_anime_score
            FROM users u 
            JOIN user_stats us ON u.discord_id = us.discord_id
            WHERE u.guild_id = ? AND u.anilist_username IS NOT NULL
        
[2025-09-24 23:11:08] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 23:11:08] [DEBUG] [Database] execute_db_operation:142 - get manga leaderboard for guild 897814031346319382 completed in 0.003s
[2025-09-24 23:11:08] [DEBUG] [Database] execute_db_operation:148 - Query returned 15 rows
[2025-09-24 23:11:08] [INFO] [Database] get_guild_leaderboard_data:1906 - ✅ Retrieved 15 entries for manga leaderboard in guild 897814031346319382
[2025-09-24 23:23:06] [INFO] [Database] <module>:60 - ==================================================
[2025-09-24 23:23:06] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-24 23:23:06] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-24 23:23:06] [INFO] [Database] <module>:63 - ==================================================
[2025-09-24 23:23:06] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-24 23:23:06] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-24 23:23:06] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-24 23:23:06] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-24 23:23:06] [INFO] [Database] init_db:1462 - ============================================================
[2025-09-24 23:23:06] [INFO] [Database] init_db:1463 - STARTING DATABASE INITIALIZATION
[2025-09-24 23:23:06] [INFO] [Database] init_db:1464 - ============================================================
[2025-09-24 23:23:06] [INFO] [Database] init_db:1489 - Verifying database connectivity...
[2025-09-24 23:23:06] [INFO] [Database] init_db:1492 - ✅ Database connectivity verified
[2025-09-24 23:23:06] [DEBUG] [Database] init_db:1497 - Initializing Users table...
[2025-09-24 23:23:06] [INFO] [Database] init_users_table:218 - Initializing users table
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-24 23:23:06] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.002s: duplicate column name: anilist_username
[2025-09-24 23:23:06] [DEBUG] [Database] init_users_table:251 - Column 'anilist_username' already exists in users table
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-24 23:23:06] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.002s: duplicate column name: anilist_id
[2025-09-24 23:23:06] [DEBUG] [Database] init_users_table:251 - Column 'anilist_id' already exists in users table
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:115 - Executing add guild_id column to users
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN guild_id INTEGER
[2025-09-24 23:23:06] [ERROR] [Database] execute_db_operation:156 - add guild_id column to users failed after 0.002s: duplicate column name: guild_id
[2025-09-24 23:23:06] [DEBUG] [Database] init_users_table:251 - Column 'guild_id' already exists in users table
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 23:23:06] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.002s: duplicate column name: created_at
[2025-09-24 23:23:06] [DEBUG] [Database] init_users_table:251 - Column 'created_at' already exists in users table
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 23:23:06] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.002s: duplicate column name: updated_at
[2025-09-24 23:23:06] [DEBUG] [Database] init_users_table:251 - Column 'updated_at' already exists in users table
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.003s
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:23:06] [DEBUG] [Database] init_users_table:258 - Users table schema: 8 columns
[2025-09-24 23:23:06] [DEBUG] [Database] init_users_table:260 -   Column: id (INTEGER)
[2025-09-24 23:23:06] [DEBUG] [Database] init_users_table:260 -   Column: discord_id (INTEGER)
[2025-09-24 23:23:06] [DEBUG] [Database] init_users_table:260 -   Column: guild_id (INTEGER)
[2025-09-24 23:23:06] [DEBUG] [Database] init_users_table:260 -   Column: username (TEXT)
[2025-09-24 23:23:06] [DEBUG] [Database] init_users_table:260 -   Column: anilist_username (TEXT)
[2025-09-24 23:23:06] [DEBUG] [Database] init_users_table:260 -   Column: anilist_id (INTEGER)
[2025-09-24 23:23:06] [DEBUG] [Database] init_users_table:260 -   Column: created_at (DATETIME)
[2025-09-24 23:23:06] [DEBUG] [Database] init_users_table:260 -   Column: updated_at (DATETIME)
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:115 - Executing check guild_id usage
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT COUNT(*) FROM users WHERE guild_id IS NOT NULL
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:142 - check guild_id usage completed in 0.002s
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 1
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 1, 'test1')
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 1 completed in 0.007s
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 2
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 2, 'test2')
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 2 completed in 0.007s
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:115 - Executing cleanup test data
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:116 - Query: DELETE FROM users WHERE discord_id = ?
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999,)
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:142 - cleanup test data completed in 0.009s
[2025-09-24 23:23:06] [INFO] [Database] init_users_table:298 - ✅ Multi-guild support confirmed - table supports multiple guilds per user
[2025-09-24 23:23:06] [INFO] [Database] init_users_table:312 - ✅ Users table initialization completed successfully
[2025-09-24 23:23:06] [DEBUG] [Database] init_db:1500 - ✅ Users table initialized successfully
[2025-09-24 23:23:06] [DEBUG] [Database] init_db:1497 - Initializing Challenge Rules table...
[2025-09-24 23:23:06] [INFO] [Database] init_challenge_rules_table:761 - Initializing challenge rules table
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.003s
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME
[2025-09-24 23:23:06] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.001s: duplicate column name: created_at
[2025-09-24 23:23:06] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'created_at' already exists in challenge_rules table
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME
[2025-09-24 23:23:06] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.002s: duplicate column name: updated_at
[2025-09-24 23:23:06] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'updated_at' already exists in challenge_rules table
[2025-09-24 23:23:06] [INFO] [Database] init_challenge_rules_table:790 - ✅ Challenge rules table initialization completed
[2025-09-24 23:23:06] [DEBUG] [Database] init_db:1500 - ✅ Challenge Rules table initialized successfully
[2025-09-24 23:23:06] [DEBUG] [Database] init_db:1497 - Initializing Recommendation Votes table...
[2025-09-24 23:23:06] [INFO] [Database] init_recommendation_votes_table:858 - Manga recommendation votes table ready.
[2025-09-24 23:23:06] [DEBUG] [Database] init_db:1500 - ✅ Recommendation Votes table initialized successfully
[2025-09-24 23:23:06] [DEBUG] [Database] init_db:1497 - Initializing User Stats table...
[2025-09-24 23:23:06] [INFO] [Database] init_user_stats_table:876 - User stats table ready.
[2025-09-24 23:23:06] [DEBUG] [Database] init_db:1500 - ✅ User Stats table initialized successfully
[2025-09-24 23:23:06] [DEBUG] [Database] init_db:1497 - Initializing Achievements table...
[2025-09-24 23:23:06] [INFO] [Database] init_achievements_table:892 - Achievements table ready.
[2025-09-24 23:23:06] [DEBUG] [Database] init_db:1500 - ✅ Achievements table initialized successfully
[2025-09-24 23:23:06] [DEBUG] [Database] init_db:1497 - Initializing User Manga Progress table...
[2025-09-24 23:23:06] [INFO] [Database] init_user_manga_progress_table:928 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-24 23:23:06] [DEBUG] [Database] init_db:1500 - ✅ User Manga Progress table initialized successfully
[2025-09-24 23:23:06] [DEBUG] [Database] init_db:1497 - Initializing Manga Challenges table...
[2025-09-24 23:23:06] [DEBUG] [Database] init_db:1500 - ✅ Manga Challenges table initialized successfully
[2025-09-24 23:23:06] [DEBUG] [Database] init_db:1497 - Initializing User Progress table...
[2025-09-24 23:23:06] [DEBUG] [Database] init_db:1500 - ✅ User Progress table initialized successfully
[2025-09-24 23:23:06] [DEBUG] [Database] init_db:1497 - Initializing Global Challenges table...
[2025-09-24 23:23:06] [INFO] [Database] init_global_challenges_table:1226 - Global challenges table ready with difficulty column.
[2025-09-24 23:23:06] [DEBUG] [Database] init_db:1500 - ✅ Global Challenges table initialized successfully
[2025-09-24 23:23:06] [DEBUG] [Database] init_db:1497 - Initializing Guild Challenge Roles table...
[2025-09-24 23:23:06] [INFO] [Database] init_guild_challenge_roles_table:1408 - 🔧 Initializing guild challenge roles table...
[2025-09-24 23:23:06] [INFO] [Database] get_guild_challenge_roles:2124 - Getting challenge roles for guild 897814031346319382
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:115 - Executing get challenge roles for guild 897814031346319382
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT challenge_id, threshold, role_id 
            FROM guild_challenge_roles 
            WHERE guild_id = ?
            ORDER BY challenge_id, threshold
        
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:142 - get challenge roles for guild 897814031346319382 completed in 0.002s
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:148 - Query returned 13 rows
[2025-09-24 23:23:06] [INFO] [Database] get_guild_challenge_roles:2152 - ✅ Retrieved 13 challenge role configurations for guild 897814031346319382
[2025-09-24 23:23:06] [INFO] [Database] migrate_default_challenge_roles:1440 - Default challenge roles already exist for primary guild 897814031346319382
[2025-09-24 23:23:06] [INFO] [Database] init_guild_challenge_roles_table:1428 - ✅ Guild challenge roles table ready.
[2025-09-24 23:23:06] [DEBUG] [Database] init_db:1500 - ✅ Guild Challenge Roles table initialized successfully
[2025-09-24 23:23:06] [DEBUG] [Database] init_db:1497 - Initializing Invite Tracker table...
[2025-09-24 23:23:06] [INFO] [Database] init_invite_tracker_tables:1316 - Initializing invite tracker tables
[2025-09-24 23:23:06] [INFO] [Database] init_invite_tracker_tables:1383 - ✅ Invite tracker tables initialized successfully
[2025-09-24 23:23:06] [DEBUG] [Database] init_db:1500 - ✅ Invite Tracker table initialized successfully
[2025-09-24 23:23:06] [DEBUG] [Database] init_db:1497 - Initializing Steam Users table...
[2025-09-24 23:23:06] [INFO] [Database] init_steam_users_table:1403 - Steam users table ready.
[2025-09-24 23:23:06] [DEBUG] [Database] init_db:1500 - ✅ Steam Users table initialized successfully
[2025-09-24 23:23:06] [DEBUG] [Database] init_db:1497 - Initializing Challenge Manga table...
[2025-09-24 23:23:06] [DEBUG] [Database] init_db:1500 - ✅ Challenge Manga table initialized successfully
[2025-09-24 23:23:06] [INFO] [Database] init_db:1511 - ============================================================
[2025-09-24 23:23:06] [INFO] [Database] init_db:1512 - DATABASE INITIALIZATION SUMMARY
[2025-09-24 23:23:06] [INFO] [Database] init_db:1513 - Total tables: 13
[2025-09-24 23:23:06] [INFO] [Database] init_db:1514 - Successfully initialized: 13
[2025-09-24 23:23:06] [INFO] [Database] init_db:1515 - Failed to initialize: 0
[2025-09-24 23:23:06] [INFO] [Database] init_db:1516 - Total time: 0.08 seconds
[2025-09-24 23:23:06] [INFO] [Database] init_db:1521 - ✅ All database tables initialized successfully
[2025-09-24 23:23:06] [INFO] [Database] init_db:1523 - ============================================================
[2025-09-24 23:23:06] [INFO] [Database] init_db:1528 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.003s
[2025-09-24 23:23:06] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-24 23:23:09] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 23:23:09] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:23:09] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-24 23:23:09] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:23:09] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 23:23:09] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 23:23:09] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 23:23:09] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 23:23:10] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:23:10] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:23:10] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-24 23:23:10] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 23:23:10] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:23:10] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:23:10] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-24 23:23:10] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-24 23:23:10] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:23:10] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:23:10] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-24 23:23:10] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 23:23:10] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:23:10] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:23:10] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-24 23:23:10] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 23:23:10] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:23:10] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:23:10] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-24 23:23:10] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-24 23:23:10] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:23:10] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:23:10] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-24 23:23:10] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 23:23:10] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:23:10] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:23:10] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-24 23:23:10] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-24 23:23:10] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:23:10] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:23:10] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-24 23:23:10] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 23:23:11] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 23:23:11] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:23:11] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-24 23:23:11] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:23:11] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 23:23:11] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 23:23:11] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 23:23:11] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 23:23:13] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 23:23:13] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:23:13] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-24 23:23:13] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:23:13] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 23:23:13] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 23:23:13] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 23:23:13] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 23:23:47] [INFO] [Database] get_all_users_guild_aware:1919 - Getting all users for guild 897814031346319382
[2025-09-24 23:23:47] [DEBUG] [Database] execute_db_operation:115 - Executing get all users for guild 897814031346319382
[2025-09-24 23:23:47] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE guild_id = ?
[2025-09-24 23:23:47] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 23:23:47] [DEBUG] [Database] execute_db_operation:142 - get all users for guild 897814031346319382 completed in 0.003s
[2025-09-24 23:23:47] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-24 23:23:47] [INFO] [Database] get_all_users_guild_aware:1933 - ✅ Retrieved 18 users for guild 897814031346319382
[2025-09-24 23:23:53] [INFO] [Database] get_guild_leaderboard_data:1849 - Getting chapters leaderboard data for guild 897814031346319382
[2025-09-24 23:23:53] [ERROR] [Database] get_guild_leaderboard_data:1910 - Validation error getting guild leaderboard: Invalid leaderboard_type: chapters
[2025-09-24 23:26:54] [INFO] [Database] <module>:60 - ==================================================
[2025-09-24 23:26:54] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-24 23:26:54] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-24 23:26:54] [INFO] [Database] <module>:63 - ==================================================
[2025-09-24 23:26:54] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-24 23:26:54] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-24 23:26:54] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-24 23:26:54] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-24 23:26:54] [INFO] [Database] init_db:1462 - ============================================================
[2025-09-24 23:26:54] [INFO] [Database] init_db:1463 - STARTING DATABASE INITIALIZATION
[2025-09-24 23:26:54] [INFO] [Database] init_db:1464 - ============================================================
[2025-09-24 23:26:54] [INFO] [Database] init_db:1489 - Verifying database connectivity...
[2025-09-24 23:26:54] [INFO] [Database] init_db:1492 - ✅ Database connectivity verified
[2025-09-24 23:26:54] [DEBUG] [Database] init_db:1497 - Initializing Users table...
[2025-09-24 23:26:54] [INFO] [Database] init_users_table:218 - Initializing users table
[2025-09-24 23:26:54] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-24 23:26:54] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 23:26:55] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-24 23:26:55] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-24 23:26:55] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-24 23:26:55] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.002s: duplicate column name: anilist_username
[2025-09-24 23:26:55] [DEBUG] [Database] init_users_table:251 - Column 'anilist_username' already exists in users table
[2025-09-24 23:26:55] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-24 23:26:55] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-24 23:26:55] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.001s: duplicate column name: anilist_id
[2025-09-24 23:26:55] [DEBUG] [Database] init_users_table:251 - Column 'anilist_id' already exists in users table
[2025-09-24 23:26:55] [DEBUG] [Database] execute_db_operation:115 - Executing add guild_id column to users
[2025-09-24 23:26:55] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN guild_id INTEGER
[2025-09-24 23:26:55] [ERROR] [Database] execute_db_operation:156 - add guild_id column to users failed after 0.001s: duplicate column name: guild_id
[2025-09-24 23:26:55] [DEBUG] [Database] init_users_table:251 - Column 'guild_id' already exists in users table
[2025-09-24 23:26:55] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-24 23:26:55] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 23:26:55] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.002s: duplicate column name: created_at
[2025-09-24 23:26:55] [DEBUG] [Database] init_users_table:251 - Column 'created_at' already exists in users table
[2025-09-24 23:26:55] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-24 23:26:55] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 23:26:55] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.001s: duplicate column name: updated_at
[2025-09-24 23:26:55] [DEBUG] [Database] init_users_table:251 - Column 'updated_at' already exists in users table
[2025-09-24 23:26:55] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-24 23:26:55] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:26:55] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.002s
[2025-09-24 23:26:55] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:26:55] [DEBUG] [Database] init_users_table:258 - Users table schema: 8 columns
[2025-09-24 23:26:55] [DEBUG] [Database] init_users_table:260 -   Column: id (INTEGER)
[2025-09-24 23:26:55] [DEBUG] [Database] init_users_table:260 -   Column: discord_id (INTEGER)
[2025-09-24 23:26:55] [DEBUG] [Database] init_users_table:260 -   Column: guild_id (INTEGER)
[2025-09-24 23:26:55] [DEBUG] [Database] init_users_table:260 -   Column: username (TEXT)
[2025-09-24 23:26:55] [DEBUG] [Database] init_users_table:260 -   Column: anilist_username (TEXT)
[2025-09-24 23:26:55] [DEBUG] [Database] init_users_table:260 -   Column: anilist_id (INTEGER)
[2025-09-24 23:26:55] [DEBUG] [Database] init_users_table:260 -   Column: created_at (DATETIME)
[2025-09-24 23:26:55] [DEBUG] [Database] init_users_table:260 -   Column: updated_at (DATETIME)
[2025-09-24 23:26:55] [DEBUG] [Database] execute_db_operation:115 - Executing check guild_id usage
[2025-09-24 23:26:55] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT COUNT(*) FROM users WHERE guild_id IS NOT NULL
[2025-09-24 23:26:55] [DEBUG] [Database] execute_db_operation:142 - check guild_id usage completed in 0.002s
[2025-09-24 23:26:55] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-24 23:26:55] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 1
[2025-09-24 23:26:55] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 23:26:55] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 1, 'test1')
[2025-09-24 23:26:55] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 1 completed in 0.005s
[2025-09-24 23:26:55] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 2
[2025-09-24 23:26:55] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 23:26:55] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 2, 'test2')
[2025-09-24 23:26:55] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 2 completed in 0.006s
[2025-09-24 23:26:55] [DEBUG] [Database] execute_db_operation:115 - Executing cleanup test data
[2025-09-24 23:26:55] [DEBUG] [Database] execute_db_operation:116 - Query: DELETE FROM users WHERE discord_id = ?
[2025-09-24 23:26:55] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999,)
[2025-09-24 23:26:55] [DEBUG] [Database] execute_db_operation:142 - cleanup test data completed in 0.005s
[2025-09-24 23:26:55] [INFO] [Database] init_users_table:298 - ✅ Multi-guild support confirmed - table supports multiple guilds per user
[2025-09-24 23:26:55] [INFO] [Database] init_users_table:312 - ✅ Users table initialization completed successfully
[2025-09-24 23:26:55] [DEBUG] [Database] init_db:1500 - ✅ Users table initialized successfully
[2025-09-24 23:26:55] [DEBUG] [Database] init_db:1497 - Initializing Challenge Rules table...
[2025-09-24 23:26:55] [INFO] [Database] init_challenge_rules_table:761 - Initializing challenge rules table
[2025-09-24 23:26:55] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-24 23:26:55] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 23:26:55] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.002s
[2025-09-24 23:26:55] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-24 23:26:55] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME
[2025-09-24 23:26:55] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.001s: duplicate column name: created_at
[2025-09-24 23:26:55] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'created_at' already exists in challenge_rules table
[2025-09-24 23:26:55] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-24 23:26:55] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME
[2025-09-24 23:26:55] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.001s: duplicate column name: updated_at
[2025-09-24 23:26:55] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'updated_at' already exists in challenge_rules table
[2025-09-24 23:26:55] [INFO] [Database] init_challenge_rules_table:790 - ✅ Challenge rules table initialization completed
[2025-09-24 23:26:55] [DEBUG] [Database] init_db:1500 - ✅ Challenge Rules table initialized successfully
[2025-09-24 23:26:55] [DEBUG] [Database] init_db:1497 - Initializing Recommendation Votes table...
[2025-09-24 23:26:55] [INFO] [Database] init_recommendation_votes_table:858 - Manga recommendation votes table ready.
[2025-09-24 23:26:55] [DEBUG] [Database] init_db:1500 - ✅ Recommendation Votes table initialized successfully
[2025-09-24 23:26:55] [DEBUG] [Database] init_db:1497 - Initializing User Stats table...
[2025-09-24 23:26:55] [INFO] [Database] init_user_stats_table:876 - User stats table ready.
[2025-09-24 23:26:55] [DEBUG] [Database] init_db:1500 - ✅ User Stats table initialized successfully
[2025-09-24 23:26:55] [DEBUG] [Database] init_db:1497 - Initializing Achievements table...
[2025-09-24 23:26:55] [INFO] [Database] init_achievements_table:892 - Achievements table ready.
[2025-09-24 23:26:55] [DEBUG] [Database] init_db:1500 - ✅ Achievements table initialized successfully
[2025-09-24 23:26:55] [DEBUG] [Database] init_db:1497 - Initializing User Manga Progress table...
[2025-09-24 23:26:55] [INFO] [Database] init_user_manga_progress_table:928 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-24 23:26:55] [DEBUG] [Database] init_db:1500 - ✅ User Manga Progress table initialized successfully
[2025-09-24 23:26:55] [DEBUG] [Database] init_db:1497 - Initializing Manga Challenges table...
[2025-09-24 23:26:55] [DEBUG] [Database] init_db:1500 - ✅ Manga Challenges table initialized successfully
[2025-09-24 23:26:55] [DEBUG] [Database] init_db:1497 - Initializing User Progress table...
[2025-09-24 23:26:55] [DEBUG] [Database] init_db:1500 - ✅ User Progress table initialized successfully
[2025-09-24 23:26:55] [DEBUG] [Database] init_db:1497 - Initializing Global Challenges table...
[2025-09-24 23:26:55] [INFO] [Database] init_global_challenges_table:1226 - Global challenges table ready with difficulty column.
[2025-09-24 23:26:55] [DEBUG] [Database] init_db:1500 - ✅ Global Challenges table initialized successfully
[2025-09-24 23:26:55] [DEBUG] [Database] init_db:1497 - Initializing Guild Challenge Roles table...
[2025-09-24 23:26:55] [INFO] [Database] init_guild_challenge_roles_table:1408 - 🔧 Initializing guild challenge roles table...
[2025-09-24 23:26:55] [INFO] [Database] get_guild_challenge_roles:2128 - Getting challenge roles for guild 897814031346319382
[2025-09-24 23:26:55] [DEBUG] [Database] execute_db_operation:115 - Executing get challenge roles for guild 897814031346319382
[2025-09-24 23:26:55] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT challenge_id, threshold, role_id 
            FROM guild_challenge_roles 
            WHERE guild_id = ?
            ORDER BY challenge_id, threshold
        
[2025-09-24 23:26:55] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 23:26:55] [DEBUG] [Database] execute_db_operation:142 - get challenge roles for guild 897814031346319382 completed in 0.002s
[2025-09-24 23:26:55] [DEBUG] [Database] execute_db_operation:148 - Query returned 13 rows
[2025-09-24 23:26:55] [INFO] [Database] get_guild_challenge_roles:2156 - ✅ Retrieved 13 challenge role configurations for guild 897814031346319382
[2025-09-24 23:26:55] [INFO] [Database] migrate_default_challenge_roles:1440 - Default challenge roles already exist for primary guild 897814031346319382
[2025-09-24 23:26:55] [INFO] [Database] init_guild_challenge_roles_table:1428 - ✅ Guild challenge roles table ready.
[2025-09-24 23:26:55] [DEBUG] [Database] init_db:1500 - ✅ Guild Challenge Roles table initialized successfully
[2025-09-24 23:26:55] [DEBUG] [Database] init_db:1497 - Initializing Invite Tracker table...
[2025-09-24 23:26:55] [INFO] [Database] init_invite_tracker_tables:1316 - Initializing invite tracker tables
[2025-09-24 23:26:55] [INFO] [Database] init_invite_tracker_tables:1383 - ✅ Invite tracker tables initialized successfully
[2025-09-24 23:26:55] [DEBUG] [Database] init_db:1500 - ✅ Invite Tracker table initialized successfully
[2025-09-24 23:26:55] [DEBUG] [Database] init_db:1497 - Initializing Steam Users table...
[2025-09-24 23:26:55] [INFO] [Database] init_steam_users_table:1403 - Steam users table ready.
[2025-09-24 23:26:55] [DEBUG] [Database] init_db:1500 - ✅ Steam Users table initialized successfully
[2025-09-24 23:26:55] [DEBUG] [Database] init_db:1497 - Initializing Challenge Manga table...
[2025-09-24 23:26:55] [DEBUG] [Database] init_db:1500 - ✅ Challenge Manga table initialized successfully
[2025-09-24 23:26:55] [INFO] [Database] init_db:1511 - ============================================================
[2025-09-24 23:26:55] [INFO] [Database] init_db:1512 - DATABASE INITIALIZATION SUMMARY
[2025-09-24 23:26:55] [INFO] [Database] init_db:1513 - Total tables: 13
[2025-09-24 23:26:55] [INFO] [Database] init_db:1514 - Successfully initialized: 13
[2025-09-24 23:26:55] [INFO] [Database] init_db:1515 - Failed to initialize: 0
[2025-09-24 23:26:55] [INFO] [Database] init_db:1516 - Total time: 0.07 seconds
[2025-09-24 23:26:55] [INFO] [Database] init_db:1521 - ✅ All database tables initialized successfully
[2025-09-24 23:26:55] [INFO] [Database] init_db:1523 - ============================================================
[2025-09-24 23:26:55] [INFO] [Database] init_db:1528 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-24 23:26:55] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-24 23:26:55] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-24 23:26:55] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.003s
[2025-09-24 23:26:55] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-24 23:26:58] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 23:26:58] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:26:58] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-24 23:26:58] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:26:58] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 23:26:58] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 23:26:58] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 23:26:58] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 23:26:58] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:26:58] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:26:58] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-24 23:26:58] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 23:26:58] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:26:58] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:26:58] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-24 23:26:58] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 23:26:58] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:26:58] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:26:58] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-24 23:26:58] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 23:26:58] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:26:58] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:26:58] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-24 23:26:58] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 23:26:58] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:26:58] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:26:58] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-24 23:26:58] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 23:26:58] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:26:58] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:26:58] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-24 23:26:58] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 23:26:58] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:26:58] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:26:58] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-24 23:26:58] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 23:26:58] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:26:58] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:26:58] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-24 23:26:58] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 23:27:00] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 23:27:00] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:27:00] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.004s
[2025-09-24 23:27:00] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:27:00] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 23:27:00] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 23:27:00] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 23:27:00] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 23:27:02] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 23:27:02] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:27:02] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-24 23:27:02] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:27:02] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 23:27:02] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 23:27:02] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 23:27:02] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 23:27:11] [INFO] [Database] get_all_users_guild_aware:1923 - Getting all users for guild 897814031346319382
[2025-09-24 23:27:11] [DEBUG] [Database] execute_db_operation:115 - Executing get all users for guild 897814031346319382
[2025-09-24 23:27:11] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE guild_id = ?
[2025-09-24 23:27:11] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 23:27:11] [DEBUG] [Database] execute_db_operation:142 - get all users for guild 897814031346319382 completed in 0.002s
[2025-09-24 23:27:11] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-24 23:27:11] [INFO] [Database] get_all_users_guild_aware:1937 - ✅ Retrieved 18 users for guild 897814031346319382
[2025-09-24 23:27:17] [INFO] [Database] get_guild_leaderboard_data:1849 - Getting chapters leaderboard data for guild 897814031346319382
[2025-09-24 23:27:17] [DEBUG] [Database] execute_db_operation:115 - Executing get chapters leaderboard for guild 897814031346319382
[2025-09-24 23:27:17] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT u.anilist_username, us.total_manga, us.total_anime, 
                   us.total_chapters, us.total_episodes, us.avg_manga_score, us.avg_anime_score
            FROM users u 
            JOIN user_stats us ON u.discord_id = us.discord_id
            WHERE u.guild_id = ? AND u.anilist_username IS NOT NULL
        
[2025-09-24 23:27:17] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 23:27:17] [DEBUG] [Database] execute_db_operation:142 - get chapters leaderboard for guild 897814031346319382 completed in 0.002s
[2025-09-24 23:27:17] [DEBUG] [Database] execute_db_operation:148 - Query returned 15 rows
[2025-09-24 23:27:17] [INFO] [Database] get_guild_leaderboard_data:1910 - ✅ Retrieved 15 entries for chapters leaderboard in guild 897814031346319382
[2025-09-24 23:30:06] [INFO] [Database] <module>:60 - ==================================================
[2025-09-24 23:30:06] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-24 23:30:06] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-24 23:30:06] [INFO] [Database] <module>:63 - ==================================================
[2025-09-24 23:30:06] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-24 23:30:06] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-24 23:30:06] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-24 23:30:06] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-24 23:30:06] [INFO] [Database] init_db:1462 - ============================================================
[2025-09-24 23:30:06] [INFO] [Database] init_db:1463 - STARTING DATABASE INITIALIZATION
[2025-09-24 23:30:06] [INFO] [Database] init_db:1464 - ============================================================
[2025-09-24 23:30:06] [INFO] [Database] init_db:1489 - Verifying database connectivity...
[2025-09-24 23:30:06] [INFO] [Database] init_db:1492 - ✅ Database connectivity verified
[2025-09-24 23:30:06] [DEBUG] [Database] init_db:1497 - Initializing Users table...
[2025-09-24 23:30:06] [INFO] [Database] init_users_table:218 - Initializing users table
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-24 23:30:06] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.001s: duplicate column name: anilist_username
[2025-09-24 23:30:06] [DEBUG] [Database] init_users_table:251 - Column 'anilist_username' already exists in users table
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-24 23:30:06] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.001s: duplicate column name: anilist_id
[2025-09-24 23:30:06] [DEBUG] [Database] init_users_table:251 - Column 'anilist_id' already exists in users table
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:115 - Executing add guild_id column to users
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN guild_id INTEGER
[2025-09-24 23:30:06] [ERROR] [Database] execute_db_operation:156 - add guild_id column to users failed after 0.002s: duplicate column name: guild_id
[2025-09-24 23:30:06] [DEBUG] [Database] init_users_table:251 - Column 'guild_id' already exists in users table
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 23:30:06] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.002s: duplicate column name: created_at
[2025-09-24 23:30:06] [DEBUG] [Database] init_users_table:251 - Column 'created_at' already exists in users table
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 23:30:06] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.001s: duplicate column name: updated_at
[2025-09-24 23:30:06] [DEBUG] [Database] init_users_table:251 - Column 'updated_at' already exists in users table
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.002s
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:30:06] [DEBUG] [Database] init_users_table:258 - Users table schema: 8 columns
[2025-09-24 23:30:06] [DEBUG] [Database] init_users_table:260 -   Column: id (INTEGER)
[2025-09-24 23:30:06] [DEBUG] [Database] init_users_table:260 -   Column: discord_id (INTEGER)
[2025-09-24 23:30:06] [DEBUG] [Database] init_users_table:260 -   Column: guild_id (INTEGER)
[2025-09-24 23:30:06] [DEBUG] [Database] init_users_table:260 -   Column: username (TEXT)
[2025-09-24 23:30:06] [DEBUG] [Database] init_users_table:260 -   Column: anilist_username (TEXT)
[2025-09-24 23:30:06] [DEBUG] [Database] init_users_table:260 -   Column: anilist_id (INTEGER)
[2025-09-24 23:30:06] [DEBUG] [Database] init_users_table:260 -   Column: created_at (DATETIME)
[2025-09-24 23:30:06] [DEBUG] [Database] init_users_table:260 -   Column: updated_at (DATETIME)
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:115 - Executing check guild_id usage
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT COUNT(*) FROM users WHERE guild_id IS NOT NULL
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:142 - check guild_id usage completed in 0.002s
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 1
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 1, 'test1')
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 1 completed in 0.006s
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 2
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 2, 'test2')
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 2 completed in 0.007s
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:115 - Executing cleanup test data
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:116 - Query: DELETE FROM users WHERE discord_id = ?
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999,)
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:142 - cleanup test data completed in 0.007s
[2025-09-24 23:30:06] [INFO] [Database] init_users_table:298 - ✅ Multi-guild support confirmed - table supports multiple guilds per user
[2025-09-24 23:30:06] [INFO] [Database] init_users_table:312 - ✅ Users table initialization completed successfully
[2025-09-24 23:30:06] [DEBUG] [Database] init_db:1500 - ✅ Users table initialized successfully
[2025-09-24 23:30:06] [DEBUG] [Database] init_db:1497 - Initializing Challenge Rules table...
[2025-09-24 23:30:06] [INFO] [Database] init_challenge_rules_table:761 - Initializing challenge rules table
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.002s
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME
[2025-09-24 23:30:06] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.001s: duplicate column name: created_at
[2025-09-24 23:30:06] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'created_at' already exists in challenge_rules table
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME
[2025-09-24 23:30:06] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.001s: duplicate column name: updated_at
[2025-09-24 23:30:06] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'updated_at' already exists in challenge_rules table
[2025-09-24 23:30:06] [INFO] [Database] init_challenge_rules_table:790 - ✅ Challenge rules table initialization completed
[2025-09-24 23:30:06] [DEBUG] [Database] init_db:1500 - ✅ Challenge Rules table initialized successfully
[2025-09-24 23:30:06] [DEBUG] [Database] init_db:1497 - Initializing Recommendation Votes table...
[2025-09-24 23:30:06] [INFO] [Database] init_recommendation_votes_table:858 - Manga recommendation votes table ready.
[2025-09-24 23:30:06] [DEBUG] [Database] init_db:1500 - ✅ Recommendation Votes table initialized successfully
[2025-09-24 23:30:06] [DEBUG] [Database] init_db:1497 - Initializing User Stats table...
[2025-09-24 23:30:06] [INFO] [Database] init_user_stats_table:876 - User stats table ready.
[2025-09-24 23:30:06] [DEBUG] [Database] init_db:1500 - ✅ User Stats table initialized successfully
[2025-09-24 23:30:06] [DEBUG] [Database] init_db:1497 - Initializing Achievements table...
[2025-09-24 23:30:06] [INFO] [Database] init_achievements_table:892 - Achievements table ready.
[2025-09-24 23:30:06] [DEBUG] [Database] init_db:1500 - ✅ Achievements table initialized successfully
[2025-09-24 23:30:06] [DEBUG] [Database] init_db:1497 - Initializing User Manga Progress table...
[2025-09-24 23:30:06] [INFO] [Database] init_user_manga_progress_table:928 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-24 23:30:06] [DEBUG] [Database] init_db:1500 - ✅ User Manga Progress table initialized successfully
[2025-09-24 23:30:06] [DEBUG] [Database] init_db:1497 - Initializing Manga Challenges table...
[2025-09-24 23:30:06] [DEBUG] [Database] init_db:1500 - ✅ Manga Challenges table initialized successfully
[2025-09-24 23:30:06] [DEBUG] [Database] init_db:1497 - Initializing User Progress table...
[2025-09-24 23:30:06] [DEBUG] [Database] init_db:1500 - ✅ User Progress table initialized successfully
[2025-09-24 23:30:06] [DEBUG] [Database] init_db:1497 - Initializing Global Challenges table...
[2025-09-24 23:30:06] [INFO] [Database] init_global_challenges_table:1226 - Global challenges table ready with difficulty column.
[2025-09-24 23:30:06] [DEBUG] [Database] init_db:1500 - ✅ Global Challenges table initialized successfully
[2025-09-24 23:30:06] [DEBUG] [Database] init_db:1497 - Initializing Guild Challenge Roles table...
[2025-09-24 23:30:06] [INFO] [Database] init_guild_challenge_roles_table:1408 - 🔧 Initializing guild challenge roles table...
[2025-09-24 23:30:06] [INFO] [Database] get_guild_challenge_roles:2128 - Getting challenge roles for guild 897814031346319382
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:115 - Executing get challenge roles for guild 897814031346319382
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT challenge_id, threshold, role_id 
            FROM guild_challenge_roles 
            WHERE guild_id = ?
            ORDER BY challenge_id, threshold
        
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:142 - get challenge roles for guild 897814031346319382 completed in 0.002s
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:148 - Query returned 13 rows
[2025-09-24 23:30:06] [INFO] [Database] get_guild_challenge_roles:2156 - ✅ Retrieved 13 challenge role configurations for guild 897814031346319382
[2025-09-24 23:30:06] [INFO] [Database] migrate_default_challenge_roles:1440 - Default challenge roles already exist for primary guild 897814031346319382
[2025-09-24 23:30:06] [INFO] [Database] init_guild_challenge_roles_table:1428 - ✅ Guild challenge roles table ready.
[2025-09-24 23:30:06] [DEBUG] [Database] init_db:1500 - ✅ Guild Challenge Roles table initialized successfully
[2025-09-24 23:30:06] [DEBUG] [Database] init_db:1497 - Initializing Invite Tracker table...
[2025-09-24 23:30:06] [INFO] [Database] init_invite_tracker_tables:1316 - Initializing invite tracker tables
[2025-09-24 23:30:06] [INFO] [Database] init_invite_tracker_tables:1383 - ✅ Invite tracker tables initialized successfully
[2025-09-24 23:30:06] [DEBUG] [Database] init_db:1500 - ✅ Invite Tracker table initialized successfully
[2025-09-24 23:30:06] [DEBUG] [Database] init_db:1497 - Initializing Steam Users table...
[2025-09-24 23:30:06] [INFO] [Database] init_steam_users_table:1403 - Steam users table ready.
[2025-09-24 23:30:06] [DEBUG] [Database] init_db:1500 - ✅ Steam Users table initialized successfully
[2025-09-24 23:30:06] [DEBUG] [Database] init_db:1497 - Initializing Challenge Manga table...
[2025-09-24 23:30:06] [DEBUG] [Database] init_db:1500 - ✅ Challenge Manga table initialized successfully
[2025-09-24 23:30:06] [INFO] [Database] init_db:1511 - ============================================================
[2025-09-24 23:30:06] [INFO] [Database] init_db:1512 - DATABASE INITIALIZATION SUMMARY
[2025-09-24 23:30:06] [INFO] [Database] init_db:1513 - Total tables: 13
[2025-09-24 23:30:06] [INFO] [Database] init_db:1514 - Successfully initialized: 13
[2025-09-24 23:30:06] [INFO] [Database] init_db:1515 - Failed to initialize: 0
[2025-09-24 23:30:06] [INFO] [Database] init_db:1516 - Total time: 0.07 seconds
[2025-09-24 23:30:06] [INFO] [Database] init_db:1521 - ✅ All database tables initialized successfully
[2025-09-24 23:30:06] [INFO] [Database] init_db:1523 - ============================================================
[2025-09-24 23:30:06] [INFO] [Database] init_db:1528 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.002s
[2025-09-24 23:30:06] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-24 23:30:09] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 23:30:09] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:30:09] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-24 23:30:09] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:30:09] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 23:30:09] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 23:30:09] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 23:30:09] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 23:30:10] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:30:10] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:30:10] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-24 23:30:10] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 23:30:10] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:30:10] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:30:10] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-24 23:30:10] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 23:30:10] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:30:10] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:30:10] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-24 23:30:10] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 23:30:10] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:30:10] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:30:10] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-24 23:30:10] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 23:30:10] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:30:10] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:30:10] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-24 23:30:10] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 23:30:10] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:30:10] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:30:10] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-24 23:30:10] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 23:30:10] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:30:10] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:30:10] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-24 23:30:10] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 23:30:10] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:30:10] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:30:10] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-24 23:30:10] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 23:30:11] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 23:30:11] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:30:11] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-24 23:30:11] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:30:11] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 23:30:11] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 23:30:11] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 23:30:11] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 23:30:13] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 23:30:13] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:30:13] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-24 23:30:13] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:30:13] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 23:30:13] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 23:30:13] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 23:30:13] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 23:30:38] [INFO] [Database] get_all_users_guild_aware:1923 - Getting all users for guild 897814031346319382
[2025-09-24 23:30:38] [DEBUG] [Database] execute_db_operation:115 - Executing get all users for guild 897814031346319382
[2025-09-24 23:30:38] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE guild_id = ?
[2025-09-24 23:30:38] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 23:30:38] [DEBUG] [Database] execute_db_operation:142 - get all users for guild 897814031346319382 completed in 0.002s
[2025-09-24 23:30:38] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-24 23:30:38] [INFO] [Database] get_all_users_guild_aware:1937 - ✅ Retrieved 18 users for guild 897814031346319382
[2025-09-24 23:30:38] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user Kyerstorm (Discord ID: 331164413623009281, Guild ID: 897814031346319382)
[2025-09-24 23:30:38] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 331164413623009281
[2025-09-24 23:30:38] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user Kyerstorm (Discord ID: 331164413623009281)
[2025-09-24 23:30:38] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 1455, Anime: 473, Chapters: 0, Episodes: 0
[2025-09-24 23:30:38] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 64.01, Anime: 65.86
[2025-09-24 23:30:38] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for Kyerstorm
[2025-09-24 23:30:38] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:30:38] [DEBUG] [Database] execute_db_operation:118 - Parameters: (331164413623009281, 'Kyerstorm', 1455, 473, 64.01, 65.86, 0, 0)
[2025-09-24 23:30:38] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for Kyerstorm completed in 0.006s
[2025-09-24 23:30:38] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for Kyerstorm
[2025-09-24 23:30:39] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user AZackInTime (Discord ID: 359452133831081984, Guild ID: 897814031346319382)
[2025-09-24 23:30:39] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 359452133831081984
[2025-09-24 23:30:39] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user AZackInTime (Discord ID: 359452133831081984)
[2025-09-24 23:30:39] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 755, Anime: 901, Chapters: 0, Episodes: 0
[2025-09-24 23:30:39] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 68.84, Anime: 68.66
[2025-09-24 23:30:39] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for AZackInTime
[2025-09-24 23:30:39] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:30:39] [DEBUG] [Database] execute_db_operation:118 - Parameters: (359452133831081984, 'AZackInTime', 755, 901, 68.84, 68.66, 0, 0)
[2025-09-24 23:30:39] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for AZackInTime completed in 0.017s
[2025-09-24 23:30:39] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for AZackInTime
[2025-09-24 23:30:39] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user NobodyImportant (Discord ID: 360165403777040385, Guild ID: 897814031346319382)
[2025-09-24 23:30:39] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 360165403777040385
[2025-09-24 23:30:39] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user NobodyImportant (Discord ID: 360165403777040385)
[2025-09-24 23:30:39] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 901, Anime: 230, Chapters: 0, Episodes: 0
[2025-09-24 23:30:39] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 80.81, Anime: 89.40
[2025-09-24 23:30:39] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for NobodyImportant
[2025-09-24 23:30:39] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:30:39] [DEBUG] [Database] execute_db_operation:118 - Parameters: (360165403777040385, 'NobodyImportant', 901, 230, 80.81, 89.4, 0, 0)
[2025-09-24 23:30:39] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for NobodyImportant completed in 0.006s
[2025-09-24 23:30:39] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for NobodyImportant
[2025-09-24 23:30:39] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user xuehua (Discord ID: 369957492962099201, Guild ID: 897814031346319382)
[2025-09-24 23:30:39] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 369957492962099201
[2025-09-24 23:30:39] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user xuehua (Discord ID: 369957492962099201)
[2025-09-24 23:30:39] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 144, Anime: 1430, Chapters: 0, Episodes: 0
[2025-09-24 23:30:39] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 0.00, Anime: 0.00
[2025-09-24 23:30:39] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for xuehua
[2025-09-24 23:30:39] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:30:39] [DEBUG] [Database] execute_db_operation:118 - Parameters: (369957492962099201, 'xuehua', 144, 1430, 0.0, 0.0, 0, 0)
[2025-09-24 23:30:39] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for xuehua completed in 0.006s
[2025-09-24 23:30:39] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for xuehua
[2025-09-24 23:30:40] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user nottdenito (Discord ID: 397394309977997314, Guild ID: 897814031346319382)
[2025-09-24 23:30:40] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 397394309977997314
[2025-09-24 23:30:40] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user nottdenito (Discord ID: 397394309977997314)
[2025-09-24 23:30:40] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 403, Anime: 725, Chapters: 0, Episodes: 0
[2025-09-24 23:30:40] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 3.21, Anime: 3.19
[2025-09-24 23:30:40] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for nottdenito
[2025-09-24 23:30:40] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:30:40] [DEBUG] [Database] execute_db_operation:118 - Parameters: (397394309977997314, 'nottdenito', 403, 725, 3.21, 3.19, 0, 0)
[2025-09-24 23:30:40] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for nottdenito completed in 0.007s
[2025-09-24 23:30:40] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for nottdenito
[2025-09-24 23:30:40] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user Tes (Discord ID: 461675352952012801, Guild ID: 897814031346319382)
[2025-09-24 23:30:40] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 461675352952012801
[2025-09-24 23:30:40] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user Tes (Discord ID: 461675352952012801)
[2025-09-24 23:30:40] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 563, Anime: 116, Chapters: 0, Episodes: 0
[2025-09-24 23:30:40] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 75.62, Anime: 78.23
[2025-09-24 23:30:40] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for Tes
[2025-09-24 23:30:40] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:30:40] [DEBUG] [Database] execute_db_operation:118 - Parameters: (461675352952012801, 'Tes', 563, 116, 75.62, 78.23, 0, 0)
[2025-09-24 23:30:40] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for Tes completed in 0.007s
[2025-09-24 23:30:40] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for Tes
[2025-09-24 23:30:40] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user raidflexer (Discord ID: 503946204296773642, Guild ID: 897814031346319382)
[2025-09-24 23:30:40] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 503946204296773642
[2025-09-24 23:30:40] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user raidflexer (Discord ID: 503946204296773642)
[2025-09-24 23:30:40] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 624, Anime: 120, Chapters: 0, Episodes: 0
[2025-09-24 23:30:40] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 2.77, Anime: 2.93
[2025-09-24 23:30:40] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for raidflexer
[2025-09-24 23:30:40] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:30:40] [DEBUG] [Database] execute_db_operation:118 - Parameters: (503946204296773642, 'raidflexer', 624, 120, 2.77, 2.93, 0, 0)
[2025-09-24 23:30:40] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for raidflexer completed in 0.006s
[2025-09-24 23:30:40] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for raidflexer
[2025-09-24 23:30:41] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user ThatJayGuy (Discord ID: 528583472663494656, Guild ID: 897814031346319382)
[2025-09-24 23:30:41] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 528583472663494656
[2025-09-24 23:30:41] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user ThatJayGuy (Discord ID: 528583472663494656)
[2025-09-24 23:30:41] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 1178, Anime: 521, Chapters: 0, Episodes: 0
[2025-09-24 23:30:41] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 0.00, Anime: 1.00
[2025-09-24 23:30:41] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for ThatJayGuy
[2025-09-24 23:30:41] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:30:41] [DEBUG] [Database] execute_db_operation:118 - Parameters: (528583472663494656, 'ThatJayGuy', 1178, 521, 0.0, 1.0, 0, 0)
[2025-09-24 23:30:41] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for ThatJayGuy completed in 0.006s
[2025-09-24 23:30:41] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for ThatJayGuy
[2025-09-24 23:30:41] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user JellyJelmo (Discord ID: 586185435399716864, Guild ID: 897814031346319382)
[2025-09-24 23:30:41] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 586185435399716864
[2025-09-24 23:30:41] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user JellyJelmo (Discord ID: 586185435399716864)
[2025-09-24 23:30:41] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 333, Anime: 89, Chapters: 0, Episodes: 0
[2025-09-24 23:30:41] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 0.00, Anime: 2.70
[2025-09-24 23:30:41] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for JellyJelmo
[2025-09-24 23:30:41] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:30:41] [DEBUG] [Database] execute_db_operation:118 - Parameters: (586185435399716864, 'JellyJelmo', 333, 89, 0.0, 2.7, 0, 0)
[2025-09-24 23:30:41] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for JellyJelmo completed in 0.006s
[2025-09-24 23:30:41] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for JellyJelmo
[2025-09-24 23:30:41] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user LinClick (Discord ID: 591244355096936459, Guild ID: 897814031346319382)
[2025-09-24 23:30:41] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 591244355096936459
[2025-09-24 23:30:41] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user LinClick (Discord ID: 591244355096936459)
[2025-09-24 23:30:41] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 1550, Anime: 223, Chapters: 0, Episodes: 0
[2025-09-24 23:30:41] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 0.00, Anime: 75.20
[2025-09-24 23:30:41] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for LinClick
[2025-09-24 23:30:41] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:30:41] [DEBUG] [Database] execute_db_operation:118 - Parameters: (591244355096936459, 'LinClick', 1550, 223, 0.0, 75.2, 0, 0)
[2025-09-24 23:30:41] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for LinClick completed in 0.006s
[2025-09-24 23:30:41] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for LinClick
[2025-09-24 23:30:42] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user Ruebin (Discord ID: 772776679608156180, Guild ID: 897814031346319382)
[2025-09-24 23:30:42] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 772776679608156180
[2025-09-24 23:30:42] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user Ruebin (Discord ID: 772776679608156180)
[2025-09-24 23:30:42] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 98, Anime: 63, Chapters: 0, Episodes: 0
[2025-09-24 23:30:42] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 89.11, Anime: 85.08
[2025-09-24 23:30:42] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for Ruebin
[2025-09-24 23:30:42] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:30:42] [DEBUG] [Database] execute_db_operation:118 - Parameters: (772776679608156180, 'Ruebin', 98, 63, 89.11, 85.08, 0, 0)
[2025-09-24 23:30:42] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for Ruebin completed in 0.007s
[2025-09-24 23:30:42] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for Ruebin
[2025-09-24 23:30:42] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user 1Frieren (Discord ID: 905468832406179850, Guild ID: 897814031346319382)
[2025-09-24 23:30:42] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 905468832406179850
[2025-09-24 23:30:42] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user 1Frieren (Discord ID: 905468832406179850)
[2025-09-24 23:30:42] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 51, Anime: 657, Chapters: 0, Episodes: 0
[2025-09-24 23:30:42] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 0.00, Anime: 5.00
[2025-09-24 23:30:42] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for 1Frieren
[2025-09-24 23:30:42] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:30:42] [DEBUG] [Database] execute_db_operation:118 - Parameters: (905468832406179850, '1Frieren', 51, 657, 0.0, 5.0, 0, 0)
[2025-09-24 23:30:42] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for 1Frieren completed in 0.006s
[2025-09-24 23:30:42] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for 1Frieren
[2025-09-24 23:30:42] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user Judasz (Discord ID: 1019960555341107271, Guild ID: 897814031346319382)
[2025-09-24 23:30:42] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 1019960555341107271
[2025-09-24 23:30:42] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user Judasz (Discord ID: 1019960555341107271)
[2025-09-24 23:30:42] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 99, Anime: 305, Chapters: 0, Episodes: 0
[2025-09-24 23:30:42] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 2.35, Anime: 0.00
[2025-09-24 23:30:42] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for Judasz
[2025-09-24 23:30:42] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:30:42] [DEBUG] [Database] execute_db_operation:118 - Parameters: (1019960555341107271, 'Judasz', 99, 305, 2.35, 0.0, 0, 0)
[2025-09-24 23:30:42] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for Judasz completed in 0.006s
[2025-09-24 23:30:42] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for Judasz
[2025-09-24 23:30:43] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user MyeTezz (Discord ID: 1034606763330248744, Guild ID: 897814031346319382)
[2025-09-24 23:30:43] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 1034606763330248744
[2025-09-24 23:30:43] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user MyeTezz (Discord ID: 1034606763330248744)
[2025-09-24 23:30:43] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 836, Anime: 1113, Chapters: 0, Episodes: 0
[2025-09-24 23:30:43] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 0.00, Anime: 0.00
[2025-09-24 23:30:43] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for MyeTezz
[2025-09-24 23:30:43] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:30:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: (1034606763330248744, 'MyeTezz', 836, 1113, 0.0, 0.0, 0, 0)
[2025-09-24 23:30:43] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for MyeTezz completed in 0.008s
[2025-09-24 23:30:43] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for MyeTezz
[2025-09-24 23:30:43] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user N006 (Discord ID: 1262304313481625704, Guild ID: 897814031346319382)
[2025-09-24 23:30:43] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 1262304313481625704
[2025-09-24 23:30:43] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user N006 (Discord ID: 1262304313481625704)
[2025-09-24 23:30:43] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 5, Anime: 834, Chapters: 0, Episodes: 0
[2025-09-24 23:30:43] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 84.00, Anime: 70.21
[2025-09-24 23:30:43] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for N006
[2025-09-24 23:30:43] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:30:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: (1262304313481625704, 'N006', 5, 834, 84.0, 70.21, 0, 0)
[2025-09-24 23:30:43] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for N006 completed in 0.006s
[2025-09-24 23:30:43] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for N006
[2025-09-24 23:30:43] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user Vireon (Discord ID: 1419744000977403994, Guild ID: 897814031346319382)
[2025-09-24 23:30:43] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 1419744000977403994
[2025-09-24 23:30:43] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user Vireon (Discord ID: 1419744000977403994)
[2025-09-24 23:30:43] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 1143, Anime: 2218, Chapters: 0, Episodes: 0
[2025-09-24 23:30:43] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 6.41, Anime: 0.00
[2025-09-24 23:30:43] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for Vireon
[2025-09-24 23:30:43] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:30:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: (1419744000977403994, 'Vireon', 1143, 2218, 6.41, 0.0, 0, 0)
[2025-09-24 23:30:43] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for Vireon completed in 0.006s
[2025-09-24 23:30:43] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for Vireon
[2025-09-24 23:30:44] [INFO] [Database] get_guild_leaderboard_data:1849 - Getting chapters leaderboard data for guild 897814031346319382
[2025-09-24 23:30:44] [DEBUG] [Database] execute_db_operation:115 - Executing get chapters leaderboard for guild 897814031346319382
[2025-09-24 23:30:44] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT u.anilist_username, us.total_manga, us.total_anime, 
                   us.total_chapters, us.total_episodes, us.avg_manga_score, us.avg_anime_score
            FROM users u 
            JOIN user_stats us ON u.discord_id = us.discord_id
            WHERE u.guild_id = ? AND u.anilist_username IS NOT NULL
        
[2025-09-24 23:30:44] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 23:30:44] [DEBUG] [Database] execute_db_operation:142 - get chapters leaderboard for guild 897814031346319382 completed in 0.003s
[2025-09-24 23:30:44] [DEBUG] [Database] execute_db_operation:148 - Query returned 16 rows
[2025-09-24 23:30:44] [INFO] [Database] get_guild_leaderboard_data:1910 - ✅ Retrieved 16 entries for chapters leaderboard in guild 897814031346319382
[2025-09-24 23:33:28] [INFO] [Database] <module>:60 - ==================================================
[2025-09-24 23:33:28] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-24 23:33:28] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-24 23:33:28] [INFO] [Database] <module>:63 - ==================================================
[2025-09-24 23:33:28] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-24 23:33:28] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-24 23:33:28] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-24 23:33:28] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-24 23:33:28] [INFO] [Database] init_db:1462 - ============================================================
[2025-09-24 23:33:28] [INFO] [Database] init_db:1463 - STARTING DATABASE INITIALIZATION
[2025-09-24 23:33:28] [INFO] [Database] init_db:1464 - ============================================================
[2025-09-24 23:33:28] [INFO] [Database] init_db:1489 - Verifying database connectivity...
[2025-09-24 23:33:28] [INFO] [Database] init_db:1492 - ✅ Database connectivity verified
[2025-09-24 23:33:28] [DEBUG] [Database] init_db:1497 - Initializing Users table...
[2025-09-24 23:33:28] [INFO] [Database] init_users_table:218 - Initializing users table
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-24 23:33:28] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.002s: duplicate column name: anilist_username
[2025-09-24 23:33:28] [DEBUG] [Database] init_users_table:251 - Column 'anilist_username' already exists in users table
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-24 23:33:28] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.002s: duplicate column name: anilist_id
[2025-09-24 23:33:28] [DEBUG] [Database] init_users_table:251 - Column 'anilist_id' already exists in users table
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:115 - Executing add guild_id column to users
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN guild_id INTEGER
[2025-09-24 23:33:28] [ERROR] [Database] execute_db_operation:156 - add guild_id column to users failed after 0.001s: duplicate column name: guild_id
[2025-09-24 23:33:28] [DEBUG] [Database] init_users_table:251 - Column 'guild_id' already exists in users table
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 23:33:28] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.001s: duplicate column name: created_at
[2025-09-24 23:33:28] [DEBUG] [Database] init_users_table:251 - Column 'created_at' already exists in users table
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 23:33:28] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.002s: duplicate column name: updated_at
[2025-09-24 23:33:28] [DEBUG] [Database] init_users_table:251 - Column 'updated_at' already exists in users table
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.002s
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:33:28] [DEBUG] [Database] init_users_table:258 - Users table schema: 8 columns
[2025-09-24 23:33:28] [DEBUG] [Database] init_users_table:260 -   Column: id (INTEGER)
[2025-09-24 23:33:28] [DEBUG] [Database] init_users_table:260 -   Column: discord_id (INTEGER)
[2025-09-24 23:33:28] [DEBUG] [Database] init_users_table:260 -   Column: guild_id (INTEGER)
[2025-09-24 23:33:28] [DEBUG] [Database] init_users_table:260 -   Column: username (TEXT)
[2025-09-24 23:33:28] [DEBUG] [Database] init_users_table:260 -   Column: anilist_username (TEXT)
[2025-09-24 23:33:28] [DEBUG] [Database] init_users_table:260 -   Column: anilist_id (INTEGER)
[2025-09-24 23:33:28] [DEBUG] [Database] init_users_table:260 -   Column: created_at (DATETIME)
[2025-09-24 23:33:28] [DEBUG] [Database] init_users_table:260 -   Column: updated_at (DATETIME)
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:115 - Executing check guild_id usage
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT COUNT(*) FROM users WHERE guild_id IS NOT NULL
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:142 - check guild_id usage completed in 0.002s
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 1
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 1, 'test1')
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 1 completed in 0.006s
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 2
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 2, 'test2')
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 2 completed in 0.005s
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:115 - Executing cleanup test data
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:116 - Query: DELETE FROM users WHERE discord_id = ?
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999,)
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:142 - cleanup test data completed in 0.005s
[2025-09-24 23:33:28] [INFO] [Database] init_users_table:298 - ✅ Multi-guild support confirmed - table supports multiple guilds per user
[2025-09-24 23:33:28] [INFO] [Database] init_users_table:312 - ✅ Users table initialization completed successfully
[2025-09-24 23:33:28] [DEBUG] [Database] init_db:1500 - ✅ Users table initialized successfully
[2025-09-24 23:33:28] [DEBUG] [Database] init_db:1497 - Initializing Challenge Rules table...
[2025-09-24 23:33:28] [INFO] [Database] init_challenge_rules_table:761 - Initializing challenge rules table
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.003s
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME
[2025-09-24 23:33:28] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.001s: duplicate column name: created_at
[2025-09-24 23:33:28] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'created_at' already exists in challenge_rules table
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME
[2025-09-24 23:33:28] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.002s: duplicate column name: updated_at
[2025-09-24 23:33:28] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'updated_at' already exists in challenge_rules table
[2025-09-24 23:33:28] [INFO] [Database] init_challenge_rules_table:790 - ✅ Challenge rules table initialization completed
[2025-09-24 23:33:28] [DEBUG] [Database] init_db:1500 - ✅ Challenge Rules table initialized successfully
[2025-09-24 23:33:28] [DEBUG] [Database] init_db:1497 - Initializing Recommendation Votes table...
[2025-09-24 23:33:28] [INFO] [Database] init_recommendation_votes_table:858 - Manga recommendation votes table ready.
[2025-09-24 23:33:28] [DEBUG] [Database] init_db:1500 - ✅ Recommendation Votes table initialized successfully
[2025-09-24 23:33:28] [DEBUG] [Database] init_db:1497 - Initializing User Stats table...
[2025-09-24 23:33:28] [INFO] [Database] init_user_stats_table:876 - User stats table ready.
[2025-09-24 23:33:28] [DEBUG] [Database] init_db:1500 - ✅ User Stats table initialized successfully
[2025-09-24 23:33:28] [DEBUG] [Database] init_db:1497 - Initializing Achievements table...
[2025-09-24 23:33:28] [INFO] [Database] init_achievements_table:892 - Achievements table ready.
[2025-09-24 23:33:28] [DEBUG] [Database] init_db:1500 - ✅ Achievements table initialized successfully
[2025-09-24 23:33:28] [DEBUG] [Database] init_db:1497 - Initializing User Manga Progress table...
[2025-09-24 23:33:28] [INFO] [Database] init_user_manga_progress_table:928 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-24 23:33:28] [DEBUG] [Database] init_db:1500 - ✅ User Manga Progress table initialized successfully
[2025-09-24 23:33:28] [DEBUG] [Database] init_db:1497 - Initializing Manga Challenges table...
[2025-09-24 23:33:28] [DEBUG] [Database] init_db:1500 - ✅ Manga Challenges table initialized successfully
[2025-09-24 23:33:28] [DEBUG] [Database] init_db:1497 - Initializing User Progress table...
[2025-09-24 23:33:28] [DEBUG] [Database] init_db:1500 - ✅ User Progress table initialized successfully
[2025-09-24 23:33:28] [DEBUG] [Database] init_db:1497 - Initializing Global Challenges table...
[2025-09-24 23:33:28] [INFO] [Database] init_global_challenges_table:1226 - Global challenges table ready with difficulty column.
[2025-09-24 23:33:28] [DEBUG] [Database] init_db:1500 - ✅ Global Challenges table initialized successfully
[2025-09-24 23:33:28] [DEBUG] [Database] init_db:1497 - Initializing Guild Challenge Roles table...
[2025-09-24 23:33:28] [INFO] [Database] init_guild_challenge_roles_table:1408 - 🔧 Initializing guild challenge roles table...
[2025-09-24 23:33:28] [INFO] [Database] get_guild_challenge_roles:2128 - Getting challenge roles for guild 897814031346319382
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:115 - Executing get challenge roles for guild 897814031346319382
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT challenge_id, threshold, role_id 
            FROM guild_challenge_roles 
            WHERE guild_id = ?
            ORDER BY challenge_id, threshold
        
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:142 - get challenge roles for guild 897814031346319382 completed in 0.002s
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:148 - Query returned 13 rows
[2025-09-24 23:33:28] [INFO] [Database] get_guild_challenge_roles:2156 - ✅ Retrieved 13 challenge role configurations for guild 897814031346319382
[2025-09-24 23:33:28] [INFO] [Database] migrate_default_challenge_roles:1440 - Default challenge roles already exist for primary guild 897814031346319382
[2025-09-24 23:33:28] [INFO] [Database] init_guild_challenge_roles_table:1428 - ✅ Guild challenge roles table ready.
[2025-09-24 23:33:28] [DEBUG] [Database] init_db:1500 - ✅ Guild Challenge Roles table initialized successfully
[2025-09-24 23:33:28] [DEBUG] [Database] init_db:1497 - Initializing Invite Tracker table...
[2025-09-24 23:33:28] [INFO] [Database] init_invite_tracker_tables:1316 - Initializing invite tracker tables
[2025-09-24 23:33:28] [INFO] [Database] init_invite_tracker_tables:1383 - ✅ Invite tracker tables initialized successfully
[2025-09-24 23:33:28] [DEBUG] [Database] init_db:1500 - ✅ Invite Tracker table initialized successfully
[2025-09-24 23:33:28] [DEBUG] [Database] init_db:1497 - Initializing Steam Users table...
[2025-09-24 23:33:28] [INFO] [Database] init_steam_users_table:1403 - Steam users table ready.
[2025-09-24 23:33:28] [DEBUG] [Database] init_db:1500 - ✅ Steam Users table initialized successfully
[2025-09-24 23:33:28] [DEBUG] [Database] init_db:1497 - Initializing Challenge Manga table...
[2025-09-24 23:33:28] [DEBUG] [Database] init_db:1500 - ✅ Challenge Manga table initialized successfully
[2025-09-24 23:33:28] [INFO] [Database] init_db:1511 - ============================================================
[2025-09-24 23:33:28] [INFO] [Database] init_db:1512 - DATABASE INITIALIZATION SUMMARY
[2025-09-24 23:33:28] [INFO] [Database] init_db:1513 - Total tables: 13
[2025-09-24 23:33:28] [INFO] [Database] init_db:1514 - Successfully initialized: 13
[2025-09-24 23:33:28] [INFO] [Database] init_db:1515 - Failed to initialize: 0
[2025-09-24 23:33:28] [INFO] [Database] init_db:1516 - Total time: 0.07 seconds
[2025-09-24 23:33:28] [INFO] [Database] init_db:1521 - ✅ All database tables initialized successfully
[2025-09-24 23:33:28] [INFO] [Database] init_db:1523 - ============================================================
[2025-09-24 23:33:28] [INFO] [Database] init_db:1528 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.003s
[2025-09-24 23:33:28] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-24 23:33:32] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 23:33:32] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:33:32] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-24 23:33:32] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:33:32] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 23:33:32] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 23:33:32] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 23:33:32] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 23:33:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:33:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:33:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-24 23:33:32] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 23:33:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:33:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:33:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-24 23:33:32] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 23:33:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:33:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:33:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-24 23:33:32] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 23:33:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:33:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:33:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-24 23:33:32] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 23:33:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:33:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:33:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-24 23:33:32] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 23:33:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:33:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:33:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-24 23:33:32] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 23:33:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:33:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:33:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-24 23:33:32] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 23:33:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:33:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:33:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-24 23:33:32] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-24 23:33:34] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 23:33:34] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:33:34] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-24 23:33:34] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:33:34] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 23:33:34] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 23:33:34] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 23:33:34] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 23:33:36] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 23:33:36] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:33:36] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-24 23:33:36] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:33:36] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 23:33:36] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 23:33:36] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 23:33:36] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 23:33:40] [INFO] [Database] get_all_users_guild_aware:1923 - Getting all users for guild 897814031346319382
[2025-09-24 23:33:40] [DEBUG] [Database] execute_db_operation:115 - Executing get all users for guild 897814031346319382
[2025-09-24 23:33:40] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE guild_id = ?
[2025-09-24 23:33:40] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 23:33:40] [DEBUG] [Database] execute_db_operation:142 - get all users for guild 897814031346319382 completed in 0.004s
[2025-09-24 23:33:40] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-24 23:33:40] [INFO] [Database] get_all_users_guild_aware:1937 - ✅ Retrieved 18 users for guild 897814031346319382
[2025-09-24 23:33:41] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user Kyerstorm (Discord ID: 331164413623009281, Guild ID: 897814031346319382)
[2025-09-24 23:33:41] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 331164413623009281
[2025-09-24 23:33:41] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user Kyerstorm (Discord ID: 331164413623009281)
[2025-09-24 23:33:41] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 1455, Anime: 473, Chapters: 161685, Episodes: 5911
[2025-09-24 23:33:41] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 64.01, Anime: 65.86
[2025-09-24 23:33:41] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for Kyerstorm
[2025-09-24 23:33:41] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:33:41] [DEBUG] [Database] execute_db_operation:118 - Parameters: (331164413623009281, 'Kyerstorm', 1455, 473, 64.01, 65.86, 161685, 5911)
[2025-09-24 23:33:41] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for Kyerstorm completed in 0.005s
[2025-09-24 23:33:41] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for Kyerstorm
[2025-09-24 23:33:41] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user AZackInTime (Discord ID: 359452133831081984, Guild ID: 897814031346319382)
[2025-09-24 23:33:41] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 359452133831081984
[2025-09-24 23:33:41] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user AZackInTime (Discord ID: 359452133831081984)
[2025-09-24 23:33:41] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 755, Anime: 901, Chapters: 78309, Episodes: 13292
[2025-09-24 23:33:41] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 68.84, Anime: 68.66
[2025-09-24 23:33:41] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for AZackInTime
[2025-09-24 23:33:41] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:33:41] [DEBUG] [Database] execute_db_operation:118 - Parameters: (359452133831081984, 'AZackInTime', 755, 901, 68.84, 68.66, 78309, 13292)
[2025-09-24 23:33:41] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for AZackInTime completed in 0.007s
[2025-09-24 23:33:41] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for AZackInTime
[2025-09-24 23:33:41] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user NobodyImportant (Discord ID: 360165403777040385, Guild ID: 897814031346319382)
[2025-09-24 23:33:41] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 360165403777040385
[2025-09-24 23:33:41] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user NobodyImportant (Discord ID: 360165403777040385)
[2025-09-24 23:33:41] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 901, Anime: 230, Chapters: 32970, Episodes: 4508
[2025-09-24 23:33:41] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 80.81, Anime: 89.40
[2025-09-24 23:33:41] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for NobodyImportant
[2025-09-24 23:33:41] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:33:41] [DEBUG] [Database] execute_db_operation:118 - Parameters: (360165403777040385, 'NobodyImportant', 901, 230, 80.81, 89.4, 32970, 4508)
[2025-09-24 23:33:41] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for NobodyImportant completed in 0.008s
[2025-09-24 23:33:41] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for NobodyImportant
[2025-09-24 23:33:42] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user xuehua (Discord ID: 369957492962099201, Guild ID: 897814031346319382)
[2025-09-24 23:33:42] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 369957492962099201
[2025-09-24 23:33:42] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user xuehua (Discord ID: 369957492962099201)
[2025-09-24 23:33:42] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 144, Anime: 1430, Chapters: 9123, Episodes: 21070
[2025-09-24 23:33:42] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 0.00, Anime: 0.00
[2025-09-24 23:33:42] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for xuehua
[2025-09-24 23:33:42] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:33:42] [DEBUG] [Database] execute_db_operation:118 - Parameters: (369957492962099201, 'xuehua', 144, 1430, 0.0, 0.0, 9123, 21070)
[2025-09-24 23:33:42] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for xuehua completed in 0.007s
[2025-09-24 23:33:42] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for xuehua
[2025-09-24 23:33:42] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user nottdenito (Discord ID: 397394309977997314, Guild ID: 897814031346319382)
[2025-09-24 23:33:42] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 397394309977997314
[2025-09-24 23:33:42] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user nottdenito (Discord ID: 397394309977997314)
[2025-09-24 23:33:42] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 403, Anime: 725, Chapters: 24096, Episodes: 11724
[2025-09-24 23:33:42] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 3.21, Anime: 3.19
[2025-09-24 23:33:42] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for nottdenito
[2025-09-24 23:33:42] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:33:42] [DEBUG] [Database] execute_db_operation:118 - Parameters: (397394309977997314, 'nottdenito', 403, 725, 3.21, 3.19, 24096, 11724)
[2025-09-24 23:33:42] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for nottdenito completed in 0.006s
[2025-09-24 23:33:42] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for nottdenito
[2025-09-24 23:33:42] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user Tes (Discord ID: 461675352952012801, Guild ID: 897814031346319382)
[2025-09-24 23:33:42] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 461675352952012801
[2025-09-24 23:33:42] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user Tes (Discord ID: 461675352952012801)
[2025-09-24 23:33:42] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 563, Anime: 116, Chapters: 122004, Episodes: 5581
[2025-09-24 23:33:42] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 75.62, Anime: 78.23
[2025-09-24 23:33:42] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for Tes
[2025-09-24 23:33:42] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:33:42] [DEBUG] [Database] execute_db_operation:118 - Parameters: (461675352952012801, 'Tes', 563, 116, 75.62, 78.23, 122004, 5581)
[2025-09-24 23:33:42] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for Tes completed in 0.006s
[2025-09-24 23:33:42] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for Tes
[2025-09-24 23:33:43] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user raidflexer (Discord ID: 503946204296773642, Guild ID: 897814031346319382)
[2025-09-24 23:33:43] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 503946204296773642
[2025-09-24 23:33:43] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user raidflexer (Discord ID: 503946204296773642)
[2025-09-24 23:33:43] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 624, Anime: 120, Chapters: 37382, Episodes: 3620
[2025-09-24 23:33:43] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 2.77, Anime: 2.93
[2025-09-24 23:33:43] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for raidflexer
[2025-09-24 23:33:43] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:33:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: (503946204296773642, 'raidflexer', 624, 120, 2.77, 2.93, 37382, 3620)
[2025-09-24 23:33:43] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for raidflexer completed in 0.006s
[2025-09-24 23:33:43] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for raidflexer
[2025-09-24 23:33:43] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user ThatJayGuy (Discord ID: 528583472663494656, Guild ID: 897814031346319382)
[2025-09-24 23:33:43] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 528583472663494656
[2025-09-24 23:33:43] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user ThatJayGuy (Discord ID: 528583472663494656)
[2025-09-24 23:33:43] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 1178, Anime: 521, Chapters: 82696, Episodes: 8309
[2025-09-24 23:33:43] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 0.00, Anime: 1.00
[2025-09-24 23:33:43] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for ThatJayGuy
[2025-09-24 23:33:43] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:33:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: (528583472663494656, 'ThatJayGuy', 1178, 521, 0.0, 1.0, 82696, 8309)
[2025-09-24 23:33:43] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for ThatJayGuy completed in 0.007s
[2025-09-24 23:33:43] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for ThatJayGuy
[2025-09-24 23:33:43] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user JellyJelmo (Discord ID: 586185435399716864, Guild ID: 897814031346319382)
[2025-09-24 23:33:43] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 586185435399716864
[2025-09-24 23:33:43] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user JellyJelmo (Discord ID: 586185435399716864)
[2025-09-24 23:33:43] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 333, Anime: 89, Chapters: 68754, Episodes: 3946
[2025-09-24 23:33:43] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 0.00, Anime: 2.70
[2025-09-24 23:33:43] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for JellyJelmo
[2025-09-24 23:33:43] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:33:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: (586185435399716864, 'JellyJelmo', 333, 89, 0.0, 2.7, 68754, 3946)
[2025-09-24 23:33:43] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for JellyJelmo completed in 0.007s
[2025-09-24 23:33:43] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for JellyJelmo
[2025-09-24 23:33:44] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user LinClick (Discord ID: 591244355096936459, Guild ID: 897814031346319382)
[2025-09-24 23:33:44] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 591244355096936459
[2025-09-24 23:33:44] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user LinClick (Discord ID: 591244355096936459)
[2025-09-24 23:33:44] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 1550, Anime: 223, Chapters: 118586, Episodes: 5491
[2025-09-24 23:33:44] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 0.00, Anime: 75.20
[2025-09-24 23:33:44] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for LinClick
[2025-09-24 23:33:44] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:33:44] [DEBUG] [Database] execute_db_operation:118 - Parameters: (591244355096936459, 'LinClick', 1550, 223, 0.0, 75.2, 118586, 5491)
[2025-09-24 23:33:44] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for LinClick completed in 0.008s
[2025-09-24 23:33:44] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for LinClick
[2025-09-24 23:33:44] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user Ruebin (Discord ID: 772776679608156180, Guild ID: 897814031346319382)
[2025-09-24 23:33:44] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 772776679608156180
[2025-09-24 23:33:44] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user Ruebin (Discord ID: 772776679608156180)
[2025-09-24 23:33:44] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 98, Anime: 63, Chapters: 25404, Episodes: 2405
[2025-09-24 23:33:44] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 89.11, Anime: 85.08
[2025-09-24 23:33:44] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for Ruebin
[2025-09-24 23:33:44] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:33:44] [DEBUG] [Database] execute_db_operation:118 - Parameters: (772776679608156180, 'Ruebin', 98, 63, 89.11, 85.08, 25404, 2405)
[2025-09-24 23:33:44] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for Ruebin completed in 0.006s
[2025-09-24 23:33:44] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for Ruebin
[2025-09-24 23:33:44] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user 1Frieren (Discord ID: 905468832406179850, Guild ID: 897814031346319382)
[2025-09-24 23:33:44] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 905468832406179850
[2025-09-24 23:33:44] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user 1Frieren (Discord ID: 905468832406179850)
[2025-09-24 23:33:44] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 51, Anime: 657, Chapters: 7027, Episodes: 11571
[2025-09-24 23:33:44] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 0.00, Anime: 5.00
[2025-09-24 23:33:44] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for 1Frieren
[2025-09-24 23:33:44] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:33:44] [DEBUG] [Database] execute_db_operation:118 - Parameters: (905468832406179850, '1Frieren', 51, 657, 0.0, 5.0, 7027, 11571)
[2025-09-24 23:33:44] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for 1Frieren completed in 0.007s
[2025-09-24 23:33:44] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for 1Frieren
[2025-09-24 23:33:45] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user Judasz (Discord ID: 1019960555341107271, Guild ID: 897814031346319382)
[2025-09-24 23:33:45] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 1019960555341107271
[2025-09-24 23:33:45] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user Judasz (Discord ID: 1019960555341107271)
[2025-09-24 23:33:45] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 99, Anime: 305, Chapters: 12723, Episodes: 8211
[2025-09-24 23:33:45] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 2.35, Anime: 0.00
[2025-09-24 23:33:45] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for Judasz
[2025-09-24 23:33:45] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:33:45] [DEBUG] [Database] execute_db_operation:118 - Parameters: (1019960555341107271, 'Judasz', 99, 305, 2.35, 0.0, 12723, 8211)
[2025-09-24 23:33:45] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for Judasz completed in 0.009s
[2025-09-24 23:33:45] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for Judasz
[2025-09-24 23:33:45] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user MyeTezz (Discord ID: 1034606763330248744, Guild ID: 897814031346319382)
[2025-09-24 23:33:45] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 1034606763330248744
[2025-09-24 23:33:45] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user MyeTezz (Discord ID: 1034606763330248744)
[2025-09-24 23:33:45] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 836, Anime: 1113, Chapters: 63947, Episodes: 11292
[2025-09-24 23:33:45] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 0.00, Anime: 0.00
[2025-09-24 23:33:45] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for MyeTezz
[2025-09-24 23:33:45] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:33:45] [DEBUG] [Database] execute_db_operation:118 - Parameters: (1034606763330248744, 'MyeTezz', 836, 1113, 0.0, 0.0, 63947, 11292)
[2025-09-24 23:33:45] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for MyeTezz completed in 0.008s
[2025-09-24 23:33:45] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for MyeTezz
[2025-09-24 23:33:45] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user N006 (Discord ID: 1262304313481625704, Guild ID: 897814031346319382)
[2025-09-24 23:33:45] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 1262304313481625704
[2025-09-24 23:33:45] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user N006 (Discord ID: 1262304313481625704)
[2025-09-24 23:33:45] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 5, Anime: 834, Chapters: 345, Episodes: 11163
[2025-09-24 23:33:45] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 84.00, Anime: 70.21
[2025-09-24 23:33:45] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for N006
[2025-09-24 23:33:45] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:33:45] [DEBUG] [Database] execute_db_operation:118 - Parameters: (1262304313481625704, 'N006', 5, 834, 84.0, 70.21, 345, 11163)
[2025-09-24 23:33:45] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for N006 completed in 0.008s
[2025-09-24 23:33:45] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for N006
[2025-09-24 23:33:46] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user Vireon (Discord ID: 1419744000977403994, Guild ID: 897814031346319382)
[2025-09-24 23:33:46] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 1419744000977403994
[2025-09-24 23:33:46] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user Vireon (Discord ID: 1419744000977403994)
[2025-09-24 23:33:46] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 1143, Anime: 2218, Chapters: 184146, Episodes: 49333
[2025-09-24 23:33:46] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 6.41, Anime: 0.00
[2025-09-24 23:33:46] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for Vireon
[2025-09-24 23:33:46] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:33:46] [DEBUG] [Database] execute_db_operation:118 - Parameters: (1419744000977403994, 'Vireon', 1143, 2218, 6.41, 0.0, 184146, 49333)
[2025-09-24 23:33:46] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for Vireon completed in 0.007s
[2025-09-24 23:33:46] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for Vireon
[2025-09-24 23:33:46] [INFO] [Database] get_guild_leaderboard_data:1849 - Getting chapters leaderboard data for guild 897814031346319382
[2025-09-24 23:33:46] [DEBUG] [Database] execute_db_operation:115 - Executing get chapters leaderboard for guild 897814031346319382
[2025-09-24 23:33:46] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT u.anilist_username, us.total_manga, us.total_anime, 
                   us.total_chapters, us.total_episodes, us.avg_manga_score, us.avg_anime_score
            FROM users u 
            JOIN user_stats us ON u.discord_id = us.discord_id
            WHERE u.guild_id = ? AND u.anilist_username IS NOT NULL
        
[2025-09-24 23:33:46] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 23:33:46] [DEBUG] [Database] execute_db_operation:142 - get chapters leaderboard for guild 897814031346319382 completed in 0.003s
[2025-09-24 23:33:46] [DEBUG] [Database] execute_db_operation:148 - Query returned 16 rows
[2025-09-24 23:33:46] [INFO] [Database] get_guild_leaderboard_data:1910 - ✅ Retrieved 16 entries for chapters leaderboard in guild 897814031346319382
[2025-09-24 23:40:55] [INFO] [Database] <module>:60 - ==================================================
[2025-09-24 23:40:55] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-24 23:40:55] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-24 23:40:55] [INFO] [Database] <module>:63 - ==================================================
[2025-09-24 23:40:55] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-24 23:40:55] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-24 23:40:55] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-24 23:40:55] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-24 23:40:55] [INFO] [Database] init_db:1462 - ============================================================
[2025-09-24 23:40:55] [INFO] [Database] init_db:1463 - STARTING DATABASE INITIALIZATION
[2025-09-24 23:40:55] [INFO] [Database] init_db:1464 - ============================================================
[2025-09-24 23:40:55] [INFO] [Database] init_db:1489 - Verifying database connectivity...
[2025-09-24 23:40:55] [INFO] [Database] init_db:1492 - ✅ Database connectivity verified
[2025-09-24 23:40:55] [DEBUG] [Database] init_db:1497 - Initializing Users table...
[2025-09-24 23:40:55] [INFO] [Database] init_users_table:218 - Initializing users table
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-24 23:40:55] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.001s: duplicate column name: anilist_username
[2025-09-24 23:40:55] [DEBUG] [Database] init_users_table:251 - Column 'anilist_username' already exists in users table
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-24 23:40:55] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.001s: duplicate column name: anilist_id
[2025-09-24 23:40:55] [DEBUG] [Database] init_users_table:251 - Column 'anilist_id' already exists in users table
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:115 - Executing add guild_id column to users
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN guild_id INTEGER
[2025-09-24 23:40:55] [ERROR] [Database] execute_db_operation:156 - add guild_id column to users failed after 0.002s: duplicate column name: guild_id
[2025-09-24 23:40:55] [DEBUG] [Database] init_users_table:251 - Column 'guild_id' already exists in users table
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 23:40:55] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.002s: duplicate column name: created_at
[2025-09-24 23:40:55] [DEBUG] [Database] init_users_table:251 - Column 'created_at' already exists in users table
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 23:40:55] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.002s: duplicate column name: updated_at
[2025-09-24 23:40:55] [DEBUG] [Database] init_users_table:251 - Column 'updated_at' already exists in users table
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.002s
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:40:55] [DEBUG] [Database] init_users_table:258 - Users table schema: 8 columns
[2025-09-24 23:40:55] [DEBUG] [Database] init_users_table:260 -   Column: id (INTEGER)
[2025-09-24 23:40:55] [DEBUG] [Database] init_users_table:260 -   Column: discord_id (INTEGER)
[2025-09-24 23:40:55] [DEBUG] [Database] init_users_table:260 -   Column: guild_id (INTEGER)
[2025-09-24 23:40:55] [DEBUG] [Database] init_users_table:260 -   Column: username (TEXT)
[2025-09-24 23:40:55] [DEBUG] [Database] init_users_table:260 -   Column: anilist_username (TEXT)
[2025-09-24 23:40:55] [DEBUG] [Database] init_users_table:260 -   Column: anilist_id (INTEGER)
[2025-09-24 23:40:55] [DEBUG] [Database] init_users_table:260 -   Column: created_at (DATETIME)
[2025-09-24 23:40:55] [DEBUG] [Database] init_users_table:260 -   Column: updated_at (DATETIME)
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:115 - Executing check guild_id usage
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT COUNT(*) FROM users WHERE guild_id IS NOT NULL
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:142 - check guild_id usage completed in 0.002s
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 1
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 1, 'test1')
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 1 completed in 0.005s
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 2
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 2, 'test2')
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 2 completed in 0.005s
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:115 - Executing cleanup test data
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:116 - Query: DELETE FROM users WHERE discord_id = ?
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999,)
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:142 - cleanup test data completed in 0.006s
[2025-09-24 23:40:55] [INFO] [Database] init_users_table:298 - ✅ Multi-guild support confirmed - table supports multiple guilds per user
[2025-09-24 23:40:55] [INFO] [Database] init_users_table:312 - ✅ Users table initialization completed successfully
[2025-09-24 23:40:55] [DEBUG] [Database] init_db:1500 - ✅ Users table initialized successfully
[2025-09-24 23:40:55] [DEBUG] [Database] init_db:1497 - Initializing Challenge Rules table...
[2025-09-24 23:40:55] [INFO] [Database] init_challenge_rules_table:761 - Initializing challenge rules table
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.002s
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME
[2025-09-24 23:40:55] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.001s: duplicate column name: created_at
[2025-09-24 23:40:55] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'created_at' already exists in challenge_rules table
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME
[2025-09-24 23:40:55] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.001s: duplicate column name: updated_at
[2025-09-24 23:40:55] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'updated_at' already exists in challenge_rules table
[2025-09-24 23:40:55] [INFO] [Database] init_challenge_rules_table:790 - ✅ Challenge rules table initialization completed
[2025-09-24 23:40:55] [DEBUG] [Database] init_db:1500 - ✅ Challenge Rules table initialized successfully
[2025-09-24 23:40:55] [DEBUG] [Database] init_db:1497 - Initializing Recommendation Votes table...
[2025-09-24 23:40:55] [INFO] [Database] init_recommendation_votes_table:858 - Manga recommendation votes table ready.
[2025-09-24 23:40:55] [DEBUG] [Database] init_db:1500 - ✅ Recommendation Votes table initialized successfully
[2025-09-24 23:40:55] [DEBUG] [Database] init_db:1497 - Initializing User Stats table...
[2025-09-24 23:40:55] [INFO] [Database] init_user_stats_table:876 - User stats table ready.
[2025-09-24 23:40:55] [DEBUG] [Database] init_db:1500 - ✅ User Stats table initialized successfully
[2025-09-24 23:40:55] [DEBUG] [Database] init_db:1497 - Initializing Achievements table...
[2025-09-24 23:40:55] [INFO] [Database] init_achievements_table:892 - Achievements table ready.
[2025-09-24 23:40:55] [DEBUG] [Database] init_db:1500 - ✅ Achievements table initialized successfully
[2025-09-24 23:40:55] [DEBUG] [Database] init_db:1497 - Initializing User Manga Progress table...
[2025-09-24 23:40:55] [INFO] [Database] init_user_manga_progress_table:928 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-24 23:40:55] [DEBUG] [Database] init_db:1500 - ✅ User Manga Progress table initialized successfully
[2025-09-24 23:40:55] [DEBUG] [Database] init_db:1497 - Initializing Manga Challenges table...
[2025-09-24 23:40:55] [DEBUG] [Database] init_db:1500 - ✅ Manga Challenges table initialized successfully
[2025-09-24 23:40:55] [DEBUG] [Database] init_db:1497 - Initializing User Progress table...
[2025-09-24 23:40:55] [DEBUG] [Database] init_db:1500 - ✅ User Progress table initialized successfully
[2025-09-24 23:40:55] [DEBUG] [Database] init_db:1497 - Initializing Global Challenges table...
[2025-09-24 23:40:55] [INFO] [Database] init_global_challenges_table:1226 - Global challenges table ready with difficulty column.
[2025-09-24 23:40:55] [DEBUG] [Database] init_db:1500 - ✅ Global Challenges table initialized successfully
[2025-09-24 23:40:55] [DEBUG] [Database] init_db:1497 - Initializing Guild Challenge Roles table...
[2025-09-24 23:40:55] [INFO] [Database] init_guild_challenge_roles_table:1408 - 🔧 Initializing guild challenge roles table...
[2025-09-24 23:40:55] [INFO] [Database] get_guild_challenge_roles:2128 - Getting challenge roles for guild 897814031346319382
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:115 - Executing get challenge roles for guild 897814031346319382
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT challenge_id, threshold, role_id 
            FROM guild_challenge_roles 
            WHERE guild_id = ?
            ORDER BY challenge_id, threshold
        
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:142 - get challenge roles for guild 897814031346319382 completed in 0.003s
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:148 - Query returned 13 rows
[2025-09-24 23:40:55] [INFO] [Database] get_guild_challenge_roles:2156 - ✅ Retrieved 13 challenge role configurations for guild 897814031346319382
[2025-09-24 23:40:55] [INFO] [Database] migrate_default_challenge_roles:1440 - Default challenge roles already exist for primary guild 897814031346319382
[2025-09-24 23:40:55] [INFO] [Database] init_guild_challenge_roles_table:1428 - ✅ Guild challenge roles table ready.
[2025-09-24 23:40:55] [DEBUG] [Database] init_db:1500 - ✅ Guild Challenge Roles table initialized successfully
[2025-09-24 23:40:55] [DEBUG] [Database] init_db:1497 - Initializing Invite Tracker table...
[2025-09-24 23:40:55] [INFO] [Database] init_invite_tracker_tables:1316 - Initializing invite tracker tables
[2025-09-24 23:40:55] [INFO] [Database] init_invite_tracker_tables:1383 - ✅ Invite tracker tables initialized successfully
[2025-09-24 23:40:55] [DEBUG] [Database] init_db:1500 - ✅ Invite Tracker table initialized successfully
[2025-09-24 23:40:55] [DEBUG] [Database] init_db:1497 - Initializing Steam Users table...
[2025-09-24 23:40:55] [INFO] [Database] init_steam_users_table:1403 - Steam users table ready.
[2025-09-24 23:40:55] [DEBUG] [Database] init_db:1500 - ✅ Steam Users table initialized successfully
[2025-09-24 23:40:55] [DEBUG] [Database] init_db:1497 - Initializing Challenge Manga table...
[2025-09-24 23:40:55] [DEBUG] [Database] init_db:1500 - ✅ Challenge Manga table initialized successfully
[2025-09-24 23:40:55] [INFO] [Database] init_db:1511 - ============================================================
[2025-09-24 23:40:55] [INFO] [Database] init_db:1512 - DATABASE INITIALIZATION SUMMARY
[2025-09-24 23:40:55] [INFO] [Database] init_db:1513 - Total tables: 13
[2025-09-24 23:40:55] [INFO] [Database] init_db:1514 - Successfully initialized: 13
[2025-09-24 23:40:55] [INFO] [Database] init_db:1515 - Failed to initialize: 0
[2025-09-24 23:40:55] [INFO] [Database] init_db:1516 - Total time: 0.07 seconds
[2025-09-24 23:40:55] [INFO] [Database] init_db:1521 - ✅ All database tables initialized successfully
[2025-09-24 23:40:55] [INFO] [Database] init_db:1523 - ============================================================
[2025-09-24 23:40:55] [INFO] [Database] init_db:1528 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.002s
[2025-09-24 23:40:55] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-24 23:40:58] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 23:40:58] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:40:58] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-24 23:40:58] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:40:58] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 23:40:58] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 23:40:58] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 23:40:58] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 23:40:58] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:40:58] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:40:58] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-24 23:40:58] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 23:40:58] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:40:58] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:40:58] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-24 23:40:58] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 23:40:58] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:40:58] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:40:58] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-24 23:40:58] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 23:40:58] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:40:58] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:40:58] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-24 23:40:58] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 23:40:58] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:40:58] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:40:58] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-24 23:40:58] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 23:40:58] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:40:58] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:40:58] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-24 23:40:58] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 23:40:58] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:40:58] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:40:58] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-24 23:40:58] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 23:40:58] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:40:58] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:40:58] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-24 23:40:58] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 23:41:00] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 23:41:00] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:41:00] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.004s
[2025-09-24 23:41:00] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:41:00] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 23:41:00] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 23:41:00] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 23:41:00] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 23:41:02] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 23:41:02] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:41:02] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-24 23:41:02] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:41:02] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 23:41:02] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 23:41:02] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 23:41:02] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 23:42:52] [INFO] [Database] <module>:60 - ==================================================
[2025-09-24 23:42:52] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-24 23:42:52] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-24 23:42:52] [INFO] [Database] <module>:63 - ==================================================
[2025-09-24 23:42:52] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-24 23:42:52] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-24 23:42:52] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-24 23:42:52] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-24 23:42:52] [INFO] [Database] init_db:1462 - ============================================================
[2025-09-24 23:42:52] [INFO] [Database] init_db:1463 - STARTING DATABASE INITIALIZATION
[2025-09-24 23:42:52] [INFO] [Database] init_db:1464 - ============================================================
[2025-09-24 23:42:52] [INFO] [Database] init_db:1489 - Verifying database connectivity...
[2025-09-24 23:42:52] [INFO] [Database] init_db:1492 - ✅ Database connectivity verified
[2025-09-24 23:42:52] [DEBUG] [Database] init_db:1497 - Initializing Users table...
[2025-09-24 23:42:52] [INFO] [Database] init_users_table:218 - Initializing users table
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-24 23:42:52] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.002s: duplicate column name: anilist_username
[2025-09-24 23:42:52] [DEBUG] [Database] init_users_table:251 - Column 'anilist_username' already exists in users table
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-24 23:42:52] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.002s: duplicate column name: anilist_id
[2025-09-24 23:42:52] [DEBUG] [Database] init_users_table:251 - Column 'anilist_id' already exists in users table
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:115 - Executing add guild_id column to users
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN guild_id INTEGER
[2025-09-24 23:42:52] [ERROR] [Database] execute_db_operation:156 - add guild_id column to users failed after 0.002s: duplicate column name: guild_id
[2025-09-24 23:42:52] [DEBUG] [Database] init_users_table:251 - Column 'guild_id' already exists in users table
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 23:42:52] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.002s: duplicate column name: created_at
[2025-09-24 23:42:52] [DEBUG] [Database] init_users_table:251 - Column 'created_at' already exists in users table
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 23:42:52] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.002s: duplicate column name: updated_at
[2025-09-24 23:42:52] [DEBUG] [Database] init_users_table:251 - Column 'updated_at' already exists in users table
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.002s
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:42:52] [DEBUG] [Database] init_users_table:258 - Users table schema: 8 columns
[2025-09-24 23:42:52] [DEBUG] [Database] init_users_table:260 -   Column: id (INTEGER)
[2025-09-24 23:42:52] [DEBUG] [Database] init_users_table:260 -   Column: discord_id (INTEGER)
[2025-09-24 23:42:52] [DEBUG] [Database] init_users_table:260 -   Column: guild_id (INTEGER)
[2025-09-24 23:42:52] [DEBUG] [Database] init_users_table:260 -   Column: username (TEXT)
[2025-09-24 23:42:52] [DEBUG] [Database] init_users_table:260 -   Column: anilist_username (TEXT)
[2025-09-24 23:42:52] [DEBUG] [Database] init_users_table:260 -   Column: anilist_id (INTEGER)
[2025-09-24 23:42:52] [DEBUG] [Database] init_users_table:260 -   Column: created_at (DATETIME)
[2025-09-24 23:42:52] [DEBUG] [Database] init_users_table:260 -   Column: updated_at (DATETIME)
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:115 - Executing check guild_id usage
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT COUNT(*) FROM users WHERE guild_id IS NOT NULL
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:142 - check guild_id usage completed in 0.002s
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 1
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 1, 'test1')
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 1 completed in 0.007s
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 2
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 2, 'test2')
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 2 completed in 0.006s
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:115 - Executing cleanup test data
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:116 - Query: DELETE FROM users WHERE discord_id = ?
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999,)
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:142 - cleanup test data completed in 0.006s
[2025-09-24 23:42:52] [INFO] [Database] init_users_table:298 - ✅ Multi-guild support confirmed - table supports multiple guilds per user
[2025-09-24 23:42:52] [INFO] [Database] init_users_table:312 - ✅ Users table initialization completed successfully
[2025-09-24 23:42:52] [DEBUG] [Database] init_db:1500 - ✅ Users table initialized successfully
[2025-09-24 23:42:52] [DEBUG] [Database] init_db:1497 - Initializing Challenge Rules table...
[2025-09-24 23:42:52] [INFO] [Database] init_challenge_rules_table:761 - Initializing challenge rules table
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.003s
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME
[2025-09-24 23:42:52] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.002s: duplicate column name: created_at
[2025-09-24 23:42:52] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'created_at' already exists in challenge_rules table
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME
[2025-09-24 23:42:52] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.002s: duplicate column name: updated_at
[2025-09-24 23:42:52] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'updated_at' already exists in challenge_rules table
[2025-09-24 23:42:52] [INFO] [Database] init_challenge_rules_table:790 - ✅ Challenge rules table initialization completed
[2025-09-24 23:42:52] [DEBUG] [Database] init_db:1500 - ✅ Challenge Rules table initialized successfully
[2025-09-24 23:42:52] [DEBUG] [Database] init_db:1497 - Initializing Recommendation Votes table...
[2025-09-24 23:42:52] [INFO] [Database] init_recommendation_votes_table:858 - Manga recommendation votes table ready.
[2025-09-24 23:42:52] [DEBUG] [Database] init_db:1500 - ✅ Recommendation Votes table initialized successfully
[2025-09-24 23:42:52] [DEBUG] [Database] init_db:1497 - Initializing User Stats table...
[2025-09-24 23:42:52] [INFO] [Database] init_user_stats_table:876 - User stats table ready.
[2025-09-24 23:42:52] [DEBUG] [Database] init_db:1500 - ✅ User Stats table initialized successfully
[2025-09-24 23:42:52] [DEBUG] [Database] init_db:1497 - Initializing Achievements table...
[2025-09-24 23:42:52] [INFO] [Database] init_achievements_table:892 - Achievements table ready.
[2025-09-24 23:42:52] [DEBUG] [Database] init_db:1500 - ✅ Achievements table initialized successfully
[2025-09-24 23:42:52] [DEBUG] [Database] init_db:1497 - Initializing User Manga Progress table...
[2025-09-24 23:42:52] [INFO] [Database] init_user_manga_progress_table:928 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-24 23:42:52] [DEBUG] [Database] init_db:1500 - ✅ User Manga Progress table initialized successfully
[2025-09-24 23:42:52] [DEBUG] [Database] init_db:1497 - Initializing Manga Challenges table...
[2025-09-24 23:42:52] [DEBUG] [Database] init_db:1500 - ✅ Manga Challenges table initialized successfully
[2025-09-24 23:42:52] [DEBUG] [Database] init_db:1497 - Initializing User Progress table...
[2025-09-24 23:42:52] [DEBUG] [Database] init_db:1500 - ✅ User Progress table initialized successfully
[2025-09-24 23:42:52] [DEBUG] [Database] init_db:1497 - Initializing Global Challenges table...
[2025-09-24 23:42:52] [INFO] [Database] init_global_challenges_table:1226 - Global challenges table ready with difficulty column.
[2025-09-24 23:42:52] [DEBUG] [Database] init_db:1500 - ✅ Global Challenges table initialized successfully
[2025-09-24 23:42:52] [DEBUG] [Database] init_db:1497 - Initializing Guild Challenge Roles table...
[2025-09-24 23:42:52] [INFO] [Database] init_guild_challenge_roles_table:1408 - 🔧 Initializing guild challenge roles table...
[2025-09-24 23:42:52] [INFO] [Database] get_guild_challenge_roles:2128 - Getting challenge roles for guild 897814031346319382
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:115 - Executing get challenge roles for guild 897814031346319382
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT challenge_id, threshold, role_id 
            FROM guild_challenge_roles 
            WHERE guild_id = ?
            ORDER BY challenge_id, threshold
        
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:142 - get challenge roles for guild 897814031346319382 completed in 0.002s
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:148 - Query returned 13 rows
[2025-09-24 23:42:52] [INFO] [Database] get_guild_challenge_roles:2156 - ✅ Retrieved 13 challenge role configurations for guild 897814031346319382
[2025-09-24 23:42:52] [INFO] [Database] migrate_default_challenge_roles:1440 - Default challenge roles already exist for primary guild 897814031346319382
[2025-09-24 23:42:52] [INFO] [Database] init_guild_challenge_roles_table:1428 - ✅ Guild challenge roles table ready.
[2025-09-24 23:42:52] [DEBUG] [Database] init_db:1500 - ✅ Guild Challenge Roles table initialized successfully
[2025-09-24 23:42:52] [DEBUG] [Database] init_db:1497 - Initializing Invite Tracker table...
[2025-09-24 23:42:52] [INFO] [Database] init_invite_tracker_tables:1316 - Initializing invite tracker tables
[2025-09-24 23:42:52] [INFO] [Database] init_invite_tracker_tables:1383 - ✅ Invite tracker tables initialized successfully
[2025-09-24 23:42:52] [DEBUG] [Database] init_db:1500 - ✅ Invite Tracker table initialized successfully
[2025-09-24 23:42:52] [DEBUG] [Database] init_db:1497 - Initializing Steam Users table...
[2025-09-24 23:42:52] [INFO] [Database] init_steam_users_table:1403 - Steam users table ready.
[2025-09-24 23:42:52] [DEBUG] [Database] init_db:1500 - ✅ Steam Users table initialized successfully
[2025-09-24 23:42:52] [DEBUG] [Database] init_db:1497 - Initializing Challenge Manga table...
[2025-09-24 23:42:52] [DEBUG] [Database] init_db:1500 - ✅ Challenge Manga table initialized successfully
[2025-09-24 23:42:52] [INFO] [Database] init_db:1511 - ============================================================
[2025-09-24 23:42:52] [INFO] [Database] init_db:1512 - DATABASE INITIALIZATION SUMMARY
[2025-09-24 23:42:52] [INFO] [Database] init_db:1513 - Total tables: 13
[2025-09-24 23:42:52] [INFO] [Database] init_db:1514 - Successfully initialized: 13
[2025-09-24 23:42:52] [INFO] [Database] init_db:1515 - Failed to initialize: 0
[2025-09-24 23:42:52] [INFO] [Database] init_db:1516 - Total time: 0.08 seconds
[2025-09-24 23:42:52] [INFO] [Database] init_db:1521 - ✅ All database tables initialized successfully
[2025-09-24 23:42:52] [INFO] [Database] init_db:1523 - ============================================================
[2025-09-24 23:42:52] [INFO] [Database] init_db:1528 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.003s
[2025-09-24 23:42:52] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-24 23:42:55] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 23:42:55] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:42:55] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-24 23:42:55] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:42:55] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 23:42:55] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 23:42:55] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.003s
[2025-09-24 23:42:55] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 23:42:55] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:42:55] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:42:55] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-24 23:42:55] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.008s
[2025-09-24 23:42:55] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:42:55] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:42:55] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-24 23:42:55] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-24 23:42:55] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:42:55] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:42:55] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-24 23:42:55] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 23:42:55] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:42:55] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:42:55] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-24 23:42:55] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 23:42:55] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:42:55] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:42:55] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-24 23:42:55] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 23:42:55] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:42:55] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:42:55] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-24 23:42:55] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 23:42:55] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:42:55] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:42:55] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-24 23:42:55] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 23:42:55] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:42:55] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:42:55] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-24 23:42:55] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 23:42:57] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 23:42:57] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:42:57] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-24 23:42:57] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:42:57] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 23:42:57] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 23:42:57] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 23:42:57] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 23:42:59] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 23:42:59] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:42:59] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-24 23:42:59] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:42:59] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 23:42:59] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 23:42:59] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 23:42:59] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 23:43:31] [INFO] [Database] <module>:60 - ==================================================
[2025-09-24 23:43:31] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-24 23:43:31] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-24 23:43:31] [INFO] [Database] <module>:63 - ==================================================
[2025-09-24 23:43:31] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-24 23:43:31] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-24 23:43:31] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-24 23:43:31] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-24 23:43:31] [INFO] [Database] init_db:1462 - ============================================================
[2025-09-24 23:43:31] [INFO] [Database] init_db:1463 - STARTING DATABASE INITIALIZATION
[2025-09-24 23:43:31] [INFO] [Database] init_db:1464 - ============================================================
[2025-09-24 23:43:31] [INFO] [Database] init_db:1489 - Verifying database connectivity...
[2025-09-24 23:43:31] [INFO] [Database] init_db:1492 - ✅ Database connectivity verified
[2025-09-24 23:43:31] [DEBUG] [Database] init_db:1497 - Initializing Users table...
[2025-09-24 23:43:31] [INFO] [Database] init_users_table:218 - Initializing users table
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-24 23:43:31] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.002s: duplicate column name: anilist_username
[2025-09-24 23:43:31] [DEBUG] [Database] init_users_table:251 - Column 'anilist_username' already exists in users table
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-24 23:43:31] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.001s: duplicate column name: anilist_id
[2025-09-24 23:43:31] [DEBUG] [Database] init_users_table:251 - Column 'anilist_id' already exists in users table
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:115 - Executing add guild_id column to users
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN guild_id INTEGER
[2025-09-24 23:43:31] [ERROR] [Database] execute_db_operation:156 - add guild_id column to users failed after 0.002s: duplicate column name: guild_id
[2025-09-24 23:43:31] [DEBUG] [Database] init_users_table:251 - Column 'guild_id' already exists in users table
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 23:43:31] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.002s: duplicate column name: created_at
[2025-09-24 23:43:31] [DEBUG] [Database] init_users_table:251 - Column 'created_at' already exists in users table
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 23:43:31] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.003s: duplicate column name: updated_at
[2025-09-24 23:43:31] [DEBUG] [Database] init_users_table:251 - Column 'updated_at' already exists in users table
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.002s
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:43:31] [DEBUG] [Database] init_users_table:258 - Users table schema: 8 columns
[2025-09-24 23:43:31] [DEBUG] [Database] init_users_table:260 -   Column: id (INTEGER)
[2025-09-24 23:43:31] [DEBUG] [Database] init_users_table:260 -   Column: discord_id (INTEGER)
[2025-09-24 23:43:31] [DEBUG] [Database] init_users_table:260 -   Column: guild_id (INTEGER)
[2025-09-24 23:43:31] [DEBUG] [Database] init_users_table:260 -   Column: username (TEXT)
[2025-09-24 23:43:31] [DEBUG] [Database] init_users_table:260 -   Column: anilist_username (TEXT)
[2025-09-24 23:43:31] [DEBUG] [Database] init_users_table:260 -   Column: anilist_id (INTEGER)
[2025-09-24 23:43:31] [DEBUG] [Database] init_users_table:260 -   Column: created_at (DATETIME)
[2025-09-24 23:43:31] [DEBUG] [Database] init_users_table:260 -   Column: updated_at (DATETIME)
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:115 - Executing check guild_id usage
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT COUNT(*) FROM users WHERE guild_id IS NOT NULL
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:142 - check guild_id usage completed in 0.002s
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 1
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 1, 'test1')
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 1 completed in 0.005s
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 2
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 2, 'test2')
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 2 completed in 0.007s
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:115 - Executing cleanup test data
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:116 - Query: DELETE FROM users WHERE discord_id = ?
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999,)
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:142 - cleanup test data completed in 0.005s
[2025-09-24 23:43:31] [INFO] [Database] init_users_table:298 - ✅ Multi-guild support confirmed - table supports multiple guilds per user
[2025-09-24 23:43:31] [INFO] [Database] init_users_table:312 - ✅ Users table initialization completed successfully
[2025-09-24 23:43:31] [DEBUG] [Database] init_db:1500 - ✅ Users table initialized successfully
[2025-09-24 23:43:31] [DEBUG] [Database] init_db:1497 - Initializing Challenge Rules table...
[2025-09-24 23:43:31] [INFO] [Database] init_challenge_rules_table:761 - Initializing challenge rules table
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.002s
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME
[2025-09-24 23:43:31] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.002s: duplicate column name: created_at
[2025-09-24 23:43:31] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'created_at' already exists in challenge_rules table
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME
[2025-09-24 23:43:31] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.001s: duplicate column name: updated_at
[2025-09-24 23:43:31] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'updated_at' already exists in challenge_rules table
[2025-09-24 23:43:31] [INFO] [Database] init_challenge_rules_table:790 - ✅ Challenge rules table initialization completed
[2025-09-24 23:43:31] [DEBUG] [Database] init_db:1500 - ✅ Challenge Rules table initialized successfully
[2025-09-24 23:43:31] [DEBUG] [Database] init_db:1497 - Initializing Recommendation Votes table...
[2025-09-24 23:43:31] [INFO] [Database] init_recommendation_votes_table:858 - Manga recommendation votes table ready.
[2025-09-24 23:43:31] [DEBUG] [Database] init_db:1500 - ✅ Recommendation Votes table initialized successfully
[2025-09-24 23:43:31] [DEBUG] [Database] init_db:1497 - Initializing User Stats table...
[2025-09-24 23:43:31] [INFO] [Database] init_user_stats_table:876 - User stats table ready.
[2025-09-24 23:43:31] [DEBUG] [Database] init_db:1500 - ✅ User Stats table initialized successfully
[2025-09-24 23:43:31] [DEBUG] [Database] init_db:1497 - Initializing Achievements table...
[2025-09-24 23:43:31] [INFO] [Database] init_achievements_table:892 - Achievements table ready.
[2025-09-24 23:43:31] [DEBUG] [Database] init_db:1500 - ✅ Achievements table initialized successfully
[2025-09-24 23:43:31] [DEBUG] [Database] init_db:1497 - Initializing User Manga Progress table...
[2025-09-24 23:43:31] [INFO] [Database] init_user_manga_progress_table:928 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-24 23:43:31] [DEBUG] [Database] init_db:1500 - ✅ User Manga Progress table initialized successfully
[2025-09-24 23:43:31] [DEBUG] [Database] init_db:1497 - Initializing Manga Challenges table...
[2025-09-24 23:43:31] [DEBUG] [Database] init_db:1500 - ✅ Manga Challenges table initialized successfully
[2025-09-24 23:43:31] [DEBUG] [Database] init_db:1497 - Initializing User Progress table...
[2025-09-24 23:43:31] [DEBUG] [Database] init_db:1500 - ✅ User Progress table initialized successfully
[2025-09-24 23:43:31] [DEBUG] [Database] init_db:1497 - Initializing Global Challenges table...
[2025-09-24 23:43:31] [INFO] [Database] init_global_challenges_table:1226 - Global challenges table ready with difficulty column.
[2025-09-24 23:43:31] [DEBUG] [Database] init_db:1500 - ✅ Global Challenges table initialized successfully
[2025-09-24 23:43:31] [DEBUG] [Database] init_db:1497 - Initializing Guild Challenge Roles table...
[2025-09-24 23:43:31] [INFO] [Database] init_guild_challenge_roles_table:1408 - 🔧 Initializing guild challenge roles table...
[2025-09-24 23:43:31] [INFO] [Database] get_guild_challenge_roles:2128 - Getting challenge roles for guild 897814031346319382
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:115 - Executing get challenge roles for guild 897814031346319382
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT challenge_id, threshold, role_id 
            FROM guild_challenge_roles 
            WHERE guild_id = ?
            ORDER BY challenge_id, threshold
        
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:142 - get challenge roles for guild 897814031346319382 completed in 0.002s
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:148 - Query returned 13 rows
[2025-09-24 23:43:31] [INFO] [Database] get_guild_challenge_roles:2156 - ✅ Retrieved 13 challenge role configurations for guild 897814031346319382
[2025-09-24 23:43:31] [INFO] [Database] migrate_default_challenge_roles:1440 - Default challenge roles already exist for primary guild 897814031346319382
[2025-09-24 23:43:31] [INFO] [Database] init_guild_challenge_roles_table:1428 - ✅ Guild challenge roles table ready.
[2025-09-24 23:43:31] [DEBUG] [Database] init_db:1500 - ✅ Guild Challenge Roles table initialized successfully
[2025-09-24 23:43:31] [DEBUG] [Database] init_db:1497 - Initializing Invite Tracker table...
[2025-09-24 23:43:31] [INFO] [Database] init_invite_tracker_tables:1316 - Initializing invite tracker tables
[2025-09-24 23:43:31] [INFO] [Database] init_invite_tracker_tables:1383 - ✅ Invite tracker tables initialized successfully
[2025-09-24 23:43:31] [DEBUG] [Database] init_db:1500 - ✅ Invite Tracker table initialized successfully
[2025-09-24 23:43:31] [DEBUG] [Database] init_db:1497 - Initializing Steam Users table...
[2025-09-24 23:43:31] [INFO] [Database] init_steam_users_table:1403 - Steam users table ready.
[2025-09-24 23:43:31] [DEBUG] [Database] init_db:1500 - ✅ Steam Users table initialized successfully
[2025-09-24 23:43:31] [DEBUG] [Database] init_db:1497 - Initializing Challenge Manga table...
[2025-09-24 23:43:31] [DEBUG] [Database] init_db:1500 - ✅ Challenge Manga table initialized successfully
[2025-09-24 23:43:31] [INFO] [Database] init_db:1511 - ============================================================
[2025-09-24 23:43:31] [INFO] [Database] init_db:1512 - DATABASE INITIALIZATION SUMMARY
[2025-09-24 23:43:31] [INFO] [Database] init_db:1513 - Total tables: 13
[2025-09-24 23:43:31] [INFO] [Database] init_db:1514 - Successfully initialized: 13
[2025-09-24 23:43:31] [INFO] [Database] init_db:1515 - Failed to initialize: 0
[2025-09-24 23:43:31] [INFO] [Database] init_db:1516 - Total time: 0.07 seconds
[2025-09-24 23:43:31] [INFO] [Database] init_db:1521 - ✅ All database tables initialized successfully
[2025-09-24 23:43:31] [INFO] [Database] init_db:1523 - ============================================================
[2025-09-24 23:43:31] [INFO] [Database] init_db:1528 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.002s
[2025-09-24 23:43:31] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-24 23:43:34] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 23:43:34] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:43:34] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-24 23:43:34] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:43:34] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 23:43:34] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 23:43:34] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 23:43:34] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 23:43:34] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:43:34] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:43:34] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-24 23:43:34] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 23:43:34] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:43:34] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:43:34] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-24 23:43:34] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 23:43:34] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:43:34] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:43:34] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-24 23:43:34] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 23:43:34] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:43:34] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:43:34] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-24 23:43:34] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 23:43:34] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:43:34] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:43:34] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-24 23:43:34] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 23:43:34] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:43:34] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:43:34] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-24 23:43:34] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 23:43:34] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:43:34] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:43:34] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-24 23:43:34] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 23:43:34] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:43:34] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:43:34] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-24 23:43:34] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 23:43:36] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 23:43:36] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:43:36] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.004s
[2025-09-24 23:43:36] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:43:36] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 23:43:36] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 23:43:36] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 23:43:36] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 23:43:38] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 23:43:38] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:43:38] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-24 23:43:38] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:43:38] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 23:43:38] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 23:43:38] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 23:43:38] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 23:45:27] [INFO] [Database] get_all_users_guild_aware:1923 - Getting all users for guild 897814031346319382
[2025-09-24 23:45:27] [DEBUG] [Database] execute_db_operation:115 - Executing get all users for guild 897814031346319382
[2025-09-24 23:45:27] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE guild_id = ?
[2025-09-24 23:45:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 23:45:27] [DEBUG] [Database] execute_db_operation:142 - get all users for guild 897814031346319382 completed in 0.002s
[2025-09-24 23:45:27] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-24 23:45:27] [INFO] [Database] get_all_users_guild_aware:1937 - ✅ Retrieved 18 users for guild 897814031346319382
[2025-09-24 23:45:28] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user Kyerstorm (Discord ID: 331164413623009281, Guild ID: 897814031346319382)
[2025-09-24 23:45:28] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 331164413623009281
[2025-09-24 23:45:28] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user Kyerstorm (Discord ID: 331164413623009281)
[2025-09-24 23:45:28] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 1455, Anime: 473, Chapters: 161685, Episodes: 5911
[2025-09-24 23:45:28] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 64.01, Anime: 65.86
[2025-09-24 23:45:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for Kyerstorm
[2025-09-24 23:45:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:45:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: (331164413623009281, 'Kyerstorm', 1455, 473, 64.01, 65.86, 161685, 5911)
[2025-09-24 23:45:28] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for Kyerstorm completed in 0.002s
[2025-09-24 23:45:28] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for Kyerstorm
[2025-09-24 23:45:28] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user AZackInTime (Discord ID: 359452133831081984, Guild ID: 897814031346319382)
[2025-09-24 23:45:28] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 359452133831081984
[2025-09-24 23:45:28] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user AZackInTime (Discord ID: 359452133831081984)
[2025-09-24 23:45:28] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 755, Anime: 901, Chapters: 78309, Episodes: 13292
[2025-09-24 23:45:28] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 68.84, Anime: 68.66
[2025-09-24 23:45:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for AZackInTime
[2025-09-24 23:45:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:45:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: (359452133831081984, 'AZackInTime', 755, 901, 68.84, 68.66, 78309, 13292)
[2025-09-24 23:45:28] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for AZackInTime completed in 0.002s
[2025-09-24 23:45:28] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for AZackInTime
[2025-09-24 23:45:28] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user NobodyImportant (Discord ID: 360165403777040385, Guild ID: 897814031346319382)
[2025-09-24 23:45:28] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 360165403777040385
[2025-09-24 23:45:28] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user NobodyImportant (Discord ID: 360165403777040385)
[2025-09-24 23:45:28] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 901, Anime: 230, Chapters: 32970, Episodes: 4508
[2025-09-24 23:45:28] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 80.81, Anime: 89.40
[2025-09-24 23:45:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for NobodyImportant
[2025-09-24 23:45:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:45:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: (360165403777040385, 'NobodyImportant', 901, 230, 80.81, 89.4, 32970, 4508)
[2025-09-24 23:45:28] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for NobodyImportant completed in 0.002s
[2025-09-24 23:45:28] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for NobodyImportant
[2025-09-24 23:45:28] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user xuehua (Discord ID: 369957492962099201, Guild ID: 897814031346319382)
[2025-09-24 23:45:28] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 369957492962099201
[2025-09-24 23:45:28] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user xuehua (Discord ID: 369957492962099201)
[2025-09-24 23:45:28] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 144, Anime: 1430, Chapters: 9162, Episodes: 21089
[2025-09-24 23:45:28] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 0.00, Anime: 0.00
[2025-09-24 23:45:28] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for xuehua
[2025-09-24 23:45:28] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:45:28] [DEBUG] [Database] execute_db_operation:118 - Parameters: (369957492962099201, 'xuehua', 144, 1430, 0.0, 0.0, 9162, 21089)
[2025-09-24 23:45:28] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for xuehua completed in 0.005s
[2025-09-24 23:45:28] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for xuehua
[2025-09-24 23:45:29] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user nottdenito (Discord ID: 397394309977997314, Guild ID: 897814031346319382)
[2025-09-24 23:45:29] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 397394309977997314
[2025-09-24 23:45:29] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user nottdenito (Discord ID: 397394309977997314)
[2025-09-24 23:45:29] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 403, Anime: 725, Chapters: 24096, Episodes: 11724
[2025-09-24 23:45:29] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 3.21, Anime: 3.19
[2025-09-24 23:45:29] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for nottdenito
[2025-09-24 23:45:29] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:45:29] [DEBUG] [Database] execute_db_operation:118 - Parameters: (397394309977997314, 'nottdenito', 403, 725, 3.21, 3.19, 24096, 11724)
[2025-09-24 23:45:29] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for nottdenito completed in 0.003s
[2025-09-24 23:45:29] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for nottdenito
[2025-09-24 23:45:29] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user Tes (Discord ID: 461675352952012801, Guild ID: 897814031346319382)
[2025-09-24 23:45:29] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 461675352952012801
[2025-09-24 23:45:29] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user Tes (Discord ID: 461675352952012801)
[2025-09-24 23:45:29] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 563, Anime: 116, Chapters: 122004, Episodes: 5581
[2025-09-24 23:45:29] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 75.62, Anime: 78.23
[2025-09-24 23:45:29] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for Tes
[2025-09-24 23:45:29] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:45:29] [DEBUG] [Database] execute_db_operation:118 - Parameters: (461675352952012801, 'Tes', 563, 116, 75.62, 78.23, 122004, 5581)
[2025-09-24 23:45:29] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for Tes completed in 0.002s
[2025-09-24 23:45:29] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for Tes
[2025-09-24 23:45:30] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user raidflexer (Discord ID: 503946204296773642, Guild ID: 897814031346319382)
[2025-09-24 23:45:30] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 503946204296773642
[2025-09-24 23:45:30] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user raidflexer (Discord ID: 503946204296773642)
[2025-09-24 23:45:30] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 624, Anime: 120, Chapters: 37382, Episodes: 3620
[2025-09-24 23:45:30] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 2.77, Anime: 2.93
[2025-09-24 23:45:30] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for raidflexer
[2025-09-24 23:45:30] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:45:30] [DEBUG] [Database] execute_db_operation:118 - Parameters: (503946204296773642, 'raidflexer', 624, 120, 2.77, 2.93, 37382, 3620)
[2025-09-24 23:45:30] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for raidflexer completed in 0.002s
[2025-09-24 23:45:30] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for raidflexer
[2025-09-24 23:45:30] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user ThatJayGuy (Discord ID: 528583472663494656, Guild ID: 897814031346319382)
[2025-09-24 23:45:30] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 528583472663494656
[2025-09-24 23:45:30] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user ThatJayGuy (Discord ID: 528583472663494656)
[2025-09-24 23:45:30] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 1178, Anime: 521, Chapters: 82696, Episodes: 8309
[2025-09-24 23:45:30] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 0.00, Anime: 1.00
[2025-09-24 23:45:30] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for ThatJayGuy
[2025-09-24 23:45:30] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:45:30] [DEBUG] [Database] execute_db_operation:118 - Parameters: (528583472663494656, 'ThatJayGuy', 1178, 521, 0.0, 1.0, 82696, 8309)
[2025-09-24 23:45:30] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for ThatJayGuy completed in 0.003s
[2025-09-24 23:45:30] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for ThatJayGuy
[2025-09-24 23:45:30] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user JellyJelmo (Discord ID: 586185435399716864, Guild ID: 897814031346319382)
[2025-09-24 23:45:30] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 586185435399716864
[2025-09-24 23:45:30] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user JellyJelmo (Discord ID: 586185435399716864)
[2025-09-24 23:45:30] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 333, Anime: 89, Chapters: 68754, Episodes: 3946
[2025-09-24 23:45:30] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 0.00, Anime: 2.70
[2025-09-24 23:45:30] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for JellyJelmo
[2025-09-24 23:45:30] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:45:30] [DEBUG] [Database] execute_db_operation:118 - Parameters: (586185435399716864, 'JellyJelmo', 333, 89, 0.0, 2.7, 68754, 3946)
[2025-09-24 23:45:30] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for JellyJelmo completed in 0.002s
[2025-09-24 23:45:30] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for JellyJelmo
[2025-09-24 23:45:31] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user LinClick (Discord ID: 591244355096936459, Guild ID: 897814031346319382)
[2025-09-24 23:45:31] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 591244355096936459
[2025-09-24 23:45:31] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user LinClick (Discord ID: 591244355096936459)
[2025-09-24 23:45:31] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 1550, Anime: 223, Chapters: 118586, Episodes: 5491
[2025-09-24 23:45:31] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 0.00, Anime: 75.20
[2025-09-24 23:45:31] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for LinClick
[2025-09-24 23:45:31] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:45:31] [DEBUG] [Database] execute_db_operation:118 - Parameters: (591244355096936459, 'LinClick', 1550, 223, 0.0, 75.2, 118586, 5491)
[2025-09-24 23:45:31] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for LinClick completed in 0.002s
[2025-09-24 23:45:31] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for LinClick
[2025-09-24 23:45:31] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user Ruebin (Discord ID: 772776679608156180, Guild ID: 897814031346319382)
[2025-09-24 23:45:31] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 772776679608156180
[2025-09-24 23:45:31] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user Ruebin (Discord ID: 772776679608156180)
[2025-09-24 23:45:31] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 98, Anime: 63, Chapters: 25404, Episodes: 2405
[2025-09-24 23:45:31] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 89.11, Anime: 85.08
[2025-09-24 23:45:31] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for Ruebin
[2025-09-24 23:45:31] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:45:31] [DEBUG] [Database] execute_db_operation:118 - Parameters: (772776679608156180, 'Ruebin', 98, 63, 89.11, 85.08, 25404, 2405)
[2025-09-24 23:45:31] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for Ruebin completed in 0.003s
[2025-09-24 23:45:31] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for Ruebin
[2025-09-24 23:45:31] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user 1Frieren (Discord ID: 905468832406179850, Guild ID: 897814031346319382)
[2025-09-24 23:45:31] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 905468832406179850
[2025-09-24 23:45:31] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user 1Frieren (Discord ID: 905468832406179850)
[2025-09-24 23:45:31] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 51, Anime: 657, Chapters: 7027, Episodes: 11571
[2025-09-24 23:45:31] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 0.00, Anime: 5.00
[2025-09-24 23:45:31] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for 1Frieren
[2025-09-24 23:45:31] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:45:31] [DEBUG] [Database] execute_db_operation:118 - Parameters: (905468832406179850, '1Frieren', 51, 657, 0.0, 5.0, 7027, 11571)
[2025-09-24 23:45:31] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for 1Frieren completed in 0.002s
[2025-09-24 23:45:31] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for 1Frieren
[2025-09-24 23:45:32] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user Judasz (Discord ID: 1019960555341107271, Guild ID: 897814031346319382)
[2025-09-24 23:45:32] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 1019960555341107271
[2025-09-24 23:45:32] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user Judasz (Discord ID: 1019960555341107271)
[2025-09-24 23:45:32] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 99, Anime: 305, Chapters: 12723, Episodes: 8211
[2025-09-24 23:45:32] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 2.35, Anime: 0.00
[2025-09-24 23:45:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for Judasz
[2025-09-24 23:45:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:45:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: (1019960555341107271, 'Judasz', 99, 305, 2.35, 0.0, 12723, 8211)
[2025-09-24 23:45:32] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for Judasz completed in 0.002s
[2025-09-24 23:45:32] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for Judasz
[2025-09-24 23:45:32] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user MyeTezz (Discord ID: 1034606763330248744, Guild ID: 897814031346319382)
[2025-09-24 23:45:32] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 1034606763330248744
[2025-09-24 23:45:32] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user MyeTezz (Discord ID: 1034606763330248744)
[2025-09-24 23:45:32] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 836, Anime: 1113, Chapters: 63947, Episodes: 11292
[2025-09-24 23:45:32] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 0.00, Anime: 0.00
[2025-09-24 23:45:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for MyeTezz
[2025-09-24 23:45:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:45:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: (1034606763330248744, 'MyeTezz', 836, 1113, 0.0, 0.0, 63947, 11292)
[2025-09-24 23:45:32] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for MyeTezz completed in 0.002s
[2025-09-24 23:45:32] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for MyeTezz
[2025-09-24 23:45:32] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user N006 (Discord ID: 1262304313481625704, Guild ID: 897814031346319382)
[2025-09-24 23:45:32] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 1262304313481625704
[2025-09-24 23:45:32] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user N006 (Discord ID: 1262304313481625704)
[2025-09-24 23:45:32] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 5, Anime: 834, Chapters: 345, Episodes: 11163
[2025-09-24 23:45:32] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 84.00, Anime: 70.21
[2025-09-24 23:45:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for N006
[2025-09-24 23:45:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:45:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: (1262304313481625704, 'N006', 5, 834, 84.0, 70.21, 345, 11163)
[2025-09-24 23:45:32] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for N006 completed in 0.002s
[2025-09-24 23:45:32] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for N006
[2025-09-24 23:45:33] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user Vireon (Discord ID: 1419744000977403994, Guild ID: 897814031346319382)
[2025-09-24 23:45:33] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 1419744000977403994
[2025-09-24 23:45:33] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user Vireon (Discord ID: 1419744000977403994)
[2025-09-24 23:45:33] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 1143, Anime: 2218, Chapters: 184146, Episodes: 49333
[2025-09-24 23:45:33] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 6.41, Anime: 0.00
[2025-09-24 23:45:33] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for Vireon
[2025-09-24 23:45:33] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:45:33] [DEBUG] [Database] execute_db_operation:118 - Parameters: (1419744000977403994, 'Vireon', 1143, 2218, 6.41, 0.0, 184146, 49333)
[2025-09-24 23:45:33] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for Vireon completed in 0.002s
[2025-09-24 23:45:33] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for Vireon
[2025-09-24 23:45:33] [INFO] [Database] get_guild_leaderboard_data:1849 - Getting episodes leaderboard data for guild 897814031346319382
[2025-09-24 23:45:33] [ERROR] [Database] get_guild_leaderboard_data:1914 - Validation error getting guild leaderboard: Invalid leaderboard_type: episodes
[2025-09-24 23:47:46] [INFO] [Database] <module>:60 - ==================================================
[2025-09-24 23:47:46] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-24 23:47:46] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-24 23:47:46] [INFO] [Database] <module>:63 - ==================================================
[2025-09-24 23:47:46] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-24 23:47:46] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-24 23:47:46] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-24 23:47:46] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-24 23:47:46] [INFO] [Database] init_db:1462 - ============================================================
[2025-09-24 23:47:46] [INFO] [Database] init_db:1463 - STARTING DATABASE INITIALIZATION
[2025-09-24 23:47:46] [INFO] [Database] init_db:1464 - ============================================================
[2025-09-24 23:47:46] [INFO] [Database] init_db:1489 - Verifying database connectivity...
[2025-09-24 23:47:46] [INFO] [Database] init_db:1492 - ✅ Database connectivity verified
[2025-09-24 23:47:46] [DEBUG] [Database] init_db:1497 - Initializing Users table...
[2025-09-24 23:47:46] [INFO] [Database] init_users_table:218 - Initializing users table
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-24 23:47:46] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.002s: duplicate column name: anilist_username
[2025-09-24 23:47:46] [DEBUG] [Database] init_users_table:251 - Column 'anilist_username' already exists in users table
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-24 23:47:46] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.001s: duplicate column name: anilist_id
[2025-09-24 23:47:46] [DEBUG] [Database] init_users_table:251 - Column 'anilist_id' already exists in users table
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:115 - Executing add guild_id column to users
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN guild_id INTEGER
[2025-09-24 23:47:46] [ERROR] [Database] execute_db_operation:156 - add guild_id column to users failed after 0.002s: duplicate column name: guild_id
[2025-09-24 23:47:46] [DEBUG] [Database] init_users_table:251 - Column 'guild_id' already exists in users table
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 23:47:46] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.001s: duplicate column name: created_at
[2025-09-24 23:47:46] [DEBUG] [Database] init_users_table:251 - Column 'created_at' already exists in users table
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 23:47:46] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.002s: duplicate column name: updated_at
[2025-09-24 23:47:46] [DEBUG] [Database] init_users_table:251 - Column 'updated_at' already exists in users table
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.002s
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:47:46] [DEBUG] [Database] init_users_table:258 - Users table schema: 8 columns
[2025-09-24 23:47:46] [DEBUG] [Database] init_users_table:260 -   Column: id (INTEGER)
[2025-09-24 23:47:46] [DEBUG] [Database] init_users_table:260 -   Column: discord_id (INTEGER)
[2025-09-24 23:47:46] [DEBUG] [Database] init_users_table:260 -   Column: guild_id (INTEGER)
[2025-09-24 23:47:46] [DEBUG] [Database] init_users_table:260 -   Column: username (TEXT)
[2025-09-24 23:47:46] [DEBUG] [Database] init_users_table:260 -   Column: anilist_username (TEXT)
[2025-09-24 23:47:46] [DEBUG] [Database] init_users_table:260 -   Column: anilist_id (INTEGER)
[2025-09-24 23:47:46] [DEBUG] [Database] init_users_table:260 -   Column: created_at (DATETIME)
[2025-09-24 23:47:46] [DEBUG] [Database] init_users_table:260 -   Column: updated_at (DATETIME)
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:115 - Executing check guild_id usage
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT COUNT(*) FROM users WHERE guild_id IS NOT NULL
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:142 - check guild_id usage completed in 0.002s
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 1
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 1, 'test1')
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 1 completed in 0.006s
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 2
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 2, 'test2')
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 2 completed in 0.005s
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:115 - Executing cleanup test data
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:116 - Query: DELETE FROM users WHERE discord_id = ?
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999,)
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:142 - cleanup test data completed in 0.005s
[2025-09-24 23:47:46] [INFO] [Database] init_users_table:298 - ✅ Multi-guild support confirmed - table supports multiple guilds per user
[2025-09-24 23:47:46] [INFO] [Database] init_users_table:312 - ✅ Users table initialization completed successfully
[2025-09-24 23:47:46] [DEBUG] [Database] init_db:1500 - ✅ Users table initialized successfully
[2025-09-24 23:47:46] [DEBUG] [Database] init_db:1497 - Initializing Challenge Rules table...
[2025-09-24 23:47:46] [INFO] [Database] init_challenge_rules_table:761 - Initializing challenge rules table
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.003s
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME
[2025-09-24 23:47:46] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.001s: duplicate column name: created_at
[2025-09-24 23:47:46] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'created_at' already exists in challenge_rules table
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME
[2025-09-24 23:47:46] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.001s: duplicate column name: updated_at
[2025-09-24 23:47:46] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'updated_at' already exists in challenge_rules table
[2025-09-24 23:47:46] [INFO] [Database] init_challenge_rules_table:790 - ✅ Challenge rules table initialization completed
[2025-09-24 23:47:46] [DEBUG] [Database] init_db:1500 - ✅ Challenge Rules table initialized successfully
[2025-09-24 23:47:46] [DEBUG] [Database] init_db:1497 - Initializing Recommendation Votes table...
[2025-09-24 23:47:46] [INFO] [Database] init_recommendation_votes_table:858 - Manga recommendation votes table ready.
[2025-09-24 23:47:46] [DEBUG] [Database] init_db:1500 - ✅ Recommendation Votes table initialized successfully
[2025-09-24 23:47:46] [DEBUG] [Database] init_db:1497 - Initializing User Stats table...
[2025-09-24 23:47:46] [INFO] [Database] init_user_stats_table:876 - User stats table ready.
[2025-09-24 23:47:46] [DEBUG] [Database] init_db:1500 - ✅ User Stats table initialized successfully
[2025-09-24 23:47:46] [DEBUG] [Database] init_db:1497 - Initializing Achievements table...
[2025-09-24 23:47:46] [INFO] [Database] init_achievements_table:892 - Achievements table ready.
[2025-09-24 23:47:46] [DEBUG] [Database] init_db:1500 - ✅ Achievements table initialized successfully
[2025-09-24 23:47:46] [DEBUG] [Database] init_db:1497 - Initializing User Manga Progress table...
[2025-09-24 23:47:46] [INFO] [Database] init_user_manga_progress_table:928 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-24 23:47:46] [DEBUG] [Database] init_db:1500 - ✅ User Manga Progress table initialized successfully
[2025-09-24 23:47:46] [DEBUG] [Database] init_db:1497 - Initializing Manga Challenges table...
[2025-09-24 23:47:46] [DEBUG] [Database] init_db:1500 - ✅ Manga Challenges table initialized successfully
[2025-09-24 23:47:46] [DEBUG] [Database] init_db:1497 - Initializing User Progress table...
[2025-09-24 23:47:46] [DEBUG] [Database] init_db:1500 - ✅ User Progress table initialized successfully
[2025-09-24 23:47:46] [DEBUG] [Database] init_db:1497 - Initializing Global Challenges table...
[2025-09-24 23:47:46] [INFO] [Database] init_global_challenges_table:1226 - Global challenges table ready with difficulty column.
[2025-09-24 23:47:46] [DEBUG] [Database] init_db:1500 - ✅ Global Challenges table initialized successfully
[2025-09-24 23:47:46] [DEBUG] [Database] init_db:1497 - Initializing Guild Challenge Roles table...
[2025-09-24 23:47:46] [INFO] [Database] init_guild_challenge_roles_table:1408 - 🔧 Initializing guild challenge roles table...
[2025-09-24 23:47:46] [INFO] [Database] get_guild_challenge_roles:2132 - Getting challenge roles for guild 897814031346319382
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:115 - Executing get challenge roles for guild 897814031346319382
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT challenge_id, threshold, role_id 
            FROM guild_challenge_roles 
            WHERE guild_id = ?
            ORDER BY challenge_id, threshold
        
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:142 - get challenge roles for guild 897814031346319382 completed in 0.003s
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:148 - Query returned 13 rows
[2025-09-24 23:47:46] [INFO] [Database] get_guild_challenge_roles:2160 - ✅ Retrieved 13 challenge role configurations for guild 897814031346319382
[2025-09-24 23:47:46] [INFO] [Database] migrate_default_challenge_roles:1440 - Default challenge roles already exist for primary guild 897814031346319382
[2025-09-24 23:47:46] [INFO] [Database] init_guild_challenge_roles_table:1428 - ✅ Guild challenge roles table ready.
[2025-09-24 23:47:46] [DEBUG] [Database] init_db:1500 - ✅ Guild Challenge Roles table initialized successfully
[2025-09-24 23:47:46] [DEBUG] [Database] init_db:1497 - Initializing Invite Tracker table...
[2025-09-24 23:47:46] [INFO] [Database] init_invite_tracker_tables:1316 - Initializing invite tracker tables
[2025-09-24 23:47:46] [INFO] [Database] init_invite_tracker_tables:1383 - ✅ Invite tracker tables initialized successfully
[2025-09-24 23:47:46] [DEBUG] [Database] init_db:1500 - ✅ Invite Tracker table initialized successfully
[2025-09-24 23:47:46] [DEBUG] [Database] init_db:1497 - Initializing Steam Users table...
[2025-09-24 23:47:46] [INFO] [Database] init_steam_users_table:1403 - Steam users table ready.
[2025-09-24 23:47:46] [DEBUG] [Database] init_db:1500 - ✅ Steam Users table initialized successfully
[2025-09-24 23:47:46] [DEBUG] [Database] init_db:1497 - Initializing Challenge Manga table...
[2025-09-24 23:47:46] [DEBUG] [Database] init_db:1500 - ✅ Challenge Manga table initialized successfully
[2025-09-24 23:47:46] [INFO] [Database] init_db:1511 - ============================================================
[2025-09-24 23:47:46] [INFO] [Database] init_db:1512 - DATABASE INITIALIZATION SUMMARY
[2025-09-24 23:47:46] [INFO] [Database] init_db:1513 - Total tables: 13
[2025-09-24 23:47:46] [INFO] [Database] init_db:1514 - Successfully initialized: 13
[2025-09-24 23:47:46] [INFO] [Database] init_db:1515 - Failed to initialize: 0
[2025-09-24 23:47:46] [INFO] [Database] init_db:1516 - Total time: 0.07 seconds
[2025-09-24 23:47:46] [INFO] [Database] init_db:1521 - ✅ All database tables initialized successfully
[2025-09-24 23:47:46] [INFO] [Database] init_db:1523 - ============================================================
[2025-09-24 23:47:46] [INFO] [Database] init_db:1528 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.002s
[2025-09-24 23:47:46] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-24 23:47:49] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 23:47:49] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:47:49] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-24 23:47:49] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:47:49] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 23:47:49] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 23:47:49] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 23:47:49] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 23:47:50] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:47:50] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:47:50] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-24 23:47:50] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 23:47:50] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:47:50] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:47:50] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-24 23:47:50] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 23:47:50] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:47:50] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:47:50] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-24 23:47:50] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 23:47:50] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:47:50] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:47:50] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-24 23:47:50] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 23:47:50] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:47:50] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:47:50] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-24 23:47:50] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 23:47:50] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:47:50] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:47:50] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-24 23:47:50] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 23:47:50] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:47:50] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:47:50] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-24 23:47:50] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 23:47:50] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:47:50] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:47:50] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-24 23:47:50] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 23:47:51] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 23:47:51] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:47:51] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-24 23:47:51] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:47:51] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 23:47:51] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 23:47:51] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 23:47:51] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 23:47:53] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 23:47:53] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:47:53] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-24 23:47:53] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:47:53] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 23:47:53] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 23:47:53] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 23:47:53] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 23:48:01] [INFO] [Database] get_all_users_guild_aware:1927 - Getting all users for guild 897814031346319382
[2025-09-24 23:48:01] [DEBUG] [Database] execute_db_operation:115 - Executing get all users for guild 897814031346319382
[2025-09-24 23:48:01] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE guild_id = ?
[2025-09-24 23:48:01] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 23:48:01] [DEBUG] [Database] execute_db_operation:142 - get all users for guild 897814031346319382 completed in 0.002s
[2025-09-24 23:48:01] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-24 23:48:01] [INFO] [Database] get_all_users_guild_aware:1941 - ✅ Retrieved 18 users for guild 897814031346319382
[2025-09-24 23:48:01] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user Kyerstorm (Discord ID: 331164413623009281, Guild ID: 897814031346319382)
[2025-09-24 23:48:01] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 331164413623009281
[2025-09-24 23:48:01] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user Kyerstorm (Discord ID: 331164413623009281)
[2025-09-24 23:48:01] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 1455, Anime: 473, Chapters: 161685, Episodes: 5911
[2025-09-24 23:48:01] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 64.01, Anime: 65.86
[2025-09-24 23:48:01] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for Kyerstorm
[2025-09-24 23:48:01] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:48:01] [DEBUG] [Database] execute_db_operation:118 - Parameters: (331164413623009281, 'Kyerstorm', 1455, 473, 64.01, 65.86, 161685, 5911)
[2025-09-24 23:48:01] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for Kyerstorm completed in 0.002s
[2025-09-24 23:48:01] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for Kyerstorm
[2025-09-24 23:48:02] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user AZackInTime (Discord ID: 359452133831081984, Guild ID: 897814031346319382)
[2025-09-24 23:48:02] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 359452133831081984
[2025-09-24 23:48:02] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user AZackInTime (Discord ID: 359452133831081984)
[2025-09-24 23:48:02] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 755, Anime: 901, Chapters: 78309, Episodes: 13292
[2025-09-24 23:48:02] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 68.84, Anime: 68.66
[2025-09-24 23:48:02] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for AZackInTime
[2025-09-24 23:48:02] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:48:02] [DEBUG] [Database] execute_db_operation:118 - Parameters: (359452133831081984, 'AZackInTime', 755, 901, 68.84, 68.66, 78309, 13292)
[2025-09-24 23:48:02] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for AZackInTime completed in 0.002s
[2025-09-24 23:48:02] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for AZackInTime
[2025-09-24 23:48:02] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user NobodyImportant (Discord ID: 360165403777040385, Guild ID: 897814031346319382)
[2025-09-24 23:48:02] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 360165403777040385
[2025-09-24 23:48:02] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user NobodyImportant (Discord ID: 360165403777040385)
[2025-09-24 23:48:02] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 901, Anime: 230, Chapters: 32970, Episodes: 4508
[2025-09-24 23:48:02] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 80.81, Anime: 89.40
[2025-09-24 23:48:02] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for NobodyImportant
[2025-09-24 23:48:02] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:48:02] [DEBUG] [Database] execute_db_operation:118 - Parameters: (360165403777040385, 'NobodyImportant', 901, 230, 80.81, 89.4, 32970, 4508)
[2025-09-24 23:48:02] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for NobodyImportant completed in 0.002s
[2025-09-24 23:48:02] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for NobodyImportant
[2025-09-24 23:48:02] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user xuehua (Discord ID: 369957492962099201, Guild ID: 897814031346319382)
[2025-09-24 23:48:02] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 369957492962099201
[2025-09-24 23:48:02] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user xuehua (Discord ID: 369957492962099201)
[2025-09-24 23:48:02] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 144, Anime: 1430, Chapters: 9162, Episodes: 21089
[2025-09-24 23:48:02] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 0.00, Anime: 0.00
[2025-09-24 23:48:02] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for xuehua
[2025-09-24 23:48:02] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:48:02] [DEBUG] [Database] execute_db_operation:118 - Parameters: (369957492962099201, 'xuehua', 144, 1430, 0.0, 0.0, 9162, 21089)
[2025-09-24 23:48:02] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for xuehua completed in 0.002s
[2025-09-24 23:48:02] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for xuehua
[2025-09-24 23:48:03] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user nottdenito (Discord ID: 397394309977997314, Guild ID: 897814031346319382)
[2025-09-24 23:48:03] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 397394309977997314
[2025-09-24 23:48:03] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user nottdenito (Discord ID: 397394309977997314)
[2025-09-24 23:48:03] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 403, Anime: 725, Chapters: 24096, Episodes: 11724
[2025-09-24 23:48:03] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 3.21, Anime: 3.19
[2025-09-24 23:48:03] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for nottdenito
[2025-09-24 23:48:03] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:48:03] [DEBUG] [Database] execute_db_operation:118 - Parameters: (397394309977997314, 'nottdenito', 403, 725, 3.21, 3.19, 24096, 11724)
[2025-09-24 23:48:03] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for nottdenito completed in 0.002s
[2025-09-24 23:48:03] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for nottdenito
[2025-09-24 23:48:03] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user Tes (Discord ID: 461675352952012801, Guild ID: 897814031346319382)
[2025-09-24 23:48:03] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 461675352952012801
[2025-09-24 23:48:03] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user Tes (Discord ID: 461675352952012801)
[2025-09-24 23:48:03] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 563, Anime: 116, Chapters: 122004, Episodes: 5581
[2025-09-24 23:48:03] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 75.62, Anime: 78.23
[2025-09-24 23:48:03] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for Tes
[2025-09-24 23:48:03] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:48:03] [DEBUG] [Database] execute_db_operation:118 - Parameters: (461675352952012801, 'Tes', 563, 116, 75.62, 78.23, 122004, 5581)
[2025-09-24 23:48:03] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for Tes completed in 0.002s
[2025-09-24 23:48:03] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for Tes
[2025-09-24 23:48:03] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user raidflexer (Discord ID: 503946204296773642, Guild ID: 897814031346319382)
[2025-09-24 23:48:03] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 503946204296773642
[2025-09-24 23:48:03] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user raidflexer (Discord ID: 503946204296773642)
[2025-09-24 23:48:03] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 624, Anime: 120, Chapters: 37382, Episodes: 3620
[2025-09-24 23:48:03] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 2.77, Anime: 2.93
[2025-09-24 23:48:03] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for raidflexer
[2025-09-24 23:48:03] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:48:03] [DEBUG] [Database] execute_db_operation:118 - Parameters: (503946204296773642, 'raidflexer', 624, 120, 2.77, 2.93, 37382, 3620)
[2025-09-24 23:48:03] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for raidflexer completed in 0.002s
[2025-09-24 23:48:03] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for raidflexer
[2025-09-24 23:48:04] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user ThatJayGuy (Discord ID: 528583472663494656, Guild ID: 897814031346319382)
[2025-09-24 23:48:04] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 528583472663494656
[2025-09-24 23:48:04] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user ThatJayGuy (Discord ID: 528583472663494656)
[2025-09-24 23:48:04] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 1178, Anime: 521, Chapters: 82696, Episodes: 8309
[2025-09-24 23:48:04] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 0.00, Anime: 1.00
[2025-09-24 23:48:04] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for ThatJayGuy
[2025-09-24 23:48:04] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:48:04] [DEBUG] [Database] execute_db_operation:118 - Parameters: (528583472663494656, 'ThatJayGuy', 1178, 521, 0.0, 1.0, 82696, 8309)
[2025-09-24 23:48:04] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for ThatJayGuy completed in 0.002s
[2025-09-24 23:48:04] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for ThatJayGuy
[2025-09-24 23:48:04] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user JellyJelmo (Discord ID: 586185435399716864, Guild ID: 897814031346319382)
[2025-09-24 23:48:04] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 586185435399716864
[2025-09-24 23:48:04] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user JellyJelmo (Discord ID: 586185435399716864)
[2025-09-24 23:48:04] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 333, Anime: 89, Chapters: 68754, Episodes: 3946
[2025-09-24 23:48:04] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 0.00, Anime: 2.70
[2025-09-24 23:48:04] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for JellyJelmo
[2025-09-24 23:48:04] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:48:04] [DEBUG] [Database] execute_db_operation:118 - Parameters: (586185435399716864, 'JellyJelmo', 333, 89, 0.0, 2.7, 68754, 3946)
[2025-09-24 23:48:04] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for JellyJelmo completed in 0.002s
[2025-09-24 23:48:04] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for JellyJelmo
[2025-09-24 23:48:04] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user LinClick (Discord ID: 591244355096936459, Guild ID: 897814031346319382)
[2025-09-24 23:48:04] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 591244355096936459
[2025-09-24 23:48:04] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user LinClick (Discord ID: 591244355096936459)
[2025-09-24 23:48:04] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 1550, Anime: 223, Chapters: 118586, Episodes: 5491
[2025-09-24 23:48:04] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 0.00, Anime: 75.20
[2025-09-24 23:48:04] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for LinClick
[2025-09-24 23:48:04] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:48:04] [DEBUG] [Database] execute_db_operation:118 - Parameters: (591244355096936459, 'LinClick', 1550, 223, 0.0, 75.2, 118586, 5491)
[2025-09-24 23:48:04] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for LinClick completed in 0.002s
[2025-09-24 23:48:04] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for LinClick
[2025-09-24 23:48:05] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user Ruebin (Discord ID: 772776679608156180, Guild ID: 897814031346319382)
[2025-09-24 23:48:05] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 772776679608156180
[2025-09-24 23:48:05] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user Ruebin (Discord ID: 772776679608156180)
[2025-09-24 23:48:05] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 98, Anime: 63, Chapters: 25404, Episodes: 2405
[2025-09-24 23:48:05] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 89.11, Anime: 85.08
[2025-09-24 23:48:05] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for Ruebin
[2025-09-24 23:48:05] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:48:05] [DEBUG] [Database] execute_db_operation:118 - Parameters: (772776679608156180, 'Ruebin', 98, 63, 89.11, 85.08, 25404, 2405)
[2025-09-24 23:48:05] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for Ruebin completed in 0.002s
[2025-09-24 23:48:05] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for Ruebin
[2025-09-24 23:48:05] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user 1Frieren (Discord ID: 905468832406179850, Guild ID: 897814031346319382)
[2025-09-24 23:48:05] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 905468832406179850
[2025-09-24 23:48:05] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user 1Frieren (Discord ID: 905468832406179850)
[2025-09-24 23:48:05] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 51, Anime: 657, Chapters: 7027, Episodes: 11571
[2025-09-24 23:48:05] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 0.00, Anime: 5.00
[2025-09-24 23:48:05] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for 1Frieren
[2025-09-24 23:48:05] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:48:05] [DEBUG] [Database] execute_db_operation:118 - Parameters: (905468832406179850, '1Frieren', 51, 657, 0.0, 5.0, 7027, 11571)
[2025-09-24 23:48:05] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for 1Frieren completed in 0.002s
[2025-09-24 23:48:05] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for 1Frieren
[2025-09-24 23:48:05] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user Judasz (Discord ID: 1019960555341107271, Guild ID: 897814031346319382)
[2025-09-24 23:48:05] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 1019960555341107271
[2025-09-24 23:48:05] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user Judasz (Discord ID: 1019960555341107271)
[2025-09-24 23:48:05] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 99, Anime: 305, Chapters: 12723, Episodes: 8211
[2025-09-24 23:48:05] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 2.35, Anime: 0.00
[2025-09-24 23:48:05] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for Judasz
[2025-09-24 23:48:05] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:48:05] [DEBUG] [Database] execute_db_operation:118 - Parameters: (1019960555341107271, 'Judasz', 99, 305, 2.35, 0.0, 12723, 8211)
[2025-09-24 23:48:05] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for Judasz completed in 0.003s
[2025-09-24 23:48:05] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for Judasz
[2025-09-24 23:48:06] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user MyeTezz (Discord ID: 1034606763330248744, Guild ID: 897814031346319382)
[2025-09-24 23:48:06] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 1034606763330248744
[2025-09-24 23:48:06] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user MyeTezz (Discord ID: 1034606763330248744)
[2025-09-24 23:48:06] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 836, Anime: 1113, Chapters: 63947, Episodes: 11292
[2025-09-24 23:48:06] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 0.00, Anime: 0.00
[2025-09-24 23:48:06] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for MyeTezz
[2025-09-24 23:48:06] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:48:06] [DEBUG] [Database] execute_db_operation:118 - Parameters: (1034606763330248744, 'MyeTezz', 836, 1113, 0.0, 0.0, 63947, 11292)
[2025-09-24 23:48:06] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for MyeTezz completed in 0.002s
[2025-09-24 23:48:06] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for MyeTezz
[2025-09-24 23:48:06] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user N006 (Discord ID: 1262304313481625704, Guild ID: 897814031346319382)
[2025-09-24 23:48:06] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 1262304313481625704
[2025-09-24 23:48:06] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user N006 (Discord ID: 1262304313481625704)
[2025-09-24 23:48:06] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 5, Anime: 834, Chapters: 345, Episodes: 11163
[2025-09-24 23:48:06] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 84.00, Anime: 70.21
[2025-09-24 23:48:06] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for N006
[2025-09-24 23:48:06] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:48:06] [DEBUG] [Database] execute_db_operation:118 - Parameters: (1262304313481625704, 'N006', 5, 834, 84.0, 70.21, 345, 11163)
[2025-09-24 23:48:06] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for N006 completed in 0.002s
[2025-09-24 23:48:06] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for N006
[2025-09-24 23:48:06] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user Vireon (Discord ID: 1419744000977403994, Guild ID: 897814031346319382)
[2025-09-24 23:48:06] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 1419744000977403994
[2025-09-24 23:48:06] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user Vireon (Discord ID: 1419744000977403994)
[2025-09-24 23:48:06] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 1143, Anime: 2218, Chapters: 184146, Episodes: 49333
[2025-09-24 23:48:06] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 6.41, Anime: 0.00
[2025-09-24 23:48:06] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for Vireon
[2025-09-24 23:48:06] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:48:06] [DEBUG] [Database] execute_db_operation:118 - Parameters: (1419744000977403994, 'Vireon', 1143, 2218, 6.41, 0.0, 184146, 49333)
[2025-09-24 23:48:06] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for Vireon completed in 0.002s
[2025-09-24 23:48:06] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for Vireon
[2025-09-24 23:48:06] [INFO] [Database] get_guild_leaderboard_data:1849 - Getting episodes leaderboard data for guild 897814031346319382
[2025-09-24 23:48:06] [DEBUG] [Database] execute_db_operation:115 - Executing get episodes leaderboard for guild 897814031346319382
[2025-09-24 23:48:06] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT u.anilist_username, us.total_manga, us.total_anime, 
                   us.total_chapters, us.total_episodes, us.avg_manga_score, us.avg_anime_score
            FROM users u 
            JOIN user_stats us ON u.discord_id = us.discord_id
            WHERE u.guild_id = ? AND u.anilist_username IS NOT NULL
        
[2025-09-24 23:48:06] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 23:48:06] [DEBUG] [Database] execute_db_operation:142 - get episodes leaderboard for guild 897814031346319382 completed in 0.002s
[2025-09-24 23:48:06] [DEBUG] [Database] execute_db_operation:148 - Query returned 16 rows
[2025-09-24 23:48:06] [INFO] [Database] get_guild_leaderboard_data:1914 - ✅ Retrieved 16 entries for episodes leaderboard in guild 897814031346319382
[2025-09-24 23:52:30] [INFO] [Database] <module>:60 - ==================================================
[2025-09-24 23:52:30] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-24 23:52:30] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-24 23:52:30] [INFO] [Database] <module>:63 - ==================================================
[2025-09-24 23:52:30] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-24 23:52:30] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-24 23:52:30] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-24 23:52:30] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-24 23:52:30] [INFO] [Database] init_db:1462 - ============================================================
[2025-09-24 23:52:30] [INFO] [Database] init_db:1463 - STARTING DATABASE INITIALIZATION
[2025-09-24 23:52:30] [INFO] [Database] init_db:1464 - ============================================================
[2025-09-24 23:52:30] [INFO] [Database] init_db:1489 - Verifying database connectivity...
[2025-09-24 23:52:30] [INFO] [Database] init_db:1492 - ✅ Database connectivity verified
[2025-09-24 23:52:30] [DEBUG] [Database] init_db:1497 - Initializing Users table...
[2025-09-24 23:52:30] [INFO] [Database] init_users_table:218 - Initializing users table
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-24 23:52:30] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.002s: duplicate column name: anilist_username
[2025-09-24 23:52:30] [DEBUG] [Database] init_users_table:251 - Column 'anilist_username' already exists in users table
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-24 23:52:30] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.001s: duplicate column name: anilist_id
[2025-09-24 23:52:30] [DEBUG] [Database] init_users_table:251 - Column 'anilist_id' already exists in users table
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:115 - Executing add guild_id column to users
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN guild_id INTEGER
[2025-09-24 23:52:30] [ERROR] [Database] execute_db_operation:156 - add guild_id column to users failed after 0.002s: duplicate column name: guild_id
[2025-09-24 23:52:30] [DEBUG] [Database] init_users_table:251 - Column 'guild_id' already exists in users table
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 23:52:30] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.001s: duplicate column name: created_at
[2025-09-24 23:52:30] [DEBUG] [Database] init_users_table:251 - Column 'created_at' already exists in users table
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 23:52:30] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.002s: duplicate column name: updated_at
[2025-09-24 23:52:30] [DEBUG] [Database] init_users_table:251 - Column 'updated_at' already exists in users table
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.002s
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:52:30] [DEBUG] [Database] init_users_table:258 - Users table schema: 8 columns
[2025-09-24 23:52:30] [DEBUG] [Database] init_users_table:260 -   Column: id (INTEGER)
[2025-09-24 23:52:30] [DEBUG] [Database] init_users_table:260 -   Column: discord_id (INTEGER)
[2025-09-24 23:52:30] [DEBUG] [Database] init_users_table:260 -   Column: guild_id (INTEGER)
[2025-09-24 23:52:30] [DEBUG] [Database] init_users_table:260 -   Column: username (TEXT)
[2025-09-24 23:52:30] [DEBUG] [Database] init_users_table:260 -   Column: anilist_username (TEXT)
[2025-09-24 23:52:30] [DEBUG] [Database] init_users_table:260 -   Column: anilist_id (INTEGER)
[2025-09-24 23:52:30] [DEBUG] [Database] init_users_table:260 -   Column: created_at (DATETIME)
[2025-09-24 23:52:30] [DEBUG] [Database] init_users_table:260 -   Column: updated_at (DATETIME)
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:115 - Executing check guild_id usage
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT COUNT(*) FROM users WHERE guild_id IS NOT NULL
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:142 - check guild_id usage completed in 0.002s
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 1
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 1, 'test1')
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 1 completed in 0.005s
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 2
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 2, 'test2')
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 2 completed in 0.007s
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:115 - Executing cleanup test data
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:116 - Query: DELETE FROM users WHERE discord_id = ?
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999,)
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:142 - cleanup test data completed in 0.006s
[2025-09-24 23:52:30] [INFO] [Database] init_users_table:298 - ✅ Multi-guild support confirmed - table supports multiple guilds per user
[2025-09-24 23:52:30] [INFO] [Database] init_users_table:312 - ✅ Users table initialization completed successfully
[2025-09-24 23:52:30] [DEBUG] [Database] init_db:1500 - ✅ Users table initialized successfully
[2025-09-24 23:52:30] [DEBUG] [Database] init_db:1497 - Initializing Challenge Rules table...
[2025-09-24 23:52:30] [INFO] [Database] init_challenge_rules_table:761 - Initializing challenge rules table
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.003s
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME
[2025-09-24 23:52:30] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.002s: duplicate column name: created_at
[2025-09-24 23:52:30] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'created_at' already exists in challenge_rules table
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME
[2025-09-24 23:52:30] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.002s: duplicate column name: updated_at
[2025-09-24 23:52:30] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'updated_at' already exists in challenge_rules table
[2025-09-24 23:52:30] [INFO] [Database] init_challenge_rules_table:790 - ✅ Challenge rules table initialization completed
[2025-09-24 23:52:30] [DEBUG] [Database] init_db:1500 - ✅ Challenge Rules table initialized successfully
[2025-09-24 23:52:30] [DEBUG] [Database] init_db:1497 - Initializing Recommendation Votes table...
[2025-09-24 23:52:30] [INFO] [Database] init_recommendation_votes_table:858 - Manga recommendation votes table ready.
[2025-09-24 23:52:30] [DEBUG] [Database] init_db:1500 - ✅ Recommendation Votes table initialized successfully
[2025-09-24 23:52:30] [DEBUG] [Database] init_db:1497 - Initializing User Stats table...
[2025-09-24 23:52:30] [INFO] [Database] init_user_stats_table:876 - User stats table ready.
[2025-09-24 23:52:30] [DEBUG] [Database] init_db:1500 - ✅ User Stats table initialized successfully
[2025-09-24 23:52:30] [DEBUG] [Database] init_db:1497 - Initializing Achievements table...
[2025-09-24 23:52:30] [INFO] [Database] init_achievements_table:892 - Achievements table ready.
[2025-09-24 23:52:30] [DEBUG] [Database] init_db:1500 - ✅ Achievements table initialized successfully
[2025-09-24 23:52:30] [DEBUG] [Database] init_db:1497 - Initializing User Manga Progress table...
[2025-09-24 23:52:30] [INFO] [Database] init_user_manga_progress_table:928 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-24 23:52:30] [DEBUG] [Database] init_db:1500 - ✅ User Manga Progress table initialized successfully
[2025-09-24 23:52:30] [DEBUG] [Database] init_db:1497 - Initializing Manga Challenges table...
[2025-09-24 23:52:30] [DEBUG] [Database] init_db:1500 - ✅ Manga Challenges table initialized successfully
[2025-09-24 23:52:30] [DEBUG] [Database] init_db:1497 - Initializing User Progress table...
[2025-09-24 23:52:30] [DEBUG] [Database] init_db:1500 - ✅ User Progress table initialized successfully
[2025-09-24 23:52:30] [DEBUG] [Database] init_db:1497 - Initializing Global Challenges table...
[2025-09-24 23:52:30] [INFO] [Database] init_global_challenges_table:1226 - Global challenges table ready with difficulty column.
[2025-09-24 23:52:30] [DEBUG] [Database] init_db:1500 - ✅ Global Challenges table initialized successfully
[2025-09-24 23:52:30] [DEBUG] [Database] init_db:1497 - Initializing Guild Challenge Roles table...
[2025-09-24 23:52:30] [INFO] [Database] init_guild_challenge_roles_table:1408 - 🔧 Initializing guild challenge roles table...
[2025-09-24 23:52:30] [INFO] [Database] get_guild_challenge_roles:2132 - Getting challenge roles for guild 897814031346319382
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:115 - Executing get challenge roles for guild 897814031346319382
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT challenge_id, threshold, role_id 
            FROM guild_challenge_roles 
            WHERE guild_id = ?
            ORDER BY challenge_id, threshold
        
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:142 - get challenge roles for guild 897814031346319382 completed in 0.002s
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:148 - Query returned 13 rows
[2025-09-24 23:52:30] [INFO] [Database] get_guild_challenge_roles:2160 - ✅ Retrieved 13 challenge role configurations for guild 897814031346319382
[2025-09-24 23:52:30] [INFO] [Database] migrate_default_challenge_roles:1440 - Default challenge roles already exist for primary guild 897814031346319382
[2025-09-24 23:52:30] [INFO] [Database] init_guild_challenge_roles_table:1428 - ✅ Guild challenge roles table ready.
[2025-09-24 23:52:30] [DEBUG] [Database] init_db:1500 - ✅ Guild Challenge Roles table initialized successfully
[2025-09-24 23:52:30] [DEBUG] [Database] init_db:1497 - Initializing Invite Tracker table...
[2025-09-24 23:52:30] [INFO] [Database] init_invite_tracker_tables:1316 - Initializing invite tracker tables
[2025-09-24 23:52:30] [INFO] [Database] init_invite_tracker_tables:1383 - ✅ Invite tracker tables initialized successfully
[2025-09-24 23:52:30] [DEBUG] [Database] init_db:1500 - ✅ Invite Tracker table initialized successfully
[2025-09-24 23:52:30] [DEBUG] [Database] init_db:1497 - Initializing Steam Users table...
[2025-09-24 23:52:30] [INFO] [Database] init_steam_users_table:1403 - Steam users table ready.
[2025-09-24 23:52:30] [DEBUG] [Database] init_db:1500 - ✅ Steam Users table initialized successfully
[2025-09-24 23:52:30] [DEBUG] [Database] init_db:1497 - Initializing Challenge Manga table...
[2025-09-24 23:52:30] [DEBUG] [Database] init_db:1500 - ✅ Challenge Manga table initialized successfully
[2025-09-24 23:52:30] [INFO] [Database] init_db:1511 - ============================================================
[2025-09-24 23:52:30] [INFO] [Database] init_db:1512 - DATABASE INITIALIZATION SUMMARY
[2025-09-24 23:52:30] [INFO] [Database] init_db:1513 - Total tables: 13
[2025-09-24 23:52:30] [INFO] [Database] init_db:1514 - Successfully initialized: 13
[2025-09-24 23:52:30] [INFO] [Database] init_db:1515 - Failed to initialize: 0
[2025-09-24 23:52:30] [INFO] [Database] init_db:1516 - Total time: 0.08 seconds
[2025-09-24 23:52:30] [INFO] [Database] init_db:1521 - ✅ All database tables initialized successfully
[2025-09-24 23:52:30] [INFO] [Database] init_db:1523 - ============================================================
[2025-09-24 23:52:30] [INFO] [Database] init_db:1528 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.002s
[2025-09-24 23:52:30] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-24 23:52:33] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 23:52:33] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:52:33] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-24 23:52:33] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:52:33] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 23:52:33] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 23:52:33] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 23:52:33] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 23:52:34] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:52:34] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:52:34] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-24 23:52:34] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 23:52:34] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:52:34] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:52:34] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-24 23:52:34] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 23:52:34] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:52:34] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:52:34] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-24 23:52:34] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 23:52:34] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:52:34] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:52:34] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-24 23:52:34] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 23:52:34] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:52:34] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:52:34] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-24 23:52:34] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 23:52:34] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:52:34] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:52:34] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-24 23:52:34] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 23:52:34] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:52:34] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:52:34] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-24 23:52:34] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 23:52:34] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:52:34] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:52:34] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-24 23:52:34] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 23:52:35] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 23:52:35] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:52:35] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-24 23:52:35] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:52:35] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 23:52:35] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 23:52:35] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 23:52:35] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 23:52:37] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 23:52:37] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:52:37] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-24 23:52:37] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:52:37] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 23:52:37] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 23:52:37] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 23:52:37] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 23:52:41] [INFO] [Database] get_all_users_guild_aware:1927 - Getting all users for guild 897814031346319382
[2025-09-24 23:52:41] [DEBUG] [Database] execute_db_operation:115 - Executing get all users for guild 897814031346319382
[2025-09-24 23:52:41] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE guild_id = ?
[2025-09-24 23:52:41] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 23:52:41] [DEBUG] [Database] execute_db_operation:142 - get all users for guild 897814031346319382 completed in 0.002s
[2025-09-24 23:52:41] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-24 23:52:41] [INFO] [Database] get_all_users_guild_aware:1941 - ✅ Retrieved 18 users for guild 897814031346319382
[2025-09-24 23:52:41] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user Kyerstorm (Discord ID: 331164413623009281, Guild ID: 897814031346319382)
[2025-09-24 23:52:41] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 331164413623009281
[2025-09-24 23:52:41] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user Kyerstorm (Discord ID: 331164413623009281)
[2025-09-24 23:52:41] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 1455, Anime: 473, Chapters: 161685, Episodes: 5911
[2025-09-24 23:52:41] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 64.01, Anime: 65.86
[2025-09-24 23:52:41] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for Kyerstorm
[2025-09-24 23:52:41] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:52:41] [DEBUG] [Database] execute_db_operation:118 - Parameters: (331164413623009281, 'Kyerstorm', 1455, 473, 64.01, 65.86, 161685, 5911)
[2025-09-24 23:52:41] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for Kyerstorm completed in 0.002s
[2025-09-24 23:52:41] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for Kyerstorm
[2025-09-24 23:52:42] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user AZackInTime (Discord ID: 359452133831081984, Guild ID: 897814031346319382)
[2025-09-24 23:52:42] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 359452133831081984
[2025-09-24 23:52:42] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user AZackInTime (Discord ID: 359452133831081984)
[2025-09-24 23:52:42] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 755, Anime: 901, Chapters: 78309, Episodes: 13292
[2025-09-24 23:52:42] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 68.84, Anime: 68.66
[2025-09-24 23:52:42] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for AZackInTime
[2025-09-24 23:52:42] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:52:42] [DEBUG] [Database] execute_db_operation:118 - Parameters: (359452133831081984, 'AZackInTime', 755, 901, 68.84, 68.66, 78309, 13292)
[2025-09-24 23:52:42] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for AZackInTime completed in 0.002s
[2025-09-24 23:52:42] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for AZackInTime
[2025-09-24 23:52:42] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user NobodyImportant (Discord ID: 360165403777040385, Guild ID: 897814031346319382)
[2025-09-24 23:52:42] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 360165403777040385
[2025-09-24 23:52:42] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user NobodyImportant (Discord ID: 360165403777040385)
[2025-09-24 23:52:42] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 901, Anime: 230, Chapters: 32970, Episodes: 4508
[2025-09-24 23:52:42] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 80.81, Anime: 89.40
[2025-09-24 23:52:42] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for NobodyImportant
[2025-09-24 23:52:42] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:52:42] [DEBUG] [Database] execute_db_operation:118 - Parameters: (360165403777040385, 'NobodyImportant', 901, 230, 80.81, 89.4, 32970, 4508)
[2025-09-24 23:52:42] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for NobodyImportant completed in 0.002s
[2025-09-24 23:52:42] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for NobodyImportant
[2025-09-24 23:52:42] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user xuehua (Discord ID: 369957492962099201, Guild ID: 897814031346319382)
[2025-09-24 23:52:42] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 369957492962099201
[2025-09-24 23:52:42] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user xuehua (Discord ID: 369957492962099201)
[2025-09-24 23:52:42] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 144, Anime: 1430, Chapters: 9162, Episodes: 21089
[2025-09-24 23:52:42] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 0.00, Anime: 0.00
[2025-09-24 23:52:42] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for xuehua
[2025-09-24 23:52:42] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:52:42] [DEBUG] [Database] execute_db_operation:118 - Parameters: (369957492962099201, 'xuehua', 144, 1430, 0.0, 0.0, 9162, 21089)
[2025-09-24 23:52:42] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for xuehua completed in 0.002s
[2025-09-24 23:52:42] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for xuehua
[2025-09-24 23:52:43] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user nottdenito (Discord ID: 397394309977997314, Guild ID: 897814031346319382)
[2025-09-24 23:52:43] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 397394309977997314
[2025-09-24 23:52:43] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user nottdenito (Discord ID: 397394309977997314)
[2025-09-24 23:52:43] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 403, Anime: 725, Chapters: 24096, Episodes: 11724
[2025-09-24 23:52:43] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 3.21, Anime: 3.19
[2025-09-24 23:52:43] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for nottdenito
[2025-09-24 23:52:43] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:52:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: (397394309977997314, 'nottdenito', 403, 725, 3.21, 3.19, 24096, 11724)
[2025-09-24 23:52:43] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for nottdenito completed in 0.002s
[2025-09-24 23:52:43] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for nottdenito
[2025-09-24 23:52:43] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user Tes (Discord ID: 461675352952012801, Guild ID: 897814031346319382)
[2025-09-24 23:52:43] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 461675352952012801
[2025-09-24 23:52:43] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user Tes (Discord ID: 461675352952012801)
[2025-09-24 23:52:43] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 563, Anime: 116, Chapters: 122004, Episodes: 5581
[2025-09-24 23:52:43] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 75.62, Anime: 78.23
[2025-09-24 23:52:43] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for Tes
[2025-09-24 23:52:43] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:52:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: (461675352952012801, 'Tes', 563, 116, 75.62, 78.23, 122004, 5581)
[2025-09-24 23:52:43] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for Tes completed in 0.002s
[2025-09-24 23:52:43] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for Tes
[2025-09-24 23:52:43] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user raidflexer (Discord ID: 503946204296773642, Guild ID: 897814031346319382)
[2025-09-24 23:52:43] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 503946204296773642
[2025-09-24 23:52:43] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user raidflexer (Discord ID: 503946204296773642)
[2025-09-24 23:52:43] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 624, Anime: 120, Chapters: 37382, Episodes: 3620
[2025-09-24 23:52:43] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 2.77, Anime: 2.93
[2025-09-24 23:52:43] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for raidflexer
[2025-09-24 23:52:43] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:52:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: (503946204296773642, 'raidflexer', 624, 120, 2.77, 2.93, 37382, 3620)
[2025-09-24 23:52:43] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for raidflexer completed in 0.002s
[2025-09-24 23:52:43] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for raidflexer
[2025-09-24 23:52:44] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user ThatJayGuy (Discord ID: 528583472663494656, Guild ID: 897814031346319382)
[2025-09-24 23:52:44] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 528583472663494656
[2025-09-24 23:52:44] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user ThatJayGuy (Discord ID: 528583472663494656)
[2025-09-24 23:52:44] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 1178, Anime: 521, Chapters: 82696, Episodes: 8309
[2025-09-24 23:52:44] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 0.00, Anime: 1.00
[2025-09-24 23:52:44] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for ThatJayGuy
[2025-09-24 23:52:44] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:52:44] [DEBUG] [Database] execute_db_operation:118 - Parameters: (528583472663494656, 'ThatJayGuy', 1178, 521, 0.0, 1.0, 82696, 8309)
[2025-09-24 23:52:44] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for ThatJayGuy completed in 0.003s
[2025-09-24 23:52:44] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for ThatJayGuy
[2025-09-24 23:52:44] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user JellyJelmo (Discord ID: 586185435399716864, Guild ID: 897814031346319382)
[2025-09-24 23:52:44] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 586185435399716864
[2025-09-24 23:52:44] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user JellyJelmo (Discord ID: 586185435399716864)
[2025-09-24 23:52:44] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 333, Anime: 89, Chapters: 68754, Episodes: 3946
[2025-09-24 23:52:44] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 0.00, Anime: 2.70
[2025-09-24 23:52:44] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for JellyJelmo
[2025-09-24 23:52:44] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:52:44] [DEBUG] [Database] execute_db_operation:118 - Parameters: (586185435399716864, 'JellyJelmo', 333, 89, 0.0, 2.7, 68754, 3946)
[2025-09-24 23:52:44] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for JellyJelmo completed in 0.002s
[2025-09-24 23:52:44] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for JellyJelmo
[2025-09-24 23:52:44] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user LinClick (Discord ID: 591244355096936459, Guild ID: 897814031346319382)
[2025-09-24 23:52:44] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 591244355096936459
[2025-09-24 23:52:44] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user LinClick (Discord ID: 591244355096936459)
[2025-09-24 23:52:44] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 1550, Anime: 223, Chapters: 118586, Episodes: 5491
[2025-09-24 23:52:44] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 0.00, Anime: 75.20
[2025-09-24 23:52:44] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for LinClick
[2025-09-24 23:52:44] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:52:44] [DEBUG] [Database] execute_db_operation:118 - Parameters: (591244355096936459, 'LinClick', 1550, 223, 0.0, 75.2, 118586, 5491)
[2025-09-24 23:52:44] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for LinClick completed in 0.002s
[2025-09-24 23:52:44] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for LinClick
[2025-09-24 23:52:45] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user Ruebin (Discord ID: 772776679608156180, Guild ID: 897814031346319382)
[2025-09-24 23:52:45] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 772776679608156180
[2025-09-24 23:52:45] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user Ruebin (Discord ID: 772776679608156180)
[2025-09-24 23:52:45] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 98, Anime: 63, Chapters: 25404, Episodes: 2405
[2025-09-24 23:52:45] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 89.11, Anime: 85.08
[2025-09-24 23:52:45] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for Ruebin
[2025-09-24 23:52:45] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:52:45] [DEBUG] [Database] execute_db_operation:118 - Parameters: (772776679608156180, 'Ruebin', 98, 63, 89.11, 85.08, 25404, 2405)
[2025-09-24 23:52:45] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for Ruebin completed in 0.002s
[2025-09-24 23:52:45] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for Ruebin
[2025-09-24 23:52:45] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user 1Frieren (Discord ID: 905468832406179850, Guild ID: 897814031346319382)
[2025-09-24 23:52:45] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 905468832406179850
[2025-09-24 23:52:45] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user 1Frieren (Discord ID: 905468832406179850)
[2025-09-24 23:52:45] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 51, Anime: 657, Chapters: 7027, Episodes: 11571
[2025-09-24 23:52:45] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 0.00, Anime: 5.00
[2025-09-24 23:52:45] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for 1Frieren
[2025-09-24 23:52:45] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:52:45] [DEBUG] [Database] execute_db_operation:118 - Parameters: (905468832406179850, '1Frieren', 51, 657, 0.0, 5.0, 7027, 11571)
[2025-09-24 23:52:45] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for 1Frieren completed in 0.002s
[2025-09-24 23:52:45] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for 1Frieren
[2025-09-24 23:52:45] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user Judasz (Discord ID: 1019960555341107271, Guild ID: 897814031346319382)
[2025-09-24 23:52:45] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 1019960555341107271
[2025-09-24 23:52:45] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user Judasz (Discord ID: 1019960555341107271)
[2025-09-24 23:52:45] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 99, Anime: 305, Chapters: 12723, Episodes: 8211
[2025-09-24 23:52:45] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 2.35, Anime: 0.00
[2025-09-24 23:52:45] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for Judasz
[2025-09-24 23:52:45] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:52:45] [DEBUG] [Database] execute_db_operation:118 - Parameters: (1019960555341107271, 'Judasz', 99, 305, 2.35, 0.0, 12723, 8211)
[2025-09-24 23:52:45] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for Judasz completed in 0.002s
[2025-09-24 23:52:45] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for Judasz
[2025-09-24 23:52:46] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user MyeTezz (Discord ID: 1034606763330248744, Guild ID: 897814031346319382)
[2025-09-24 23:52:46] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 1034606763330248744
[2025-09-24 23:52:46] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user MyeTezz (Discord ID: 1034606763330248744)
[2025-09-24 23:52:46] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 836, Anime: 1113, Chapters: 63947, Episodes: 11292
[2025-09-24 23:52:46] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 0.00, Anime: 0.00
[2025-09-24 23:52:46] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for MyeTezz
[2025-09-24 23:52:46] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:52:46] [DEBUG] [Database] execute_db_operation:118 - Parameters: (1034606763330248744, 'MyeTezz', 836, 1113, 0.0, 0.0, 63947, 11292)
[2025-09-24 23:52:46] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for MyeTezz completed in 0.002s
[2025-09-24 23:52:46] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for MyeTezz
[2025-09-24 23:52:46] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user N006 (Discord ID: 1262304313481625704, Guild ID: 897814031346319382)
[2025-09-24 23:52:46] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 1262304313481625704
[2025-09-24 23:52:46] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user N006 (Discord ID: 1262304313481625704)
[2025-09-24 23:52:46] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 5, Anime: 834, Chapters: 345, Episodes: 11163
[2025-09-24 23:52:46] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 84.00, Anime: 70.21
[2025-09-24 23:52:46] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for N006
[2025-09-24 23:52:46] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:52:46] [DEBUG] [Database] execute_db_operation:118 - Parameters: (1262304313481625704, 'N006', 5, 834, 84.0, 70.21, 345, 11163)
[2025-09-24 23:52:46] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for N006 completed in 0.002s
[2025-09-24 23:52:46] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for N006
[2025-09-24 23:52:46] [INFO] [Database] upsert_user_stats_guild_aware:1829 - Upserting stats (guild-aware) for user Vireon (Discord ID: 1419744000977403994, Guild ID: 897814031346319382)
[2025-09-24 23:52:46] [WARNING] [Database] upsert_user_stats_guild_aware:1833 - user_stats table doesn't have guild_id column yet - using global stats for user 1419744000977403994
[2025-09-24 23:52:46] [INFO] [Database] upsert_user_stats:1084 - Upserting stats for user Vireon (Discord ID: 1419744000977403994)
[2025-09-24 23:52:46] [DEBUG] [Database] upsert_user_stats:1108 - User stats - Manga: 1143, Anime: 2218, Chapters: 184146, Episodes: 49333
[2025-09-24 23:52:46] [DEBUG] [Database] upsert_user_stats:1109 - Average scores - Manga: 6.41, Anime: 0.00
[2025-09-24 23:52:46] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for Vireon
[2025-09-24 23:52:46] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes
        
[2025-09-24 23:52:46] [DEBUG] [Database] execute_db_operation:118 - Parameters: (1419744000977403994, 'Vireon', 1143, 2218, 6.41, 0.0, 184146, 49333)
[2025-09-24 23:52:46] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for Vireon completed in 0.002s
[2025-09-24 23:52:46] [INFO] [Database] upsert_user_stats:1135 - ✅ Successfully upserted stats for Vireon
[2025-09-24 23:52:46] [INFO] [Database] get_guild_leaderboard_data:1849 - Getting episodes leaderboard data for guild 897814031346319382
[2025-09-24 23:52:46] [DEBUG] [Database] execute_db_operation:115 - Executing get episodes leaderboard for guild 897814031346319382
[2025-09-24 23:52:46] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT u.anilist_username, us.total_manga, us.total_anime, 
                   us.total_chapters, us.total_episodes, us.avg_manga_score, us.avg_anime_score
            FROM users u 
            JOIN user_stats us ON u.discord_id = us.discord_id
            WHERE u.guild_id = ? AND u.anilist_username IS NOT NULL
        
[2025-09-24 23:52:46] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 23:52:46] [DEBUG] [Database] execute_db_operation:142 - get episodes leaderboard for guild 897814031346319382 completed in 0.002s
[2025-09-24 23:52:46] [DEBUG] [Database] execute_db_operation:148 - Query returned 16 rows
[2025-09-24 23:52:46] [INFO] [Database] get_guild_leaderboard_data:1914 - ✅ Retrieved 16 entries for episodes leaderboard in guild 897814031346319382
[2025-09-24 23:59:23] [INFO] [Database] <module>:60 - ==================================================
[2025-09-24 23:59:23] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-24 23:59:23] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-24 23:59:23] [INFO] [Database] <module>:63 - ==================================================
[2025-09-24 23:59:23] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-24 23:59:23] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-24 23:59:23] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-24 23:59:23] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-24 23:59:23] [INFO] [Database] init_db:1495 - ============================================================
[2025-09-24 23:59:23] [INFO] [Database] init_db:1496 - STARTING DATABASE INITIALIZATION
[2025-09-24 23:59:23] [INFO] [Database] init_db:1497 - ============================================================
[2025-09-24 23:59:23] [INFO] [Database] init_db:1522 - Verifying database connectivity...
[2025-09-24 23:59:23] [INFO] [Database] init_db:1525 - ✅ Database connectivity verified
[2025-09-24 23:59:23] [DEBUG] [Database] init_db:1530 - Initializing Users table...
[2025-09-24 23:59:23] [INFO] [Database] init_users_table:218 - Initializing users table
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-24 23:59:23] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.001s: duplicate column name: anilist_username
[2025-09-24 23:59:23] [DEBUG] [Database] init_users_table:251 - Column 'anilist_username' already exists in users table
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-24 23:59:23] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.002s: duplicate column name: anilist_id
[2025-09-24 23:59:23] [DEBUG] [Database] init_users_table:251 - Column 'anilist_id' already exists in users table
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:115 - Executing add guild_id column to users
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN guild_id INTEGER
[2025-09-24 23:59:23] [ERROR] [Database] execute_db_operation:156 - add guild_id column to users failed after 0.002s: duplicate column name: guild_id
[2025-09-24 23:59:23] [DEBUG] [Database] init_users_table:251 - Column 'guild_id' already exists in users table
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 23:59:23] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.002s: duplicate column name: created_at
[2025-09-24 23:59:23] [DEBUG] [Database] init_users_table:251 - Column 'created_at' already exists in users table
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-24 23:59:23] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.002s: duplicate column name: updated_at
[2025-09-24 23:59:23] [DEBUG] [Database] init_users_table:251 - Column 'updated_at' already exists in users table
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.002s
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:59:23] [DEBUG] [Database] init_users_table:258 - Users table schema: 8 columns
[2025-09-24 23:59:23] [DEBUG] [Database] init_users_table:260 -   Column: id (INTEGER)
[2025-09-24 23:59:23] [DEBUG] [Database] init_users_table:260 -   Column: discord_id (INTEGER)
[2025-09-24 23:59:23] [DEBUG] [Database] init_users_table:260 -   Column: guild_id (INTEGER)
[2025-09-24 23:59:23] [DEBUG] [Database] init_users_table:260 -   Column: username (TEXT)
[2025-09-24 23:59:23] [DEBUG] [Database] init_users_table:260 -   Column: anilist_username (TEXT)
[2025-09-24 23:59:23] [DEBUG] [Database] init_users_table:260 -   Column: anilist_id (INTEGER)
[2025-09-24 23:59:23] [DEBUG] [Database] init_users_table:260 -   Column: created_at (DATETIME)
[2025-09-24 23:59:23] [DEBUG] [Database] init_users_table:260 -   Column: updated_at (DATETIME)
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:115 - Executing check guild_id usage
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT COUNT(*) FROM users WHERE guild_id IS NOT NULL
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:142 - check guild_id usage completed in 0.002s
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 1
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 1, 'test1')
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 1 completed in 0.006s
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 2
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 2, 'test2')
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 2 completed in 0.007s
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:115 - Executing cleanup test data
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:116 - Query: DELETE FROM users WHERE discord_id = ?
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999,)
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:142 - cleanup test data completed in 0.007s
[2025-09-24 23:59:23] [INFO] [Database] init_users_table:298 - ✅ Multi-guild support confirmed - table supports multiple guilds per user
[2025-09-24 23:59:23] [INFO] [Database] init_users_table:312 - ✅ Users table initialization completed successfully
[2025-09-24 23:59:23] [DEBUG] [Database] init_db:1533 - ✅ Users table initialized successfully
[2025-09-24 23:59:23] [DEBUG] [Database] init_db:1530 - Initializing Challenge Rules table...
[2025-09-24 23:59:23] [INFO] [Database] init_challenge_rules_table:761 - Initializing challenge rules table
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.003s
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME
[2025-09-24 23:59:23] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.002s: duplicate column name: created_at
[2025-09-24 23:59:23] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'created_at' already exists in challenge_rules table
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME
[2025-09-24 23:59:23] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.002s: duplicate column name: updated_at
[2025-09-24 23:59:23] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'updated_at' already exists in challenge_rules table
[2025-09-24 23:59:23] [INFO] [Database] init_challenge_rules_table:790 - ✅ Challenge rules table initialization completed
[2025-09-24 23:59:23] [DEBUG] [Database] init_db:1533 - ✅ Challenge Rules table initialized successfully
[2025-09-24 23:59:23] [DEBUG] [Database] init_db:1530 - Initializing Recommendation Votes table...
[2025-09-24 23:59:23] [INFO] [Database] init_recommendation_votes_table:858 - Manga recommendation votes table ready.
[2025-09-24 23:59:23] [DEBUG] [Database] init_db:1533 - ✅ Recommendation Votes table initialized successfully
[2025-09-24 23:59:23] [DEBUG] [Database] init_db:1530 - Initializing User Stats table...
[2025-09-24 23:59:23] [INFO] [Database] init_user_stats_table:876 - User stats table ready.
[2025-09-24 23:59:23] [DEBUG] [Database] init_db:1533 - ✅ User Stats table initialized successfully
[2025-09-24 23:59:23] [DEBUG] [Database] init_db:1530 - Initializing Achievements table...
[2025-09-24 23:59:23] [INFO] [Database] init_achievements_table:911 - Achievements table ready.
[2025-09-24 23:59:23] [DEBUG] [Database] init_db:1533 - ✅ Achievements table initialized successfully
[2025-09-24 23:59:23] [DEBUG] [Database] init_db:1530 - Initializing User Manga Progress table...
[2025-09-24 23:59:23] [INFO] [Database] init_user_manga_progress_table:947 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-24 23:59:23] [DEBUG] [Database] init_db:1533 - ✅ User Manga Progress table initialized successfully
[2025-09-24 23:59:23] [DEBUG] [Database] init_db:1530 - Initializing Manga Challenges table...
[2025-09-24 23:59:23] [DEBUG] [Database] init_db:1533 - ✅ Manga Challenges table initialized successfully
[2025-09-24 23:59:23] [DEBUG] [Database] init_db:1530 - Initializing User Progress table...
[2025-09-24 23:59:23] [DEBUG] [Database] init_db:1533 - ✅ User Progress table initialized successfully
[2025-09-24 23:59:23] [DEBUG] [Database] init_db:1530 - Initializing Global Challenges table...
[2025-09-24 23:59:23] [INFO] [Database] init_global_challenges_table:1259 - Global challenges table ready with difficulty column.
[2025-09-24 23:59:23] [DEBUG] [Database] init_db:1533 - ✅ Global Challenges table initialized successfully
[2025-09-24 23:59:23] [DEBUG] [Database] init_db:1530 - Initializing Guild Challenge Roles table...
[2025-09-24 23:59:23] [INFO] [Database] init_guild_challenge_roles_table:1441 - 🔧 Initializing guild challenge roles table...
[2025-09-24 23:59:23] [INFO] [Database] get_guild_challenge_roles:2165 - Getting challenge roles for guild 897814031346319382
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:115 - Executing get challenge roles for guild 897814031346319382
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT challenge_id, threshold, role_id 
            FROM guild_challenge_roles 
            WHERE guild_id = ?
            ORDER BY challenge_id, threshold
        
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:142 - get challenge roles for guild 897814031346319382 completed in 0.002s
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:148 - Query returned 13 rows
[2025-09-24 23:59:23] [INFO] [Database] get_guild_challenge_roles:2193 - ✅ Retrieved 13 challenge role configurations for guild 897814031346319382
[2025-09-24 23:59:23] [INFO] [Database] migrate_default_challenge_roles:1473 - Default challenge roles already exist for primary guild 897814031346319382
[2025-09-24 23:59:23] [INFO] [Database] init_guild_challenge_roles_table:1461 - ✅ Guild challenge roles table ready.
[2025-09-24 23:59:23] [DEBUG] [Database] init_db:1533 - ✅ Guild Challenge Roles table initialized successfully
[2025-09-24 23:59:23] [DEBUG] [Database] init_db:1530 - Initializing Invite Tracker table...
[2025-09-24 23:59:23] [INFO] [Database] init_invite_tracker_tables:1349 - Initializing invite tracker tables
[2025-09-24 23:59:23] [INFO] [Database] init_invite_tracker_tables:1416 - ✅ Invite tracker tables initialized successfully
[2025-09-24 23:59:23] [DEBUG] [Database] init_db:1533 - ✅ Invite Tracker table initialized successfully
[2025-09-24 23:59:23] [DEBUG] [Database] init_db:1530 - Initializing Steam Users table...
[2025-09-24 23:59:23] [INFO] [Database] init_steam_users_table:1436 - Steam users table ready.
[2025-09-24 23:59:23] [DEBUG] [Database] init_db:1533 - ✅ Steam Users table initialized successfully
[2025-09-24 23:59:23] [DEBUG] [Database] init_db:1530 - Initializing Challenge Manga table...
[2025-09-24 23:59:23] [DEBUG] [Database] init_db:1533 - ✅ Challenge Manga table initialized successfully
[2025-09-24 23:59:23] [INFO] [Database] init_db:1544 - ============================================================
[2025-09-24 23:59:23] [INFO] [Database] init_db:1545 - DATABASE INITIALIZATION SUMMARY
[2025-09-24 23:59:23] [INFO] [Database] init_db:1546 - Total tables: 13
[2025-09-24 23:59:23] [INFO] [Database] init_db:1547 - Successfully initialized: 13
[2025-09-24 23:59:23] [INFO] [Database] init_db:1548 - Failed to initialize: 0
[2025-09-24 23:59:23] [INFO] [Database] init_db:1549 - Total time: 0.09 seconds
[2025-09-24 23:59:23] [INFO] [Database] init_db:1554 - ✅ All database tables initialized successfully
[2025-09-24 23:59:23] [INFO] [Database] init_db:1556 - ============================================================
[2025-09-24 23:59:23] [INFO] [Database] init_db:1561 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.002s
[2025-09-24 23:59:23] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-24 23:59:26] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 23:59:26] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:59:26] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-24 23:59:26] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:59:26] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 23:59:26] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 23:59:26] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 23:59:26] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 23:59:27] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:59:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:59:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-24 23:59:27] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 23:59:27] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:59:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:59:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-24 23:59:27] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 23:59:27] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:59:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:59:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-24 23:59:27] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 23:59:27] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:59:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:59:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-24 23:59:27] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 23:59:27] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:59:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:59:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-24 23:59:27] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 23:59:27] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:59:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:59:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-24 23:59:27] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 23:59:27] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:59:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:59:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-24 23:59:27] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-24 23:59:27] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-24 23:59:27] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-24 23:59:27] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-24 23:59:27] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-24 23:59:28] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 23:59:28] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:59:28] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-24 23:59:28] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:59:28] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 23:59:28] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 23:59:28] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 23:59:28] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-24 23:59:30] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-24 23:59:30] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-24 23:59:30] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-24 23:59:30] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-24 23:59:30] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-24 23:59:30] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-24 23:59:30] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-24 23:59:30] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-25 00:00:22] [INFO] [Database] get_all_users_guild_aware:1960 - Getting all users for guild 897814031346319382
[2025-09-25 00:00:22] [DEBUG] [Database] execute_db_operation:115 - Executing get all users for guild 897814031346319382
[2025-09-25 00:00:22] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE guild_id = ?
[2025-09-25 00:00:22] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-25 00:00:22] [DEBUG] [Database] execute_db_operation:142 - get all users for guild 897814031346319382 completed in 0.003s
[2025-09-25 00:00:22] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-25 00:00:22] [INFO] [Database] get_all_users_guild_aware:1974 - ✅ Retrieved 18 users for guild 897814031346319382
[2025-09-25 00:00:27] [INFO] [Database] get_guild_leaderboard_data:1882 - Getting manga_completed leaderboard data for guild 897814031346319382
[2025-09-25 00:00:27] [ERROR] [Database] get_guild_leaderboard_data:1951 - Validation error getting guild leaderboard: Invalid leaderboard_type: manga_completed
[2025-09-25 00:00:39] [INFO] [Database] get_all_users_guild_aware:1960 - Getting all users for guild 897814031346319382
[2025-09-25 00:00:39] [DEBUG] [Database] execute_db_operation:115 - Executing get all users for guild 897814031346319382
[2025-09-25 00:00:39] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE guild_id = ?
[2025-09-25 00:00:39] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-25 00:00:39] [DEBUG] [Database] execute_db_operation:142 - get all users for guild 897814031346319382 completed in 0.002s
[2025-09-25 00:00:39] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-25 00:00:39] [INFO] [Database] get_all_users_guild_aware:1974 - ✅ Retrieved 18 users for guild 897814031346319382
[2025-09-25 00:00:44] [INFO] [Database] get_guild_leaderboard_data:1882 - Getting anime_completed leaderboard data for guild 897814031346319382
[2025-09-25 00:00:44] [ERROR] [Database] get_guild_leaderboard_data:1951 - Validation error getting guild leaderboard: Invalid leaderboard_type: anime_completed
[2025-09-25 00:06:03] [INFO] [Database] <module>:60 - ==================================================
[2025-09-25 00:06:03] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-25 00:06:03] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-25 00:06:03] [INFO] [Database] <module>:63 - ==================================================
[2025-09-25 00:06:03] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-25 00:06:03] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-25 00:06:03] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-25 00:06:03] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-25 00:06:03] [INFO] [Database] init_db:1495 - ============================================================
[2025-09-25 00:06:03] [INFO] [Database] init_db:1496 - STARTING DATABASE INITIALIZATION
[2025-09-25 00:06:03] [INFO] [Database] init_db:1497 - ============================================================
[2025-09-25 00:06:03] [INFO] [Database] init_db:1522 - Verifying database connectivity...
[2025-09-25 00:06:03] [INFO] [Database] init_db:1525 - ✅ Database connectivity verified
[2025-09-25 00:06:03] [DEBUG] [Database] init_db:1530 - Initializing Users table...
[2025-09-25 00:06:03] [INFO] [Database] init_users_table:218 - Initializing users table
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-25 00:06:03] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.001s: duplicate column name: anilist_username
[2025-09-25 00:06:03] [DEBUG] [Database] init_users_table:251 - Column 'anilist_username' already exists in users table
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-25 00:06:03] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.001s: duplicate column name: anilist_id
[2025-09-25 00:06:03] [DEBUG] [Database] init_users_table:251 - Column 'anilist_id' already exists in users table
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:115 - Executing add guild_id column to users
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN guild_id INTEGER
[2025-09-25 00:06:03] [ERROR] [Database] execute_db_operation:156 - add guild_id column to users failed after 0.002s: duplicate column name: guild_id
[2025-09-25 00:06:03] [DEBUG] [Database] init_users_table:251 - Column 'guild_id' already exists in users table
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-25 00:06:03] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.001s: duplicate column name: created_at
[2025-09-25 00:06:03] [DEBUG] [Database] init_users_table:251 - Column 'created_at' already exists in users table
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-25 00:06:03] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.002s: duplicate column name: updated_at
[2025-09-25 00:06:03] [DEBUG] [Database] init_users_table:251 - Column 'updated_at' already exists in users table
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.002s
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-25 00:06:03] [DEBUG] [Database] init_users_table:258 - Users table schema: 8 columns
[2025-09-25 00:06:03] [DEBUG] [Database] init_users_table:260 -   Column: id (INTEGER)
[2025-09-25 00:06:03] [DEBUG] [Database] init_users_table:260 -   Column: discord_id (INTEGER)
[2025-09-25 00:06:03] [DEBUG] [Database] init_users_table:260 -   Column: guild_id (INTEGER)
[2025-09-25 00:06:03] [DEBUG] [Database] init_users_table:260 -   Column: username (TEXT)
[2025-09-25 00:06:03] [DEBUG] [Database] init_users_table:260 -   Column: anilist_username (TEXT)
[2025-09-25 00:06:03] [DEBUG] [Database] init_users_table:260 -   Column: anilist_id (INTEGER)
[2025-09-25 00:06:03] [DEBUG] [Database] init_users_table:260 -   Column: created_at (DATETIME)
[2025-09-25 00:06:03] [DEBUG] [Database] init_users_table:260 -   Column: updated_at (DATETIME)
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:115 - Executing check guild_id usage
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT COUNT(*) FROM users WHERE guild_id IS NOT NULL
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:142 - check guild_id usage completed in 0.002s
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 1
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 1, 'test1')
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 1 completed in 0.005s
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 2
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 2, 'test2')
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 2 completed in 0.005s
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:115 - Executing cleanup test data
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:116 - Query: DELETE FROM users WHERE discord_id = ?
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999,)
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:142 - cleanup test data completed in 0.006s
[2025-09-25 00:06:03] [INFO] [Database] init_users_table:298 - ✅ Multi-guild support confirmed - table supports multiple guilds per user
[2025-09-25 00:06:03] [INFO] [Database] init_users_table:312 - ✅ Users table initialization completed successfully
[2025-09-25 00:06:03] [DEBUG] [Database] init_db:1533 - ✅ Users table initialized successfully
[2025-09-25 00:06:03] [DEBUG] [Database] init_db:1530 - Initializing Challenge Rules table...
[2025-09-25 00:06:03] [INFO] [Database] init_challenge_rules_table:761 - Initializing challenge rules table
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.003s
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME
[2025-09-25 00:06:03] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.001s: duplicate column name: created_at
[2025-09-25 00:06:03] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'created_at' already exists in challenge_rules table
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME
[2025-09-25 00:06:03] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.001s: duplicate column name: updated_at
[2025-09-25 00:06:03] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'updated_at' already exists in challenge_rules table
[2025-09-25 00:06:03] [INFO] [Database] init_challenge_rules_table:790 - ✅ Challenge rules table initialization completed
[2025-09-25 00:06:03] [DEBUG] [Database] init_db:1533 - ✅ Challenge Rules table initialized successfully
[2025-09-25 00:06:03] [DEBUG] [Database] init_db:1530 - Initializing Recommendation Votes table...
[2025-09-25 00:06:03] [INFO] [Database] init_recommendation_votes_table:858 - Manga recommendation votes table ready.
[2025-09-25 00:06:03] [DEBUG] [Database] init_db:1533 - ✅ Recommendation Votes table initialized successfully
[2025-09-25 00:06:03] [DEBUG] [Database] init_db:1530 - Initializing User Stats table...
[2025-09-25 00:06:03] [INFO] [Database] init_user_stats_table:876 - User stats table ready.
[2025-09-25 00:06:03] [DEBUG] [Database] init_db:1533 - ✅ User Stats table initialized successfully
[2025-09-25 00:06:03] [DEBUG] [Database] init_db:1530 - Initializing Achievements table...
[2025-09-25 00:06:03] [INFO] [Database] init_achievements_table:911 - Achievements table ready.
[2025-09-25 00:06:03] [DEBUG] [Database] init_db:1533 - ✅ Achievements table initialized successfully
[2025-09-25 00:06:03] [DEBUG] [Database] init_db:1530 - Initializing User Manga Progress table...
[2025-09-25 00:06:03] [INFO] [Database] init_user_manga_progress_table:947 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-25 00:06:03] [DEBUG] [Database] init_db:1533 - ✅ User Manga Progress table initialized successfully
[2025-09-25 00:06:03] [DEBUG] [Database] init_db:1530 - Initializing Manga Challenges table...
[2025-09-25 00:06:03] [DEBUG] [Database] init_db:1533 - ✅ Manga Challenges table initialized successfully
[2025-09-25 00:06:03] [DEBUG] [Database] init_db:1530 - Initializing User Progress table...
[2025-09-25 00:06:03] [DEBUG] [Database] init_db:1533 - ✅ User Progress table initialized successfully
[2025-09-25 00:06:03] [DEBUG] [Database] init_db:1530 - Initializing Global Challenges table...
[2025-09-25 00:06:03] [INFO] [Database] init_global_challenges_table:1259 - Global challenges table ready with difficulty column.
[2025-09-25 00:06:03] [DEBUG] [Database] init_db:1533 - ✅ Global Challenges table initialized successfully
[2025-09-25 00:06:03] [DEBUG] [Database] init_db:1530 - Initializing Guild Challenge Roles table...
[2025-09-25 00:06:03] [INFO] [Database] init_guild_challenge_roles_table:1441 - 🔧 Initializing guild challenge roles table...
[2025-09-25 00:06:03] [INFO] [Database] get_guild_challenge_roles:2184 - Getting challenge roles for guild 897814031346319382
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:115 - Executing get challenge roles for guild 897814031346319382
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT challenge_id, threshold, role_id 
            FROM guild_challenge_roles 
            WHERE guild_id = ?
            ORDER BY challenge_id, threshold
        
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:142 - get challenge roles for guild 897814031346319382 completed in 0.002s
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:148 - Query returned 13 rows
[2025-09-25 00:06:03] [INFO] [Database] get_guild_challenge_roles:2212 - ✅ Retrieved 13 challenge role configurations for guild 897814031346319382
[2025-09-25 00:06:03] [INFO] [Database] migrate_default_challenge_roles:1473 - Default challenge roles already exist for primary guild 897814031346319382
[2025-09-25 00:06:03] [INFO] [Database] init_guild_challenge_roles_table:1461 - ✅ Guild challenge roles table ready.
[2025-09-25 00:06:03] [DEBUG] [Database] init_db:1533 - ✅ Guild Challenge Roles table initialized successfully
[2025-09-25 00:06:03] [DEBUG] [Database] init_db:1530 - Initializing Invite Tracker table...
[2025-09-25 00:06:03] [INFO] [Database] init_invite_tracker_tables:1349 - Initializing invite tracker tables
[2025-09-25 00:06:03] [INFO] [Database] init_invite_tracker_tables:1416 - ✅ Invite tracker tables initialized successfully
[2025-09-25 00:06:03] [DEBUG] [Database] init_db:1533 - ✅ Invite Tracker table initialized successfully
[2025-09-25 00:06:03] [DEBUG] [Database] init_db:1530 - Initializing Steam Users table...
[2025-09-25 00:06:03] [INFO] [Database] init_steam_users_table:1436 - Steam users table ready.
[2025-09-25 00:06:03] [DEBUG] [Database] init_db:1533 - ✅ Steam Users table initialized successfully
[2025-09-25 00:06:03] [DEBUG] [Database] init_db:1530 - Initializing Challenge Manga table...
[2025-09-25 00:06:03] [DEBUG] [Database] init_db:1533 - ✅ Challenge Manga table initialized successfully
[2025-09-25 00:06:03] [INFO] [Database] init_db:1544 - ============================================================
[2025-09-25 00:06:03] [INFO] [Database] init_db:1545 - DATABASE INITIALIZATION SUMMARY
[2025-09-25 00:06:03] [INFO] [Database] init_db:1546 - Total tables: 13
[2025-09-25 00:06:03] [INFO] [Database] init_db:1547 - Successfully initialized: 13
[2025-09-25 00:06:03] [INFO] [Database] init_db:1548 - Failed to initialize: 0
[2025-09-25 00:06:03] [INFO] [Database] init_db:1549 - Total time: 0.07 seconds
[2025-09-25 00:06:03] [INFO] [Database] init_db:1554 - ✅ All database tables initialized successfully
[2025-09-25 00:06:03] [INFO] [Database] init_db:1556 - ============================================================
[2025-09-25 00:06:03] [INFO] [Database] init_db:1561 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.002s
[2025-09-25 00:06:03] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-25 00:06:06] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-25 00:06:06] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-25 00:06:06] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-25 00:06:06] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-25 00:06:06] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-25 00:06:06] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-25 00:06:06] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-25 00:06:06] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-25 00:06:07] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-25 00:06:07] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-25 00:06:07] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-25 00:06:07] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-25 00:06:07] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-25 00:06:07] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-25 00:06:07] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-25 00:06:07] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-25 00:06:07] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-25 00:06:07] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-25 00:06:07] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-25 00:06:07] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-25 00:06:07] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-25 00:06:07] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-25 00:06:07] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-25 00:06:07] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-25 00:06:07] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-25 00:06:07] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-25 00:06:07] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-25 00:06:07] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-25 00:06:07] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-25 00:06:07] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-25 00:06:07] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-25 00:06:07] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-25 00:06:07] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-25 00:06:07] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-25 00:06:07] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-25 00:06:07] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-25 00:06:07] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-25 00:06:07] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-25 00:06:07] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-25 00:06:07] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-25 00:06:08] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-25 00:06:08] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-25 00:06:08] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-25 00:06:08] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-25 00:06:08] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-25 00:06:08] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-25 00:06:08] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-25 00:06:08] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-25 00:06:10] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-25 00:06:10] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-25 00:06:10] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-25 00:06:10] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-25 00:06:10] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-25 00:06:10] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-25 00:06:10] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-25 00:06:10] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-25 00:06:21] [INFO] [Database] get_all_users_guild_aware:1979 - Getting all users for guild 897814031346319382
[2025-09-25 00:06:21] [DEBUG] [Database] execute_db_operation:115 - Executing get all users for guild 897814031346319382
[2025-09-25 00:06:21] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE guild_id = ?
[2025-09-25 00:06:21] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-25 00:06:21] [DEBUG] [Database] execute_db_operation:142 - get all users for guild 897814031346319382 completed in 0.002s
[2025-09-25 00:06:21] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-25 00:06:21] [INFO] [Database] get_all_users_guild_aware:1993 - ✅ Retrieved 18 users for guild 897814031346319382
[2025-09-25 00:06:21] [INFO] [Database] upsert_user_stats_guild_aware:1864 - Upserting stats (guild-aware) for user Kyerstorm (Discord ID: 331164413623009281, Guild ID: 897814031346319382)
[2025-09-25 00:06:21] [WARNING] [Database] upsert_user_stats_guild_aware:1868 - user_stats table doesn't have guild_id column yet - using global stats for user 331164413623009281
[2025-09-25 00:06:21] [INFO] [Database] upsert_user_stats_guild_aware:1864 - Upserting stats (guild-aware) for user AZackInTime (Discord ID: 359452133831081984, Guild ID: 897814031346319382)
[2025-09-25 00:06:21] [WARNING] [Database] upsert_user_stats_guild_aware:1868 - user_stats table doesn't have guild_id column yet - using global stats for user 359452133831081984
[2025-09-25 00:06:22] [INFO] [Database] upsert_user_stats_guild_aware:1864 - Upserting stats (guild-aware) for user NobodyImportant (Discord ID: 360165403777040385, Guild ID: 897814031346319382)
[2025-09-25 00:06:22] [WARNING] [Database] upsert_user_stats_guild_aware:1868 - user_stats table doesn't have guild_id column yet - using global stats for user 360165403777040385
[2025-09-25 00:06:22] [INFO] [Database] upsert_user_stats_guild_aware:1864 - Upserting stats (guild-aware) for user xuehua (Discord ID: 369957492962099201, Guild ID: 897814031346319382)
[2025-09-25 00:06:22] [WARNING] [Database] upsert_user_stats_guild_aware:1868 - user_stats table doesn't have guild_id column yet - using global stats for user 369957492962099201
[2025-09-25 00:06:22] [INFO] [Database] upsert_user_stats_guild_aware:1864 - Upserting stats (guild-aware) for user nottdenito (Discord ID: 397394309977997314, Guild ID: 897814031346319382)
[2025-09-25 00:06:22] [WARNING] [Database] upsert_user_stats_guild_aware:1868 - user_stats table doesn't have guild_id column yet - using global stats for user 397394309977997314
[2025-09-25 00:06:23] [INFO] [Database] upsert_user_stats_guild_aware:1864 - Upserting stats (guild-aware) for user Tes (Discord ID: 461675352952012801, Guild ID: 897814031346319382)
[2025-09-25 00:06:23] [WARNING] [Database] upsert_user_stats_guild_aware:1868 - user_stats table doesn't have guild_id column yet - using global stats for user 461675352952012801
[2025-09-25 00:06:23] [INFO] [Database] upsert_user_stats_guild_aware:1864 - Upserting stats (guild-aware) for user raidflexer (Discord ID: 503946204296773642, Guild ID: 897814031346319382)
[2025-09-25 00:06:23] [WARNING] [Database] upsert_user_stats_guild_aware:1868 - user_stats table doesn't have guild_id column yet - using global stats for user 503946204296773642
[2025-09-25 00:06:24] [INFO] [Database] upsert_user_stats_guild_aware:1864 - Upserting stats (guild-aware) for user ThatJayGuy (Discord ID: 528583472663494656, Guild ID: 897814031346319382)
[2025-09-25 00:06:24] [WARNING] [Database] upsert_user_stats_guild_aware:1868 - user_stats table doesn't have guild_id column yet - using global stats for user 528583472663494656
[2025-09-25 00:06:24] [INFO] [Database] upsert_user_stats_guild_aware:1864 - Upserting stats (guild-aware) for user JellyJelmo (Discord ID: 586185435399716864, Guild ID: 897814031346319382)
[2025-09-25 00:06:24] [WARNING] [Database] upsert_user_stats_guild_aware:1868 - user_stats table doesn't have guild_id column yet - using global stats for user 586185435399716864
[2025-09-25 00:06:24] [INFO] [Database] upsert_user_stats_guild_aware:1864 - Upserting stats (guild-aware) for user LinClick (Discord ID: 591244355096936459, Guild ID: 897814031346319382)
[2025-09-25 00:06:24] [WARNING] [Database] upsert_user_stats_guild_aware:1868 - user_stats table doesn't have guild_id column yet - using global stats for user 591244355096936459
[2025-09-25 00:06:24] [INFO] [Database] upsert_user_stats_guild_aware:1864 - Upserting stats (guild-aware) for user Ruebin (Discord ID: 772776679608156180, Guild ID: 897814031346319382)
[2025-09-25 00:06:24] [WARNING] [Database] upsert_user_stats_guild_aware:1868 - user_stats table doesn't have guild_id column yet - using global stats for user 772776679608156180
[2025-09-25 00:06:25] [INFO] [Database] upsert_user_stats_guild_aware:1864 - Upserting stats (guild-aware) for user 1Frieren (Discord ID: 905468832406179850, Guild ID: 897814031346319382)
[2025-09-25 00:06:25] [WARNING] [Database] upsert_user_stats_guild_aware:1868 - user_stats table doesn't have guild_id column yet - using global stats for user 905468832406179850
[2025-09-25 00:06:25] [INFO] [Database] upsert_user_stats_guild_aware:1864 - Upserting stats (guild-aware) for user Judasz (Discord ID: 1019960555341107271, Guild ID: 897814031346319382)
[2025-09-25 00:06:25] [WARNING] [Database] upsert_user_stats_guild_aware:1868 - user_stats table doesn't have guild_id column yet - using global stats for user 1019960555341107271
[2025-09-25 00:06:26] [INFO] [Database] upsert_user_stats_guild_aware:1864 - Upserting stats (guild-aware) for user MyeTezz (Discord ID: 1034606763330248744, Guild ID: 897814031346319382)
[2025-09-25 00:06:26] [WARNING] [Database] upsert_user_stats_guild_aware:1868 - user_stats table doesn't have guild_id column yet - using global stats for user 1034606763330248744
[2025-09-25 00:06:26] [INFO] [Database] upsert_user_stats_guild_aware:1864 - Upserting stats (guild-aware) for user N006 (Discord ID: 1262304313481625704, Guild ID: 897814031346319382)
[2025-09-25 00:06:26] [WARNING] [Database] upsert_user_stats_guild_aware:1868 - user_stats table doesn't have guild_id column yet - using global stats for user 1262304313481625704
[2025-09-25 00:06:26] [INFO] [Database] upsert_user_stats_guild_aware:1864 - Upserting stats (guild-aware) for user Vireon (Discord ID: 1419744000977403994, Guild ID: 897814031346319382)
[2025-09-25 00:06:26] [WARNING] [Database] upsert_user_stats_guild_aware:1868 - user_stats table doesn't have guild_id column yet - using global stats for user 1419744000977403994
[2025-09-25 00:06:26] [INFO] [Database] get_guild_leaderboard_data:1886 - Getting anime_completed leaderboard data for guild 897814031346319382
[2025-09-25 00:06:26] [DEBUG] [Database] execute_db_operation:115 - Executing get anime_completed leaderboard for guild 897814031346319382
[2025-09-25 00:06:26] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT u.anilist_username, us.total_manga, us.total_anime, 
                   us.total_chapters, us.total_episodes, us.avg_manga_score, us.avg_anime_score,
                   us.manga_completed, us.anime_completed
            FROM users u 
            JOIN user_stats us ON u.discord_id = us.discord_id
            WHERE u.guild_id = ? AND u.anilist_username IS NOT NULL
        
[2025-09-25 00:06:26] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-25 00:06:26] [DEBUG] [Database] execute_db_operation:142 - get anime_completed leaderboard for guild 897814031346319382 completed in 0.003s
[2025-09-25 00:06:26] [DEBUG] [Database] execute_db_operation:148 - Query returned 16 rows
[2025-09-25 00:06:26] [ERROR] [Database] get_guild_leaderboard_data:1970 - Validation error getting guild leaderboard: too many values to unpack (expected 7)
[2025-09-25 00:06:37] [INFO] [Database] get_all_users_guild_aware:1979 - Getting all users for guild 897814031346319382
[2025-09-25 00:06:37] [DEBUG] [Database] execute_db_operation:115 - Executing get all users for guild 897814031346319382
[2025-09-25 00:06:37] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE guild_id = ?
[2025-09-25 00:06:37] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-25 00:06:37] [DEBUG] [Database] execute_db_operation:142 - get all users for guild 897814031346319382 completed in 0.002s
[2025-09-25 00:06:37] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-25 00:06:37] [INFO] [Database] get_all_users_guild_aware:1993 - ✅ Retrieved 18 users for guild 897814031346319382
[2025-09-25 00:06:38] [INFO] [Database] upsert_user_stats_guild_aware:1864 - Upserting stats (guild-aware) for user Kyerstorm (Discord ID: 331164413623009281, Guild ID: 897814031346319382)
[2025-09-25 00:06:38] [WARNING] [Database] upsert_user_stats_guild_aware:1868 - user_stats table doesn't have guild_id column yet - using global stats for user 331164413623009281
[2025-09-25 00:06:38] [INFO] [Database] upsert_user_stats_guild_aware:1864 - Upserting stats (guild-aware) for user AZackInTime (Discord ID: 359452133831081984, Guild ID: 897814031346319382)
[2025-09-25 00:06:38] [WARNING] [Database] upsert_user_stats_guild_aware:1868 - user_stats table doesn't have guild_id column yet - using global stats for user 359452133831081984
[2025-09-25 00:06:38] [INFO] [Database] upsert_user_stats_guild_aware:1864 - Upserting stats (guild-aware) for user NobodyImportant (Discord ID: 360165403777040385, Guild ID: 897814031346319382)
[2025-09-25 00:06:38] [WARNING] [Database] upsert_user_stats_guild_aware:1868 - user_stats table doesn't have guild_id column yet - using global stats for user 360165403777040385
[2025-09-25 00:06:39] [INFO] [Database] upsert_user_stats_guild_aware:1864 - Upserting stats (guild-aware) for user xuehua (Discord ID: 369957492962099201, Guild ID: 897814031346319382)
[2025-09-25 00:06:39] [WARNING] [Database] upsert_user_stats_guild_aware:1868 - user_stats table doesn't have guild_id column yet - using global stats for user 369957492962099201
[2025-09-25 00:06:39] [INFO] [Database] upsert_user_stats_guild_aware:1864 - Upserting stats (guild-aware) for user nottdenito (Discord ID: 397394309977997314, Guild ID: 897814031346319382)
[2025-09-25 00:06:39] [WARNING] [Database] upsert_user_stats_guild_aware:1868 - user_stats table doesn't have guild_id column yet - using global stats for user 397394309977997314
[2025-09-25 00:06:39] [INFO] [Database] upsert_user_stats_guild_aware:1864 - Upserting stats (guild-aware) for user Tes (Discord ID: 461675352952012801, Guild ID: 897814031346319382)
[2025-09-25 00:06:39] [WARNING] [Database] upsert_user_stats_guild_aware:1868 - user_stats table doesn't have guild_id column yet - using global stats for user 461675352952012801
[2025-09-25 00:06:39] [INFO] [Database] upsert_user_stats_guild_aware:1864 - Upserting stats (guild-aware) for user raidflexer (Discord ID: 503946204296773642, Guild ID: 897814031346319382)
[2025-09-25 00:06:39] [WARNING] [Database] upsert_user_stats_guild_aware:1868 - user_stats table doesn't have guild_id column yet - using global stats for user 503946204296773642
[2025-09-25 00:06:40] [INFO] [Database] upsert_user_stats_guild_aware:1864 - Upserting stats (guild-aware) for user ThatJayGuy (Discord ID: 528583472663494656, Guild ID: 897814031346319382)
[2025-09-25 00:06:40] [WARNING] [Database] upsert_user_stats_guild_aware:1868 - user_stats table doesn't have guild_id column yet - using global stats for user 528583472663494656
[2025-09-25 00:06:40] [INFO] [Database] upsert_user_stats_guild_aware:1864 - Upserting stats (guild-aware) for user JellyJelmo (Discord ID: 586185435399716864, Guild ID: 897814031346319382)
[2025-09-25 00:06:40] [WARNING] [Database] upsert_user_stats_guild_aware:1868 - user_stats table doesn't have guild_id column yet - using global stats for user 586185435399716864
[2025-09-25 00:06:40] [INFO] [Database] upsert_user_stats_guild_aware:1864 - Upserting stats (guild-aware) for user LinClick (Discord ID: 591244355096936459, Guild ID: 897814031346319382)
[2025-09-25 00:06:40] [WARNING] [Database] upsert_user_stats_guild_aware:1868 - user_stats table doesn't have guild_id column yet - using global stats for user 591244355096936459
[2025-09-25 00:06:41] [INFO] [Database] upsert_user_stats_guild_aware:1864 - Upserting stats (guild-aware) for user Ruebin (Discord ID: 772776679608156180, Guild ID: 897814031346319382)
[2025-09-25 00:06:41] [WARNING] [Database] upsert_user_stats_guild_aware:1868 - user_stats table doesn't have guild_id column yet - using global stats for user 772776679608156180
[2025-09-25 00:06:41] [INFO] [Database] upsert_user_stats_guild_aware:1864 - Upserting stats (guild-aware) for user 1Frieren (Discord ID: 905468832406179850, Guild ID: 897814031346319382)
[2025-09-25 00:06:41] [WARNING] [Database] upsert_user_stats_guild_aware:1868 - user_stats table doesn't have guild_id column yet - using global stats for user 905468832406179850
[2025-09-25 00:06:41] [INFO] [Database] upsert_user_stats_guild_aware:1864 - Upserting stats (guild-aware) for user Judasz (Discord ID: 1019960555341107271, Guild ID: 897814031346319382)
[2025-09-25 00:06:41] [WARNING] [Database] upsert_user_stats_guild_aware:1868 - user_stats table doesn't have guild_id column yet - using global stats for user 1019960555341107271
[2025-09-25 00:06:42] [INFO] [Database] get_guild_leaderboard_data:1886 - Getting anime_completed leaderboard data for guild 897814031346319382
[2025-09-25 00:06:42] [DEBUG] [Database] execute_db_operation:115 - Executing get anime_completed leaderboard for guild 897814031346319382
[2025-09-25 00:06:42] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT u.anilist_username, us.total_manga, us.total_anime, 
                   us.total_chapters, us.total_episodes, us.avg_manga_score, us.avg_anime_score,
                   us.manga_completed, us.anime_completed
            FROM users u 
            JOIN user_stats us ON u.discord_id = us.discord_id
            WHERE u.guild_id = ? AND u.anilist_username IS NOT NULL
        
[2025-09-25 00:06:42] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-25 00:06:42] [DEBUG] [Database] execute_db_operation:142 - get anime_completed leaderboard for guild 897814031346319382 completed in 0.002s
[2025-09-25 00:06:42] [DEBUG] [Database] execute_db_operation:148 - Query returned 16 rows
[2025-09-25 00:06:42] [ERROR] [Database] get_guild_leaderboard_data:1970 - Validation error getting guild leaderboard: too many values to unpack (expected 7)
[2025-09-25 00:12:13] [INFO] [Database] <module>:60 - ==================================================
[2025-09-25 00:12:13] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-25 00:12:13] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-25 00:12:13] [INFO] [Database] <module>:63 - ==================================================
[2025-09-25 00:12:13] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-25 00:12:13] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-25 00:12:13] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-25 00:12:13] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-25 00:12:13] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user Kyerstorm (Discord ID: 331164413623009281)
[2025-09-25 00:12:13] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 1455, Anime: 473, Chapters: 10000, Episodes: 8000
[2025-09-25 00:12:13] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 5.50, Anime: 6.10
[2025-09-25 00:12:13] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for Kyerstorm
[2025-09-25 00:12:13] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:12:13] [DEBUG] [Database] execute_db_operation:118 - Parameters: (331164413623009281, 'Kyerstorm', 1455, 473, 5.5, 6.1, 10000, 8000, 42, 128)
[2025-09-25 00:12:13] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for Kyerstorm completed in 0.006s
[2025-09-25 00:12:13] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for Kyerstorm
[2025-09-25 00:12:44] [INFO] [Database] <module>:60 - ==================================================
[2025-09-25 00:12:44] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-25 00:12:44] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-25 00:12:44] [INFO] [Database] <module>:63 - ==================================================
[2025-09-25 00:12:44] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-25 00:12:44] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-25 00:12:44] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-25 00:12:44] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-25 00:12:44] [INFO] [Database] init_db:1497 - ============================================================
[2025-09-25 00:12:44] [INFO] [Database] init_db:1498 - STARTING DATABASE INITIALIZATION
[2025-09-25 00:12:44] [INFO] [Database] init_db:1499 - ============================================================
[2025-09-25 00:12:44] [INFO] [Database] init_db:1524 - Verifying database connectivity...
[2025-09-25 00:12:44] [INFO] [Database] init_db:1527 - ✅ Database connectivity verified
[2025-09-25 00:12:44] [DEBUG] [Database] init_db:1532 - Initializing Users table...
[2025-09-25 00:12:44] [INFO] [Database] init_users_table:218 - Initializing users table
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-25 00:12:44] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.002s: duplicate column name: anilist_username
[2025-09-25 00:12:44] [DEBUG] [Database] init_users_table:251 - Column 'anilist_username' already exists in users table
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-25 00:12:44] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.001s: duplicate column name: anilist_id
[2025-09-25 00:12:44] [DEBUG] [Database] init_users_table:251 - Column 'anilist_id' already exists in users table
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:115 - Executing add guild_id column to users
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN guild_id INTEGER
[2025-09-25 00:12:44] [ERROR] [Database] execute_db_operation:156 - add guild_id column to users failed after 0.002s: duplicate column name: guild_id
[2025-09-25 00:12:44] [DEBUG] [Database] init_users_table:251 - Column 'guild_id' already exists in users table
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-25 00:12:44] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.001s: duplicate column name: created_at
[2025-09-25 00:12:44] [DEBUG] [Database] init_users_table:251 - Column 'created_at' already exists in users table
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-25 00:12:44] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.002s: duplicate column name: updated_at
[2025-09-25 00:12:44] [DEBUG] [Database] init_users_table:251 - Column 'updated_at' already exists in users table
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.002s
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-25 00:12:44] [DEBUG] [Database] init_users_table:258 - Users table schema: 8 columns
[2025-09-25 00:12:44] [DEBUG] [Database] init_users_table:260 -   Column: id (INTEGER)
[2025-09-25 00:12:44] [DEBUG] [Database] init_users_table:260 -   Column: discord_id (INTEGER)
[2025-09-25 00:12:44] [DEBUG] [Database] init_users_table:260 -   Column: guild_id (INTEGER)
[2025-09-25 00:12:44] [DEBUG] [Database] init_users_table:260 -   Column: username (TEXT)
[2025-09-25 00:12:44] [DEBUG] [Database] init_users_table:260 -   Column: anilist_username (TEXT)
[2025-09-25 00:12:44] [DEBUG] [Database] init_users_table:260 -   Column: anilist_id (INTEGER)
[2025-09-25 00:12:44] [DEBUG] [Database] init_users_table:260 -   Column: created_at (DATETIME)
[2025-09-25 00:12:44] [DEBUG] [Database] init_users_table:260 -   Column: updated_at (DATETIME)
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:115 - Executing check guild_id usage
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT COUNT(*) FROM users WHERE guild_id IS NOT NULL
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:142 - check guild_id usage completed in 0.002s
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 1
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 1, 'test1')
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 1 completed in 0.005s
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 2
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 2, 'test2')
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 2 completed in 0.006s
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:115 - Executing cleanup test data
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:116 - Query: DELETE FROM users WHERE discord_id = ?
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999,)
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:142 - cleanup test data completed in 0.005s
[2025-09-25 00:12:44] [INFO] [Database] init_users_table:298 - ✅ Multi-guild support confirmed - table supports multiple guilds per user
[2025-09-25 00:12:44] [INFO] [Database] init_users_table:312 - ✅ Users table initialization completed successfully
[2025-09-25 00:12:44] [DEBUG] [Database] init_db:1535 - ✅ Users table initialized successfully
[2025-09-25 00:12:44] [DEBUG] [Database] init_db:1532 - Initializing Challenge Rules table...
[2025-09-25 00:12:44] [INFO] [Database] init_challenge_rules_table:761 - Initializing challenge rules table
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.002s
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME
[2025-09-25 00:12:44] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.001s: duplicate column name: created_at
[2025-09-25 00:12:44] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'created_at' already exists in challenge_rules table
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME
[2025-09-25 00:12:44] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.001s: duplicate column name: updated_at
[2025-09-25 00:12:44] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'updated_at' already exists in challenge_rules table
[2025-09-25 00:12:44] [INFO] [Database] init_challenge_rules_table:790 - ✅ Challenge rules table initialization completed
[2025-09-25 00:12:44] [DEBUG] [Database] init_db:1535 - ✅ Challenge Rules table initialized successfully
[2025-09-25 00:12:44] [DEBUG] [Database] init_db:1532 - Initializing Recommendation Votes table...
[2025-09-25 00:12:44] [INFO] [Database] init_recommendation_votes_table:858 - Manga recommendation votes table ready.
[2025-09-25 00:12:44] [DEBUG] [Database] init_db:1535 - ✅ Recommendation Votes table initialized successfully
[2025-09-25 00:12:44] [DEBUG] [Database] init_db:1532 - Initializing User Stats table...
[2025-09-25 00:12:44] [INFO] [Database] init_user_stats_table:876 - User stats table ready.
[2025-09-25 00:12:44] [DEBUG] [Database] init_db:1535 - ✅ User Stats table initialized successfully
[2025-09-25 00:12:44] [DEBUG] [Database] init_db:1532 - Initializing Achievements table...
[2025-09-25 00:12:44] [INFO] [Database] init_achievements_table:911 - Achievements table ready.
[2025-09-25 00:12:44] [DEBUG] [Database] init_db:1535 - ✅ Achievements table initialized successfully
[2025-09-25 00:12:44] [DEBUG] [Database] init_db:1532 - Initializing User Manga Progress table...
[2025-09-25 00:12:44] [INFO] [Database] init_user_manga_progress_table:947 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-25 00:12:44] [DEBUG] [Database] init_db:1535 - ✅ User Manga Progress table initialized successfully
[2025-09-25 00:12:44] [DEBUG] [Database] init_db:1532 - Initializing Manga Challenges table...
[2025-09-25 00:12:44] [DEBUG] [Database] init_db:1535 - ✅ Manga Challenges table initialized successfully
[2025-09-25 00:12:44] [DEBUG] [Database] init_db:1532 - Initializing User Progress table...
[2025-09-25 00:12:44] [DEBUG] [Database] init_db:1535 - ✅ User Progress table initialized successfully
[2025-09-25 00:12:44] [DEBUG] [Database] init_db:1532 - Initializing Global Challenges table...
[2025-09-25 00:12:44] [INFO] [Database] init_global_challenges_table:1261 - Global challenges table ready with difficulty column.
[2025-09-25 00:12:44] [DEBUG] [Database] init_db:1535 - ✅ Global Challenges table initialized successfully
[2025-09-25 00:12:44] [DEBUG] [Database] init_db:1532 - Initializing Guild Challenge Roles table...
[2025-09-25 00:12:44] [INFO] [Database] init_guild_challenge_roles_table:1443 - 🔧 Initializing guild challenge roles table...
[2025-09-25 00:12:44] [INFO] [Database] get_guild_challenge_roles:2187 - Getting challenge roles for guild 897814031346319382
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:115 - Executing get challenge roles for guild 897814031346319382
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT challenge_id, threshold, role_id 
            FROM guild_challenge_roles 
            WHERE guild_id = ?
            ORDER BY challenge_id, threshold
        
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:142 - get challenge roles for guild 897814031346319382 completed in 0.002s
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:148 - Query returned 13 rows
[2025-09-25 00:12:44] [INFO] [Database] get_guild_challenge_roles:2215 - ✅ Retrieved 13 challenge role configurations for guild 897814031346319382
[2025-09-25 00:12:44] [INFO] [Database] migrate_default_challenge_roles:1475 - Default challenge roles already exist for primary guild 897814031346319382
[2025-09-25 00:12:44] [INFO] [Database] init_guild_challenge_roles_table:1463 - ✅ Guild challenge roles table ready.
[2025-09-25 00:12:44] [DEBUG] [Database] init_db:1535 - ✅ Guild Challenge Roles table initialized successfully
[2025-09-25 00:12:44] [DEBUG] [Database] init_db:1532 - Initializing Invite Tracker table...
[2025-09-25 00:12:44] [INFO] [Database] init_invite_tracker_tables:1351 - Initializing invite tracker tables
[2025-09-25 00:12:44] [INFO] [Database] init_invite_tracker_tables:1418 - ✅ Invite tracker tables initialized successfully
[2025-09-25 00:12:44] [DEBUG] [Database] init_db:1535 - ✅ Invite Tracker table initialized successfully
[2025-09-25 00:12:44] [DEBUG] [Database] init_db:1532 - Initializing Steam Users table...
[2025-09-25 00:12:44] [INFO] [Database] init_steam_users_table:1438 - Steam users table ready.
[2025-09-25 00:12:44] [DEBUG] [Database] init_db:1535 - ✅ Steam Users table initialized successfully
[2025-09-25 00:12:44] [DEBUG] [Database] init_db:1532 - Initializing Challenge Manga table...
[2025-09-25 00:12:44] [DEBUG] [Database] init_db:1535 - ✅ Challenge Manga table initialized successfully
[2025-09-25 00:12:44] [INFO] [Database] init_db:1546 - ============================================================
[2025-09-25 00:12:44] [INFO] [Database] init_db:1547 - DATABASE INITIALIZATION SUMMARY
[2025-09-25 00:12:44] [INFO] [Database] init_db:1548 - Total tables: 13
[2025-09-25 00:12:44] [INFO] [Database] init_db:1549 - Successfully initialized: 13
[2025-09-25 00:12:44] [INFO] [Database] init_db:1550 - Failed to initialize: 0
[2025-09-25 00:12:44] [INFO] [Database] init_db:1551 - Total time: 0.07 seconds
[2025-09-25 00:12:44] [INFO] [Database] init_db:1556 - ✅ All database tables initialized successfully
[2025-09-25 00:12:44] [INFO] [Database] init_db:1558 - ============================================================
[2025-09-25 00:12:44] [INFO] [Database] init_db:1563 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.002s
[2025-09-25 00:12:44] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-25 00:12:47] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-25 00:12:47] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-25 00:12:47] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-25 00:12:47] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-25 00:12:47] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-25 00:12:47] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-25 00:12:47] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-25 00:12:47] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-25 00:12:47] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-25 00:12:47] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-25 00:12:47] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-25 00:12:47] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-25 00:12:47] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-25 00:12:47] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-25 00:12:47] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-25 00:12:47] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-25 00:12:47] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-25 00:12:47] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-25 00:12:47] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-25 00:12:47] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-25 00:12:47] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-25 00:12:47] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-25 00:12:47] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-25 00:12:47] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-25 00:12:47] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-25 00:12:47] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-25 00:12:47] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-25 00:12:47] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-25 00:12:47] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-25 00:12:47] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-25 00:12:47] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-25 00:12:47] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-25 00:12:47] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-25 00:12:47] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-25 00:12:47] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-25 00:12:47] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-25 00:12:47] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-25 00:12:47] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-25 00:12:47] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-25 00:12:47] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-25 00:12:49] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-25 00:12:49] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-25 00:12:49] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-25 00:12:49] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-25 00:12:49] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-25 00:12:49] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-25 00:12:49] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-25 00:12:49] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-25 00:12:51] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-25 00:12:51] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-25 00:12:51] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-25 00:12:51] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-25 00:12:51] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-25 00:12:51] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-25 00:12:51] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-25 00:12:51] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-25 00:13:03] [INFO] [Database] get_all_users_guild_aware:1982 - Getting all users for guild 897814031346319382
[2025-09-25 00:13:03] [DEBUG] [Database] execute_db_operation:115 - Executing get all users for guild 897814031346319382
[2025-09-25 00:13:03] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE guild_id = ?
[2025-09-25 00:13:03] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-25 00:13:03] [DEBUG] [Database] execute_db_operation:142 - get all users for guild 897814031346319382 completed in 0.003s
[2025-09-25 00:13:03] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-25 00:13:03] [INFO] [Database] get_all_users_guild_aware:1996 - ✅ Retrieved 18 users for guild 897814031346319382
[2025-09-25 00:13:03] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user Kyerstorm (Discord ID: 331164413623009281, Guild ID: 897814031346319382)
[2025-09-25 00:13:03] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 331164413623009281
[2025-09-25 00:13:03] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user Kyerstorm (Discord ID: 331164413623009281)
[2025-09-25 00:13:03] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 1455, Anime: 473, Chapters: 161685, Episodes: 5911
[2025-09-25 00:13:03] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 64.01, Anime: 65.86
[2025-09-25 00:13:03] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for Kyerstorm
[2025-09-25 00:13:03] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:13:03] [DEBUG] [Database] execute_db_operation:118 - Parameters: (331164413623009281, 'Kyerstorm', 1455, 473, 64.01, 65.86, 161685, 5911, 664, 438)
[2025-09-25 00:13:03] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for Kyerstorm completed in 0.005s
[2025-09-25 00:13:03] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for Kyerstorm
[2025-09-25 00:13:03] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user AZackInTime (Discord ID: 359452133831081984, Guild ID: 897814031346319382)
[2025-09-25 00:13:03] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 359452133831081984
[2025-09-25 00:13:03] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user AZackInTime (Discord ID: 359452133831081984)
[2025-09-25 00:13:03] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 755, Anime: 901, Chapters: 78309, Episodes: 13292
[2025-09-25 00:13:03] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 68.84, Anime: 68.66
[2025-09-25 00:13:03] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for AZackInTime
[2025-09-25 00:13:03] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:13:03] [DEBUG] [Database] execute_db_operation:118 - Parameters: (359452133831081984, 'AZackInTime', 755, 901, 68.84, 68.66, 78309, 13292, 331, 658)
[2025-09-25 00:13:03] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for AZackInTime completed in 0.006s
[2025-09-25 00:13:03] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for AZackInTime
[2025-09-25 00:13:03] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user NobodyImportant (Discord ID: 360165403777040385, Guild ID: 897814031346319382)
[2025-09-25 00:13:03] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 360165403777040385
[2025-09-25 00:13:03] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user NobodyImportant (Discord ID: 360165403777040385)
[2025-09-25 00:13:03] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 901, Anime: 230, Chapters: 32970, Episodes: 4508
[2025-09-25 00:13:03] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 80.81, Anime: 89.40
[2025-09-25 00:13:03] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for NobodyImportant
[2025-09-25 00:13:03] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:13:03] [DEBUG] [Database] execute_db_operation:118 - Parameters: (360165403777040385, 'NobodyImportant', 901, 230, 80.81, 89.4, 32970, 4508, 414, 186)
[2025-09-25 00:13:03] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for NobodyImportant completed in 0.006s
[2025-09-25 00:13:03] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for NobodyImportant
[2025-09-25 00:13:04] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user xuehua (Discord ID: 369957492962099201, Guild ID: 897814031346319382)
[2025-09-25 00:13:04] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 369957492962099201
[2025-09-25 00:13:04] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user xuehua (Discord ID: 369957492962099201)
[2025-09-25 00:13:04] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 144, Anime: 1430, Chapters: 9162, Episodes: 21089
[2025-09-25 00:13:04] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 0.00, Anime: 0.00
[2025-09-25 00:13:04] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for xuehua
[2025-09-25 00:13:04] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:13:04] [DEBUG] [Database] execute_db_operation:118 - Parameters: (369957492962099201, 'xuehua', 144, 1430, 0.0, 0.0, 9162, 21089, 79, 1394)
[2025-09-25 00:13:04] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for xuehua completed in 0.006s
[2025-09-25 00:13:04] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for xuehua
[2025-09-25 00:13:04] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user nottdenito (Discord ID: 397394309977997314, Guild ID: 897814031346319382)
[2025-09-25 00:13:04] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 397394309977997314
[2025-09-25 00:13:04] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user nottdenito (Discord ID: 397394309977997314)
[2025-09-25 00:13:04] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 403, Anime: 725, Chapters: 24096, Episodes: 11724
[2025-09-25 00:13:04] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 3.21, Anime: 3.19
[2025-09-25 00:13:04] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for nottdenito
[2025-09-25 00:13:04] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:13:04] [DEBUG] [Database] execute_db_operation:118 - Parameters: (397394309977997314, 'nottdenito', 403, 725, 3.21, 3.19, 24096, 11724, 220, 635)
[2025-09-25 00:13:04] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for nottdenito completed in 0.006s
[2025-09-25 00:13:04] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for nottdenito
[2025-09-25 00:13:04] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user Tes (Discord ID: 461675352952012801, Guild ID: 897814031346319382)
[2025-09-25 00:13:04] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 461675352952012801
[2025-09-25 00:13:04] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user Tes (Discord ID: 461675352952012801)
[2025-09-25 00:13:04] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 563, Anime: 116, Chapters: 122004, Episodes: 5581
[2025-09-25 00:13:04] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 75.62, Anime: 78.23
[2025-09-25 00:13:04] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for Tes
[2025-09-25 00:13:04] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:13:04] [DEBUG] [Database] execute_db_operation:118 - Parameters: (461675352952012801, 'Tes', 563, 116, 75.62, 78.23, 122004, 5581, 295, 94)
[2025-09-25 00:13:04] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for Tes completed in 0.006s
[2025-09-25 00:13:04] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for Tes
[2025-09-25 00:13:05] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user raidflexer (Discord ID: 503946204296773642, Guild ID: 897814031346319382)
[2025-09-25 00:13:05] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 503946204296773642
[2025-09-25 00:13:05] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user raidflexer (Discord ID: 503946204296773642)
[2025-09-25 00:13:05] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 624, Anime: 120, Chapters: 37382, Episodes: 3620
[2025-09-25 00:13:05] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 2.77, Anime: 2.93
[2025-09-25 00:13:05] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for raidflexer
[2025-09-25 00:13:05] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:13:05] [DEBUG] [Database] execute_db_operation:118 - Parameters: (503946204296773642, 'raidflexer', 624, 120, 2.77, 2.93, 37382, 3620, 492, 100)
[2025-09-25 00:13:05] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for raidflexer completed in 0.006s
[2025-09-25 00:13:05] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for raidflexer
[2025-09-25 00:13:05] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user ThatJayGuy (Discord ID: 528583472663494656, Guild ID: 897814031346319382)
[2025-09-25 00:13:05] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 528583472663494656
[2025-09-25 00:13:05] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user ThatJayGuy (Discord ID: 528583472663494656)
[2025-09-25 00:13:05] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 1178, Anime: 521, Chapters: 82696, Episodes: 8309
[2025-09-25 00:13:05] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 0.00, Anime: 1.00
[2025-09-25 00:13:05] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for ThatJayGuy
[2025-09-25 00:13:05] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:13:05] [DEBUG] [Database] execute_db_operation:118 - Parameters: (528583472663494656, 'ThatJayGuy', 1178, 521, 0.0, 1.0, 82696, 8309, 303, 396)
[2025-09-25 00:13:05] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for ThatJayGuy completed in 0.006s
[2025-09-25 00:13:05] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for ThatJayGuy
[2025-09-25 00:13:05] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user JellyJelmo (Discord ID: 586185435399716864, Guild ID: 897814031346319382)
[2025-09-25 00:13:05] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 586185435399716864
[2025-09-25 00:13:05] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user JellyJelmo (Discord ID: 586185435399716864)
[2025-09-25 00:13:05] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 333, Anime: 89, Chapters: 68754, Episodes: 3946
[2025-09-25 00:13:05] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 0.00, Anime: 2.70
[2025-09-25 00:13:05] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for JellyJelmo
[2025-09-25 00:13:05] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:13:05] [DEBUG] [Database] execute_db_operation:118 - Parameters: (586185435399716864, 'JellyJelmo', 333, 89, 0.0, 2.7, 68754, 3946, 250, 85)
[2025-09-25 00:13:05] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for JellyJelmo completed in 0.006s
[2025-09-25 00:13:05] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for JellyJelmo
[2025-09-25 00:13:06] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user LinClick (Discord ID: 591244355096936459, Guild ID: 897814031346319382)
[2025-09-25 00:13:06] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 591244355096936459
[2025-09-25 00:13:06] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user LinClick (Discord ID: 591244355096936459)
[2025-09-25 00:13:06] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 1550, Anime: 223, Chapters: 118586, Episodes: 5491
[2025-09-25 00:13:06] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 0.00, Anime: 75.20
[2025-09-25 00:13:06] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for LinClick
[2025-09-25 00:13:06] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:13:06] [DEBUG] [Database] execute_db_operation:118 - Parameters: (591244355096936459, 'LinClick', 1550, 223, 0.0, 75.2, 118586, 5491, 504, 218)
[2025-09-25 00:13:06] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for LinClick completed in 0.006s
[2025-09-25 00:13:06] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for LinClick
[2025-09-25 00:13:06] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user Ruebin (Discord ID: 772776679608156180, Guild ID: 897814031346319382)
[2025-09-25 00:13:06] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 772776679608156180
[2025-09-25 00:13:06] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user Ruebin (Discord ID: 772776679608156180)
[2025-09-25 00:13:06] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 98, Anime: 63, Chapters: 25404, Episodes: 2405
[2025-09-25 00:13:06] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 89.11, Anime: 85.08
[2025-09-25 00:13:06] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for Ruebin
[2025-09-25 00:13:06] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:13:06] [DEBUG] [Database] execute_db_operation:118 - Parameters: (772776679608156180, 'Ruebin', 98, 63, 89.11, 85.08, 25404, 2405, 50, 58)
[2025-09-25 00:13:06] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for Ruebin completed in 0.006s
[2025-09-25 00:13:06] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for Ruebin
[2025-09-25 00:13:07] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user 1Frieren (Discord ID: 905468832406179850, Guild ID: 897814031346319382)
[2025-09-25 00:13:07] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 905468832406179850
[2025-09-25 00:13:07] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user 1Frieren (Discord ID: 905468832406179850)
[2025-09-25 00:13:07] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 51, Anime: 657, Chapters: 7027, Episodes: 11571
[2025-09-25 00:13:07] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 0.00, Anime: 5.00
[2025-09-25 00:13:07] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for 1Frieren
[2025-09-25 00:13:07] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:13:07] [DEBUG] [Database] execute_db_operation:118 - Parameters: (905468832406179850, '1Frieren', 51, 657, 0.0, 5.0, 7027, 11571, 16, 619)
[2025-09-25 00:13:07] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for 1Frieren completed in 0.006s
[2025-09-25 00:13:07] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for 1Frieren
[2025-09-25 00:13:07] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user Judasz (Discord ID: 1019960555341107271, Guild ID: 897814031346319382)
[2025-09-25 00:13:07] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 1019960555341107271
[2025-09-25 00:13:07] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user Judasz (Discord ID: 1019960555341107271)
[2025-09-25 00:13:07] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 99, Anime: 305, Chapters: 12723, Episodes: 8211
[2025-09-25 00:13:07] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 2.35, Anime: 0.00
[2025-09-25 00:13:07] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for Judasz
[2025-09-25 00:13:07] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:13:07] [DEBUG] [Database] execute_db_operation:118 - Parameters: (1019960555341107271, 'Judasz', 99, 305, 2.35, 0.0, 12723, 8211, 57, 297)
[2025-09-25 00:13:07] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for Judasz completed in 0.006s
[2025-09-25 00:13:07] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for Judasz
[2025-09-25 00:13:07] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user MyeTezz (Discord ID: 1034606763330248744, Guild ID: 897814031346319382)
[2025-09-25 00:13:07] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 1034606763330248744
[2025-09-25 00:13:07] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user MyeTezz (Discord ID: 1034606763330248744)
[2025-09-25 00:13:07] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 836, Anime: 1113, Chapters: 63947, Episodes: 11292
[2025-09-25 00:13:07] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 0.00, Anime: 0.00
[2025-09-25 00:13:07] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for MyeTezz
[2025-09-25 00:13:07] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:13:07] [DEBUG] [Database] execute_db_operation:118 - Parameters: (1034606763330248744, 'MyeTezz', 836, 1113, 0.0, 0.0, 63947, 11292, 650, 1108)
[2025-09-25 00:13:07] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for MyeTezz completed in 0.006s
[2025-09-25 00:13:07] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for MyeTezz
[2025-09-25 00:13:08] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user N006 (Discord ID: 1262304313481625704, Guild ID: 897814031346319382)
[2025-09-25 00:13:08] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 1262304313481625704
[2025-09-25 00:13:08] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user N006 (Discord ID: 1262304313481625704)
[2025-09-25 00:13:08] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 5, Anime: 834, Chapters: 345, Episodes: 11163
[2025-09-25 00:13:08] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 84.00, Anime: 70.21
[2025-09-25 00:13:08] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for N006
[2025-09-25 00:13:08] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:13:08] [DEBUG] [Database] execute_db_operation:118 - Parameters: (1262304313481625704, 'N006', 5, 834, 84.0, 70.21, 345, 11163, 5, 819)
[2025-09-25 00:13:08] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for N006 completed in 0.007s
[2025-09-25 00:13:08] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for N006
[2025-09-25 00:13:08] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user Vireon (Discord ID: 1419744000977403994, Guild ID: 897814031346319382)
[2025-09-25 00:13:08] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 1419744000977403994
[2025-09-25 00:13:08] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user Vireon (Discord ID: 1419744000977403994)
[2025-09-25 00:13:08] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 1143, Anime: 2218, Chapters: 184146, Episodes: 49333
[2025-09-25 00:13:08] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 6.41, Anime: 0.00
[2025-09-25 00:13:08] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for Vireon
[2025-09-25 00:13:08] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:13:08] [DEBUG] [Database] execute_db_operation:118 - Parameters: (1419744000977403994, 'Vireon', 1143, 2218, 6.41, 0.0, 184146, 49333, 807, 1773)
[2025-09-25 00:13:08] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for Vireon completed in 0.006s
[2025-09-25 00:13:08] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for Vireon
[2025-09-25 00:13:08] [INFO] [Database] get_guild_leaderboard_data:1888 - Getting manga_completed leaderboard data for guild 897814031346319382
[2025-09-25 00:13:08] [DEBUG] [Database] execute_db_operation:115 - Executing get manga_completed leaderboard for guild 897814031346319382
[2025-09-25 00:13:08] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT u.anilist_username, us.total_manga, us.total_anime, 
                   us.total_chapters, us.total_episodes, us.avg_manga_score, us.avg_anime_score,
                   us.manga_completed, us.anime_completed
            FROM users u 
            JOIN user_stats us ON u.discord_id = us.discord_id
            WHERE u.guild_id = ? AND u.anilist_username IS NOT NULL
        
[2025-09-25 00:13:08] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-25 00:13:08] [DEBUG] [Database] execute_db_operation:142 - get manga_completed leaderboard for guild 897814031346319382 completed in 0.003s
[2025-09-25 00:13:08] [DEBUG] [Database] execute_db_operation:148 - Query returned 16 rows
[2025-09-25 00:13:08] [INFO] [Database] get_guild_leaderboard_data:1969 - ✅ Retrieved 16 entries for manga_completed leaderboard in guild 897814031346319382
[2025-09-25 00:13:48] [INFO] [Database] get_all_users_guild_aware:1982 - Getting all users for guild 897814031346319382
[2025-09-25 00:13:48] [DEBUG] [Database] execute_db_operation:115 - Executing get all users for guild 897814031346319382
[2025-09-25 00:13:48] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE guild_id = ?
[2025-09-25 00:13:48] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-25 00:13:48] [DEBUG] [Database] execute_db_operation:142 - get all users for guild 897814031346319382 completed in 0.002s
[2025-09-25 00:13:48] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-25 00:13:48] [INFO] [Database] get_all_users_guild_aware:1996 - ✅ Retrieved 18 users for guild 897814031346319382
[2025-09-25 00:13:48] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user Kyerstorm (Discord ID: 331164413623009281, Guild ID: 897814031346319382)
[2025-09-25 00:13:48] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 331164413623009281
[2025-09-25 00:13:48] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user Kyerstorm (Discord ID: 331164413623009281)
[2025-09-25 00:13:48] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 1455, Anime: 473, Chapters: 161685, Episodes: 5911
[2025-09-25 00:13:48] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 64.01, Anime: 65.86
[2025-09-25 00:13:48] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for Kyerstorm
[2025-09-25 00:13:48] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:13:48] [DEBUG] [Database] execute_db_operation:118 - Parameters: (331164413623009281, 'Kyerstorm', 1455, 473, 64.01, 65.86, 161685, 5911, 664, 438)
[2025-09-25 00:13:48] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for Kyerstorm completed in 0.002s
[2025-09-25 00:13:48] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for Kyerstorm
[2025-09-25 00:13:49] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user AZackInTime (Discord ID: 359452133831081984, Guild ID: 897814031346319382)
[2025-09-25 00:13:49] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 359452133831081984
[2025-09-25 00:13:49] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user AZackInTime (Discord ID: 359452133831081984)
[2025-09-25 00:13:49] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 755, Anime: 901, Chapters: 78309, Episodes: 13292
[2025-09-25 00:13:49] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 68.84, Anime: 68.66
[2025-09-25 00:13:49] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for AZackInTime
[2025-09-25 00:13:49] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:13:49] [DEBUG] [Database] execute_db_operation:118 - Parameters: (359452133831081984, 'AZackInTime', 755, 901, 68.84, 68.66, 78309, 13292, 331, 658)
[2025-09-25 00:13:49] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for AZackInTime completed in 0.003s
[2025-09-25 00:13:49] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for AZackInTime
[2025-09-25 00:13:49] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user NobodyImportant (Discord ID: 360165403777040385, Guild ID: 897814031346319382)
[2025-09-25 00:13:49] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 360165403777040385
[2025-09-25 00:13:49] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user NobodyImportant (Discord ID: 360165403777040385)
[2025-09-25 00:13:49] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 901, Anime: 230, Chapters: 32970, Episodes: 4508
[2025-09-25 00:13:49] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 80.81, Anime: 89.40
[2025-09-25 00:13:49] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for NobodyImportant
[2025-09-25 00:13:49] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:13:49] [DEBUG] [Database] execute_db_operation:118 - Parameters: (360165403777040385, 'NobodyImportant', 901, 230, 80.81, 89.4, 32970, 4508, 414, 186)
[2025-09-25 00:13:49] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for NobodyImportant completed in 0.002s
[2025-09-25 00:13:49] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for NobodyImportant
[2025-09-25 00:13:49] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user xuehua (Discord ID: 369957492962099201, Guild ID: 897814031346319382)
[2025-09-25 00:13:49] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 369957492962099201
[2025-09-25 00:13:49] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user xuehua (Discord ID: 369957492962099201)
[2025-09-25 00:13:49] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 144, Anime: 1430, Chapters: 9162, Episodes: 21089
[2025-09-25 00:13:49] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 0.00, Anime: 0.00
[2025-09-25 00:13:49] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for xuehua
[2025-09-25 00:13:49] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:13:49] [DEBUG] [Database] execute_db_operation:118 - Parameters: (369957492962099201, 'xuehua', 144, 1430, 0.0, 0.0, 9162, 21089, 79, 1394)
[2025-09-25 00:13:49] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for xuehua completed in 0.003s
[2025-09-25 00:13:49] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for xuehua
[2025-09-25 00:13:50] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user nottdenito (Discord ID: 397394309977997314, Guild ID: 897814031346319382)
[2025-09-25 00:13:50] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 397394309977997314
[2025-09-25 00:13:50] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user nottdenito (Discord ID: 397394309977997314)
[2025-09-25 00:13:50] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 403, Anime: 725, Chapters: 24096, Episodes: 11724
[2025-09-25 00:13:50] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 3.21, Anime: 3.19
[2025-09-25 00:13:50] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for nottdenito
[2025-09-25 00:13:50] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:13:50] [DEBUG] [Database] execute_db_operation:118 - Parameters: (397394309977997314, 'nottdenito', 403, 725, 3.21, 3.19, 24096, 11724, 220, 635)
[2025-09-25 00:13:50] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for nottdenito completed in 0.002s
[2025-09-25 00:13:50] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for nottdenito
[2025-09-25 00:13:50] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user Tes (Discord ID: 461675352952012801, Guild ID: 897814031346319382)
[2025-09-25 00:13:50] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 461675352952012801
[2025-09-25 00:13:50] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user Tes (Discord ID: 461675352952012801)
[2025-09-25 00:13:50] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 563, Anime: 116, Chapters: 122004, Episodes: 5581
[2025-09-25 00:13:50] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 75.62, Anime: 78.23
[2025-09-25 00:13:50] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for Tes
[2025-09-25 00:13:50] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:13:50] [DEBUG] [Database] execute_db_operation:118 - Parameters: (461675352952012801, 'Tes', 563, 116, 75.62, 78.23, 122004, 5581, 295, 94)
[2025-09-25 00:13:50] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for Tes completed in 0.002s
[2025-09-25 00:13:50] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for Tes
[2025-09-25 00:13:50] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user raidflexer (Discord ID: 503946204296773642, Guild ID: 897814031346319382)
[2025-09-25 00:13:50] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 503946204296773642
[2025-09-25 00:13:50] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user raidflexer (Discord ID: 503946204296773642)
[2025-09-25 00:13:50] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 624, Anime: 120, Chapters: 37382, Episodes: 3620
[2025-09-25 00:13:50] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 2.77, Anime: 2.93
[2025-09-25 00:13:50] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for raidflexer
[2025-09-25 00:13:50] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:13:50] [DEBUG] [Database] execute_db_operation:118 - Parameters: (503946204296773642, 'raidflexer', 624, 120, 2.77, 2.93, 37382, 3620, 492, 100)
[2025-09-25 00:13:50] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for raidflexer completed in 0.002s
[2025-09-25 00:13:50] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for raidflexer
[2025-09-25 00:13:51] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user ThatJayGuy (Discord ID: 528583472663494656, Guild ID: 897814031346319382)
[2025-09-25 00:13:51] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 528583472663494656
[2025-09-25 00:13:51] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user ThatJayGuy (Discord ID: 528583472663494656)
[2025-09-25 00:13:51] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 1178, Anime: 521, Chapters: 82696, Episodes: 8309
[2025-09-25 00:13:51] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 0.00, Anime: 1.00
[2025-09-25 00:13:51] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for ThatJayGuy
[2025-09-25 00:13:51] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:13:51] [DEBUG] [Database] execute_db_operation:118 - Parameters: (528583472663494656, 'ThatJayGuy', 1178, 521, 0.0, 1.0, 82696, 8309, 303, 396)
[2025-09-25 00:13:51] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for ThatJayGuy completed in 0.002s
[2025-09-25 00:13:51] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for ThatJayGuy
[2025-09-25 00:13:51] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user JellyJelmo (Discord ID: 586185435399716864, Guild ID: 897814031346319382)
[2025-09-25 00:13:51] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 586185435399716864
[2025-09-25 00:13:51] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user JellyJelmo (Discord ID: 586185435399716864)
[2025-09-25 00:13:51] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 333, Anime: 89, Chapters: 68754, Episodes: 3946
[2025-09-25 00:13:51] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 0.00, Anime: 2.70
[2025-09-25 00:13:51] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for JellyJelmo
[2025-09-25 00:13:51] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:13:51] [DEBUG] [Database] execute_db_operation:118 - Parameters: (586185435399716864, 'JellyJelmo', 333, 89, 0.0, 2.7, 68754, 3946, 250, 85)
[2025-09-25 00:13:51] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for JellyJelmo completed in 0.002s
[2025-09-25 00:13:51] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for JellyJelmo
[2025-09-25 00:13:51] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user LinClick (Discord ID: 591244355096936459, Guild ID: 897814031346319382)
[2025-09-25 00:13:51] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 591244355096936459
[2025-09-25 00:13:51] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user LinClick (Discord ID: 591244355096936459)
[2025-09-25 00:13:51] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 1550, Anime: 223, Chapters: 118586, Episodes: 5491
[2025-09-25 00:13:51] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 0.00, Anime: 75.20
[2025-09-25 00:13:51] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for LinClick
[2025-09-25 00:13:51] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:13:51] [DEBUG] [Database] execute_db_operation:118 - Parameters: (591244355096936459, 'LinClick', 1550, 223, 0.0, 75.2, 118586, 5491, 504, 218)
[2025-09-25 00:13:51] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for LinClick completed in 0.002s
[2025-09-25 00:13:51] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for LinClick
[2025-09-25 00:13:52] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user Ruebin (Discord ID: 772776679608156180, Guild ID: 897814031346319382)
[2025-09-25 00:13:52] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 772776679608156180
[2025-09-25 00:13:52] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user Ruebin (Discord ID: 772776679608156180)
[2025-09-25 00:13:52] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 98, Anime: 63, Chapters: 25404, Episodes: 2405
[2025-09-25 00:13:52] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 89.11, Anime: 85.08
[2025-09-25 00:13:52] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for Ruebin
[2025-09-25 00:13:52] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:13:52] [DEBUG] [Database] execute_db_operation:118 - Parameters: (772776679608156180, 'Ruebin', 98, 63, 89.11, 85.08, 25404, 2405, 50, 58)
[2025-09-25 00:13:52] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for Ruebin completed in 0.002s
[2025-09-25 00:13:52] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for Ruebin
[2025-09-25 00:13:52] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user 1Frieren (Discord ID: 905468832406179850, Guild ID: 897814031346319382)
[2025-09-25 00:13:52] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 905468832406179850
[2025-09-25 00:13:52] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user 1Frieren (Discord ID: 905468832406179850)
[2025-09-25 00:13:52] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 51, Anime: 657, Chapters: 7027, Episodes: 11571
[2025-09-25 00:13:52] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 0.00, Anime: 5.00
[2025-09-25 00:13:52] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for 1Frieren
[2025-09-25 00:13:52] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:13:52] [DEBUG] [Database] execute_db_operation:118 - Parameters: (905468832406179850, '1Frieren', 51, 657, 0.0, 5.0, 7027, 11571, 16, 619)
[2025-09-25 00:13:52] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for 1Frieren completed in 0.002s
[2025-09-25 00:13:52] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for 1Frieren
[2025-09-25 00:13:53] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user Judasz (Discord ID: 1019960555341107271, Guild ID: 897814031346319382)
[2025-09-25 00:13:53] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 1019960555341107271
[2025-09-25 00:13:53] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user Judasz (Discord ID: 1019960555341107271)
[2025-09-25 00:13:53] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 99, Anime: 305, Chapters: 12723, Episodes: 8211
[2025-09-25 00:13:53] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 2.35, Anime: 0.00
[2025-09-25 00:13:53] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for Judasz
[2025-09-25 00:13:53] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:13:53] [DEBUG] [Database] execute_db_operation:118 - Parameters: (1019960555341107271, 'Judasz', 99, 305, 2.35, 0.0, 12723, 8211, 57, 297)
[2025-09-25 00:13:53] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for Judasz completed in 0.002s
[2025-09-25 00:13:53] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for Judasz
[2025-09-25 00:13:53] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user MyeTezz (Discord ID: 1034606763330248744, Guild ID: 897814031346319382)
[2025-09-25 00:13:53] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 1034606763330248744
[2025-09-25 00:13:53] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user MyeTezz (Discord ID: 1034606763330248744)
[2025-09-25 00:13:53] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 836, Anime: 1113, Chapters: 63947, Episodes: 11292
[2025-09-25 00:13:53] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 0.00, Anime: 0.00
[2025-09-25 00:13:53] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for MyeTezz
[2025-09-25 00:13:53] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:13:53] [DEBUG] [Database] execute_db_operation:118 - Parameters: (1034606763330248744, 'MyeTezz', 836, 1113, 0.0, 0.0, 63947, 11292, 650, 1108)
[2025-09-25 00:13:53] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for MyeTezz completed in 0.002s
[2025-09-25 00:13:53] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for MyeTezz
[2025-09-25 00:13:53] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user N006 (Discord ID: 1262304313481625704, Guild ID: 897814031346319382)
[2025-09-25 00:13:53] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 1262304313481625704
[2025-09-25 00:13:53] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user N006 (Discord ID: 1262304313481625704)
[2025-09-25 00:13:53] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 5, Anime: 834, Chapters: 345, Episodes: 11163
[2025-09-25 00:13:53] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 84.00, Anime: 70.21
[2025-09-25 00:13:53] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for N006
[2025-09-25 00:13:53] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:13:53] [DEBUG] [Database] execute_db_operation:118 - Parameters: (1262304313481625704, 'N006', 5, 834, 84.0, 70.21, 345, 11163, 5, 819)
[2025-09-25 00:13:53] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for N006 completed in 0.002s
[2025-09-25 00:13:53] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for N006
[2025-09-25 00:13:54] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user Vireon (Discord ID: 1419744000977403994, Guild ID: 897814031346319382)
[2025-09-25 00:13:54] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 1419744000977403994
[2025-09-25 00:13:54] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user Vireon (Discord ID: 1419744000977403994)
[2025-09-25 00:13:54] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 1143, Anime: 2218, Chapters: 184146, Episodes: 49333
[2025-09-25 00:13:54] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 6.41, Anime: 0.00
[2025-09-25 00:13:54] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for Vireon
[2025-09-25 00:13:54] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:13:54] [DEBUG] [Database] execute_db_operation:118 - Parameters: (1419744000977403994, 'Vireon', 1143, 2218, 6.41, 0.0, 184146, 49333, 807, 1773)
[2025-09-25 00:13:54] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for Vireon completed in 0.002s
[2025-09-25 00:13:54] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for Vireon
[2025-09-25 00:13:54] [INFO] [Database] get_guild_leaderboard_data:1888 - Getting anime_completed leaderboard data for guild 897814031346319382
[2025-09-25 00:13:54] [DEBUG] [Database] execute_db_operation:115 - Executing get anime_completed leaderboard for guild 897814031346319382
[2025-09-25 00:13:54] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT u.anilist_username, us.total_manga, us.total_anime, 
                   us.total_chapters, us.total_episodes, us.avg_manga_score, us.avg_anime_score,
                   us.manga_completed, us.anime_completed
            FROM users u 
            JOIN user_stats us ON u.discord_id = us.discord_id
            WHERE u.guild_id = ? AND u.anilist_username IS NOT NULL
        
[2025-09-25 00:13:54] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-25 00:13:54] [DEBUG] [Database] execute_db_operation:142 - get anime_completed leaderboard for guild 897814031346319382 completed in 0.003s
[2025-09-25 00:13:54] [DEBUG] [Database] execute_db_operation:148 - Query returned 16 rows
[2025-09-25 00:13:54] [INFO] [Database] get_guild_leaderboard_data:1969 - ✅ Retrieved 16 entries for anime_completed leaderboard in guild 897814031346319382
[2025-09-25 00:15:29] [INFO] [Database] <module>:60 - ==================================================
[2025-09-25 00:15:29] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-25 00:15:29] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-25 00:15:29] [INFO] [Database] <module>:63 - ==================================================
[2025-09-25 00:15:29] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-25 00:15:29] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-25 00:15:29] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-25 00:15:29] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-25 00:15:29] [INFO] [Database] init_db:1497 - ============================================================
[2025-09-25 00:15:29] [INFO] [Database] init_db:1498 - STARTING DATABASE INITIALIZATION
[2025-09-25 00:15:29] [INFO] [Database] init_db:1499 - ============================================================
[2025-09-25 00:15:29] [INFO] [Database] init_db:1524 - Verifying database connectivity...
[2025-09-25 00:15:29] [INFO] [Database] init_db:1527 - ✅ Database connectivity verified
[2025-09-25 00:15:29] [DEBUG] [Database] init_db:1532 - Initializing Users table...
[2025-09-25 00:15:29] [INFO] [Database] init_users_table:218 - Initializing users table
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-25 00:15:29] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.002s: duplicate column name: anilist_username
[2025-09-25 00:15:29] [DEBUG] [Database] init_users_table:251 - Column 'anilist_username' already exists in users table
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-25 00:15:29] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.002s: duplicate column name: anilist_id
[2025-09-25 00:15:29] [DEBUG] [Database] init_users_table:251 - Column 'anilist_id' already exists in users table
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:115 - Executing add guild_id column to users
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN guild_id INTEGER
[2025-09-25 00:15:29] [ERROR] [Database] execute_db_operation:156 - add guild_id column to users failed after 0.002s: duplicate column name: guild_id
[2025-09-25 00:15:29] [DEBUG] [Database] init_users_table:251 - Column 'guild_id' already exists in users table
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-25 00:15:29] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.002s: duplicate column name: created_at
[2025-09-25 00:15:29] [DEBUG] [Database] init_users_table:251 - Column 'created_at' already exists in users table
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-25 00:15:29] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.002s: duplicate column name: updated_at
[2025-09-25 00:15:29] [DEBUG] [Database] init_users_table:251 - Column 'updated_at' already exists in users table
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.002s
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-25 00:15:29] [DEBUG] [Database] init_users_table:258 - Users table schema: 8 columns
[2025-09-25 00:15:29] [DEBUG] [Database] init_users_table:260 -   Column: id (INTEGER)
[2025-09-25 00:15:29] [DEBUG] [Database] init_users_table:260 -   Column: discord_id (INTEGER)
[2025-09-25 00:15:29] [DEBUG] [Database] init_users_table:260 -   Column: guild_id (INTEGER)
[2025-09-25 00:15:29] [DEBUG] [Database] init_users_table:260 -   Column: username (TEXT)
[2025-09-25 00:15:29] [DEBUG] [Database] init_users_table:260 -   Column: anilist_username (TEXT)
[2025-09-25 00:15:29] [DEBUG] [Database] init_users_table:260 -   Column: anilist_id (INTEGER)
[2025-09-25 00:15:29] [DEBUG] [Database] init_users_table:260 -   Column: created_at (DATETIME)
[2025-09-25 00:15:29] [DEBUG] [Database] init_users_table:260 -   Column: updated_at (DATETIME)
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:115 - Executing check guild_id usage
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT COUNT(*) FROM users WHERE guild_id IS NOT NULL
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:142 - check guild_id usage completed in 0.002s
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 1
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 1, 'test1')
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 1 completed in 0.006s
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 2
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 2, 'test2')
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 2 completed in 0.007s
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:115 - Executing cleanup test data
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:116 - Query: DELETE FROM users WHERE discord_id = ?
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999,)
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:142 - cleanup test data completed in 0.007s
[2025-09-25 00:15:29] [INFO] [Database] init_users_table:298 - ✅ Multi-guild support confirmed - table supports multiple guilds per user
[2025-09-25 00:15:29] [INFO] [Database] init_users_table:312 - ✅ Users table initialization completed successfully
[2025-09-25 00:15:29] [DEBUG] [Database] init_db:1535 - ✅ Users table initialized successfully
[2025-09-25 00:15:29] [DEBUG] [Database] init_db:1532 - Initializing Challenge Rules table...
[2025-09-25 00:15:29] [INFO] [Database] init_challenge_rules_table:761 - Initializing challenge rules table
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.003s
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME
[2025-09-25 00:15:29] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.002s: duplicate column name: created_at
[2025-09-25 00:15:29] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'created_at' already exists in challenge_rules table
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME
[2025-09-25 00:15:29] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.002s: duplicate column name: updated_at
[2025-09-25 00:15:29] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'updated_at' already exists in challenge_rules table
[2025-09-25 00:15:29] [INFO] [Database] init_challenge_rules_table:790 - ✅ Challenge rules table initialization completed
[2025-09-25 00:15:29] [DEBUG] [Database] init_db:1535 - ✅ Challenge Rules table initialized successfully
[2025-09-25 00:15:29] [DEBUG] [Database] init_db:1532 - Initializing Recommendation Votes table...
[2025-09-25 00:15:29] [INFO] [Database] init_recommendation_votes_table:858 - Manga recommendation votes table ready.
[2025-09-25 00:15:29] [DEBUG] [Database] init_db:1535 - ✅ Recommendation Votes table initialized successfully
[2025-09-25 00:15:29] [DEBUG] [Database] init_db:1532 - Initializing User Stats table...
[2025-09-25 00:15:29] [INFO] [Database] init_user_stats_table:876 - User stats table ready.
[2025-09-25 00:15:29] [DEBUG] [Database] init_db:1535 - ✅ User Stats table initialized successfully
[2025-09-25 00:15:29] [DEBUG] [Database] init_db:1532 - Initializing Achievements table...
[2025-09-25 00:15:29] [INFO] [Database] init_achievements_table:911 - Achievements table ready.
[2025-09-25 00:15:29] [DEBUG] [Database] init_db:1535 - ✅ Achievements table initialized successfully
[2025-09-25 00:15:29] [DEBUG] [Database] init_db:1532 - Initializing User Manga Progress table...
[2025-09-25 00:15:29] [INFO] [Database] init_user_manga_progress_table:947 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-25 00:15:29] [DEBUG] [Database] init_db:1535 - ✅ User Manga Progress table initialized successfully
[2025-09-25 00:15:29] [DEBUG] [Database] init_db:1532 - Initializing Manga Challenges table...
[2025-09-25 00:15:29] [DEBUG] [Database] init_db:1535 - ✅ Manga Challenges table initialized successfully
[2025-09-25 00:15:29] [DEBUG] [Database] init_db:1532 - Initializing User Progress table...
[2025-09-25 00:15:29] [DEBUG] [Database] init_db:1535 - ✅ User Progress table initialized successfully
[2025-09-25 00:15:29] [DEBUG] [Database] init_db:1532 - Initializing Global Challenges table...
[2025-09-25 00:15:29] [INFO] [Database] init_global_challenges_table:1261 - Global challenges table ready with difficulty column.
[2025-09-25 00:15:29] [DEBUG] [Database] init_db:1535 - ✅ Global Challenges table initialized successfully
[2025-09-25 00:15:29] [DEBUG] [Database] init_db:1532 - Initializing Guild Challenge Roles table...
[2025-09-25 00:15:29] [INFO] [Database] init_guild_challenge_roles_table:1443 - 🔧 Initializing guild challenge roles table...
[2025-09-25 00:15:29] [INFO] [Database] get_guild_challenge_roles:2187 - Getting challenge roles for guild 897814031346319382
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:115 - Executing get challenge roles for guild 897814031346319382
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT challenge_id, threshold, role_id 
            FROM guild_challenge_roles 
            WHERE guild_id = ?
            ORDER BY challenge_id, threshold
        
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:142 - get challenge roles for guild 897814031346319382 completed in 0.003s
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:148 - Query returned 13 rows
[2025-09-25 00:15:29] [INFO] [Database] get_guild_challenge_roles:2215 - ✅ Retrieved 13 challenge role configurations for guild 897814031346319382
[2025-09-25 00:15:29] [INFO] [Database] migrate_default_challenge_roles:1475 - Default challenge roles already exist for primary guild 897814031346319382
[2025-09-25 00:15:29] [INFO] [Database] init_guild_challenge_roles_table:1463 - ✅ Guild challenge roles table ready.
[2025-09-25 00:15:29] [DEBUG] [Database] init_db:1535 - ✅ Guild Challenge Roles table initialized successfully
[2025-09-25 00:15:29] [DEBUG] [Database] init_db:1532 - Initializing Invite Tracker table...
[2025-09-25 00:15:29] [INFO] [Database] init_invite_tracker_tables:1351 - Initializing invite tracker tables
[2025-09-25 00:15:29] [INFO] [Database] init_invite_tracker_tables:1418 - ✅ Invite tracker tables initialized successfully
[2025-09-25 00:15:29] [DEBUG] [Database] init_db:1535 - ✅ Invite Tracker table initialized successfully
[2025-09-25 00:15:29] [DEBUG] [Database] init_db:1532 - Initializing Steam Users table...
[2025-09-25 00:15:29] [INFO] [Database] init_steam_users_table:1438 - Steam users table ready.
[2025-09-25 00:15:29] [DEBUG] [Database] init_db:1535 - ✅ Steam Users table initialized successfully
[2025-09-25 00:15:29] [DEBUG] [Database] init_db:1532 - Initializing Challenge Manga table...
[2025-09-25 00:15:29] [DEBUG] [Database] init_db:1535 - ✅ Challenge Manga table initialized successfully
[2025-09-25 00:15:29] [INFO] [Database] init_db:1546 - ============================================================
[2025-09-25 00:15:29] [INFO] [Database] init_db:1547 - DATABASE INITIALIZATION SUMMARY
[2025-09-25 00:15:29] [INFO] [Database] init_db:1548 - Total tables: 13
[2025-09-25 00:15:29] [INFO] [Database] init_db:1549 - Successfully initialized: 13
[2025-09-25 00:15:29] [INFO] [Database] init_db:1550 - Failed to initialize: 0
[2025-09-25 00:15:29] [INFO] [Database] init_db:1551 - Total time: 0.09 seconds
[2025-09-25 00:15:29] [INFO] [Database] init_db:1556 - ✅ All database tables initialized successfully
[2025-09-25 00:15:29] [INFO] [Database] init_db:1558 - ============================================================
[2025-09-25 00:15:29] [INFO] [Database] init_db:1563 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.003s
[2025-09-25 00:15:29] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-25 00:15:32] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-25 00:15:32] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-25 00:15:32] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-25 00:15:32] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-25 00:15:32] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-25 00:15:32] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-25 00:15:32] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-25 00:15:32] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-25 00:15:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-25 00:15:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-25 00:15:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-25 00:15:32] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-25 00:15:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-25 00:15:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-25 00:15:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-25 00:15:32] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-25 00:15:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-25 00:15:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-25 00:15:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-25 00:15:32] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-25 00:15:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-25 00:15:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-25 00:15:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-25 00:15:32] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-25 00:15:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-25 00:15:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-25 00:15:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-25 00:15:32] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-25 00:15:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-25 00:15:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-25 00:15:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-25 00:15:32] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-25 00:15:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-25 00:15:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-25 00:15:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-25 00:15:32] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-25 00:15:32] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-25 00:15:32] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-25 00:15:32] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-25 00:15:32] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-25 00:15:34] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-25 00:15:34] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-25 00:15:34] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-25 00:15:34] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-25 00:15:34] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-25 00:15:34] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-25 00:15:34] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-25 00:15:34] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-25 00:15:36] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-25 00:15:36] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-25 00:15:36] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-25 00:15:36] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-25 00:15:36] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-25 00:15:36] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-25 00:15:36] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-25 00:15:36] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-25 00:15:40] [INFO] [Database] get_all_users_guild_aware:1982 - Getting all users for guild 897814031346319382
[2025-09-25 00:15:40] [DEBUG] [Database] execute_db_operation:115 - Executing get all users for guild 897814031346319382
[2025-09-25 00:15:40] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE guild_id = ?
[2025-09-25 00:15:40] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-25 00:15:40] [DEBUG] [Database] execute_db_operation:142 - get all users for guild 897814031346319382 completed in 0.002s
[2025-09-25 00:15:40] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-25 00:15:40] [INFO] [Database] get_all_users_guild_aware:1996 - ✅ Retrieved 18 users for guild 897814031346319382
[2025-09-25 00:15:41] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user Kyerstorm (Discord ID: 331164413623009281, Guild ID: 897814031346319382)
[2025-09-25 00:15:41] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 331164413623009281
[2025-09-25 00:15:41] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user Kyerstorm (Discord ID: 331164413623009281)
[2025-09-25 00:15:41] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 1455, Anime: 473, Chapters: 161685, Episodes: 5911
[2025-09-25 00:15:41] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 64.01, Anime: 65.86
[2025-09-25 00:15:41] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for Kyerstorm
[2025-09-25 00:15:41] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:15:41] [DEBUG] [Database] execute_db_operation:118 - Parameters: (331164413623009281, 'Kyerstorm', 1455, 473, 64.01, 65.86, 161685, 5911, 664, 438)
[2025-09-25 00:15:41] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for Kyerstorm completed in 0.002s
[2025-09-25 00:15:41] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for Kyerstorm
[2025-09-25 00:15:41] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user AZackInTime (Discord ID: 359452133831081984, Guild ID: 897814031346319382)
[2025-09-25 00:15:41] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 359452133831081984
[2025-09-25 00:15:41] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user AZackInTime (Discord ID: 359452133831081984)
[2025-09-25 00:15:41] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 755, Anime: 901, Chapters: 78309, Episodes: 13292
[2025-09-25 00:15:41] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 68.84, Anime: 68.66
[2025-09-25 00:15:41] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for AZackInTime
[2025-09-25 00:15:41] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:15:41] [DEBUG] [Database] execute_db_operation:118 - Parameters: (359452133831081984, 'AZackInTime', 755, 901, 68.84, 68.66, 78309, 13292, 331, 658)
[2025-09-25 00:15:41] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for AZackInTime completed in 0.002s
[2025-09-25 00:15:41] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for AZackInTime
[2025-09-25 00:15:41] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user NobodyImportant (Discord ID: 360165403777040385, Guild ID: 897814031346319382)
[2025-09-25 00:15:41] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 360165403777040385
[2025-09-25 00:15:41] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user NobodyImportant (Discord ID: 360165403777040385)
[2025-09-25 00:15:41] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 901, Anime: 230, Chapters: 32970, Episodes: 4508
[2025-09-25 00:15:41] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 80.81, Anime: 89.40
[2025-09-25 00:15:41] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for NobodyImportant
[2025-09-25 00:15:41] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:15:41] [DEBUG] [Database] execute_db_operation:118 - Parameters: (360165403777040385, 'NobodyImportant', 901, 230, 80.81, 89.4, 32970, 4508, 414, 186)
[2025-09-25 00:15:41] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for NobodyImportant completed in 0.002s
[2025-09-25 00:15:41] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for NobodyImportant
[2025-09-25 00:15:42] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user xuehua (Discord ID: 369957492962099201, Guild ID: 897814031346319382)
[2025-09-25 00:15:42] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 369957492962099201
[2025-09-25 00:15:42] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user xuehua (Discord ID: 369957492962099201)
[2025-09-25 00:15:42] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 144, Anime: 1430, Chapters: 9162, Episodes: 21089
[2025-09-25 00:15:42] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 0.00, Anime: 0.00
[2025-09-25 00:15:42] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for xuehua
[2025-09-25 00:15:42] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:15:42] [DEBUG] [Database] execute_db_operation:118 - Parameters: (369957492962099201, 'xuehua', 144, 1430, 0.0, 0.0, 9162, 21089, 79, 1394)
[2025-09-25 00:15:42] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for xuehua completed in 0.002s
[2025-09-25 00:15:42] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for xuehua
[2025-09-25 00:15:42] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user nottdenito (Discord ID: 397394309977997314, Guild ID: 897814031346319382)
[2025-09-25 00:15:42] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 397394309977997314
[2025-09-25 00:15:42] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user nottdenito (Discord ID: 397394309977997314)
[2025-09-25 00:15:42] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 403, Anime: 725, Chapters: 24096, Episodes: 11724
[2025-09-25 00:15:42] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 3.21, Anime: 3.19
[2025-09-25 00:15:42] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for nottdenito
[2025-09-25 00:15:42] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:15:42] [DEBUG] [Database] execute_db_operation:118 - Parameters: (397394309977997314, 'nottdenito', 403, 725, 3.21, 3.19, 24096, 11724, 220, 635)
[2025-09-25 00:15:42] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for nottdenito completed in 0.002s
[2025-09-25 00:15:42] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for nottdenito
[2025-09-25 00:15:42] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user Tes (Discord ID: 461675352952012801, Guild ID: 897814031346319382)
[2025-09-25 00:15:42] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 461675352952012801
[2025-09-25 00:15:42] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user Tes (Discord ID: 461675352952012801)
[2025-09-25 00:15:42] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 563, Anime: 116, Chapters: 122004, Episodes: 5581
[2025-09-25 00:15:42] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 75.62, Anime: 78.23
[2025-09-25 00:15:42] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for Tes
[2025-09-25 00:15:42] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:15:42] [DEBUG] [Database] execute_db_operation:118 - Parameters: (461675352952012801, 'Tes', 563, 116, 75.62, 78.23, 122004, 5581, 295, 94)
[2025-09-25 00:15:42] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for Tes completed in 0.002s
[2025-09-25 00:15:42] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for Tes
[2025-09-25 00:15:43] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user raidflexer (Discord ID: 503946204296773642, Guild ID: 897814031346319382)
[2025-09-25 00:15:43] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 503946204296773642
[2025-09-25 00:15:43] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user raidflexer (Discord ID: 503946204296773642)
[2025-09-25 00:15:43] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 624, Anime: 120, Chapters: 37382, Episodes: 3620
[2025-09-25 00:15:43] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 2.77, Anime: 2.93
[2025-09-25 00:15:43] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for raidflexer
[2025-09-25 00:15:43] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:15:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: (503946204296773642, 'raidflexer', 624, 120, 2.77, 2.93, 37382, 3620, 492, 100)
[2025-09-25 00:15:43] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for raidflexer completed in 0.002s
[2025-09-25 00:15:43] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for raidflexer
[2025-09-25 00:15:43] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user ThatJayGuy (Discord ID: 528583472663494656, Guild ID: 897814031346319382)
[2025-09-25 00:15:43] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 528583472663494656
[2025-09-25 00:15:43] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user ThatJayGuy (Discord ID: 528583472663494656)
[2025-09-25 00:15:43] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 1178, Anime: 521, Chapters: 82696, Episodes: 8309
[2025-09-25 00:15:43] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 0.00, Anime: 1.00
[2025-09-25 00:15:43] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for ThatJayGuy
[2025-09-25 00:15:43] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:15:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: (528583472663494656, 'ThatJayGuy', 1178, 521, 0.0, 1.0, 82696, 8309, 303, 396)
[2025-09-25 00:15:43] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for ThatJayGuy completed in 0.002s
[2025-09-25 00:15:43] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for ThatJayGuy
[2025-09-25 00:15:43] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user JellyJelmo (Discord ID: 586185435399716864, Guild ID: 897814031346319382)
[2025-09-25 00:15:43] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 586185435399716864
[2025-09-25 00:15:43] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user JellyJelmo (Discord ID: 586185435399716864)
[2025-09-25 00:15:43] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 333, Anime: 89, Chapters: 68754, Episodes: 3946
[2025-09-25 00:15:43] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 0.00, Anime: 2.70
[2025-09-25 00:15:43] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for JellyJelmo
[2025-09-25 00:15:43] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:15:43] [DEBUG] [Database] execute_db_operation:118 - Parameters: (586185435399716864, 'JellyJelmo', 333, 89, 0.0, 2.7, 68754, 3946, 250, 85)
[2025-09-25 00:15:43] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for JellyJelmo completed in 0.002s
[2025-09-25 00:15:43] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for JellyJelmo
[2025-09-25 00:15:44] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user LinClick (Discord ID: 591244355096936459, Guild ID: 897814031346319382)
[2025-09-25 00:15:44] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 591244355096936459
[2025-09-25 00:15:44] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user LinClick (Discord ID: 591244355096936459)
[2025-09-25 00:15:44] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 1550, Anime: 223, Chapters: 118586, Episodes: 5491
[2025-09-25 00:15:44] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 0.00, Anime: 75.20
[2025-09-25 00:15:44] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for LinClick
[2025-09-25 00:15:44] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:15:44] [DEBUG] [Database] execute_db_operation:118 - Parameters: (591244355096936459, 'LinClick', 1550, 223, 0.0, 75.2, 118586, 5491, 504, 218)
[2025-09-25 00:15:44] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for LinClick completed in 0.002s
[2025-09-25 00:15:44] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for LinClick
[2025-09-25 00:15:44] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user Ruebin (Discord ID: 772776679608156180, Guild ID: 897814031346319382)
[2025-09-25 00:15:44] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 772776679608156180
[2025-09-25 00:15:44] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user Ruebin (Discord ID: 772776679608156180)
[2025-09-25 00:15:44] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 98, Anime: 63, Chapters: 25404, Episodes: 2405
[2025-09-25 00:15:44] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 89.11, Anime: 85.08
[2025-09-25 00:15:44] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for Ruebin
[2025-09-25 00:15:44] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:15:44] [DEBUG] [Database] execute_db_operation:118 - Parameters: (772776679608156180, 'Ruebin', 98, 63, 89.11, 85.08, 25404, 2405, 50, 58)
[2025-09-25 00:15:44] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for Ruebin completed in 0.002s
[2025-09-25 00:15:44] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for Ruebin
[2025-09-25 00:15:44] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user 1Frieren (Discord ID: 905468832406179850, Guild ID: 897814031346319382)
[2025-09-25 00:15:44] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 905468832406179850
[2025-09-25 00:15:44] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user 1Frieren (Discord ID: 905468832406179850)
[2025-09-25 00:15:44] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 51, Anime: 657, Chapters: 7027, Episodes: 11571
[2025-09-25 00:15:44] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 0.00, Anime: 5.00
[2025-09-25 00:15:44] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for 1Frieren
[2025-09-25 00:15:44] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:15:44] [DEBUG] [Database] execute_db_operation:118 - Parameters: (905468832406179850, '1Frieren', 51, 657, 0.0, 5.0, 7027, 11571, 16, 619)
[2025-09-25 00:15:44] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for 1Frieren completed in 0.002s
[2025-09-25 00:15:44] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for 1Frieren
[2025-09-25 00:15:45] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user Judasz (Discord ID: 1019960555341107271, Guild ID: 897814031346319382)
[2025-09-25 00:15:45] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 1019960555341107271
[2025-09-25 00:15:45] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user Judasz (Discord ID: 1019960555341107271)
[2025-09-25 00:15:45] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 99, Anime: 305, Chapters: 12723, Episodes: 8211
[2025-09-25 00:15:45] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 2.35, Anime: 0.00
[2025-09-25 00:15:45] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for Judasz
[2025-09-25 00:15:45] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:15:45] [DEBUG] [Database] execute_db_operation:118 - Parameters: (1019960555341107271, 'Judasz', 99, 305, 2.35, 0.0, 12723, 8211, 57, 297)
[2025-09-25 00:15:45] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for Judasz completed in 0.002s
[2025-09-25 00:15:45] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for Judasz
[2025-09-25 00:15:45] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user MyeTezz (Discord ID: 1034606763330248744, Guild ID: 897814031346319382)
[2025-09-25 00:15:45] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 1034606763330248744
[2025-09-25 00:15:45] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user MyeTezz (Discord ID: 1034606763330248744)
[2025-09-25 00:15:45] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 836, Anime: 1113, Chapters: 63947, Episodes: 11292
[2025-09-25 00:15:45] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 0.00, Anime: 0.00
[2025-09-25 00:15:45] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for MyeTezz
[2025-09-25 00:15:45] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:15:45] [DEBUG] [Database] execute_db_operation:118 - Parameters: (1034606763330248744, 'MyeTezz', 836, 1113, 0.0, 0.0, 63947, 11292, 650, 1108)
[2025-09-25 00:15:45] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for MyeTezz completed in 0.002s
[2025-09-25 00:15:45] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for MyeTezz
[2025-09-25 00:15:45] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user N006 (Discord ID: 1262304313481625704, Guild ID: 897814031346319382)
[2025-09-25 00:15:45] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 1262304313481625704
[2025-09-25 00:15:45] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user N006 (Discord ID: 1262304313481625704)
[2025-09-25 00:15:45] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 5, Anime: 834, Chapters: 345, Episodes: 11163
[2025-09-25 00:15:45] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 84.00, Anime: 70.21
[2025-09-25 00:15:45] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for N006
[2025-09-25 00:15:45] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:15:45] [DEBUG] [Database] execute_db_operation:118 - Parameters: (1262304313481625704, 'N006', 5, 834, 84.0, 70.21, 345, 11163, 5, 819)
[2025-09-25 00:15:45] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for N006 completed in 0.002s
[2025-09-25 00:15:45] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for N006
[2025-09-25 00:15:46] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user Vireon (Discord ID: 1419744000977403994, Guild ID: 897814031346319382)
[2025-09-25 00:15:46] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 1419744000977403994
[2025-09-25 00:15:46] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user Vireon (Discord ID: 1419744000977403994)
[2025-09-25 00:15:46] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 1143, Anime: 2218, Chapters: 184146, Episodes: 49333
[2025-09-25 00:15:46] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 6.41, Anime: 0.00
[2025-09-25 00:15:46] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for Vireon
[2025-09-25 00:15:46] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:15:46] [DEBUG] [Database] execute_db_operation:118 - Parameters: (1419744000977403994, 'Vireon', 1143, 2218, 6.41, 0.0, 184146, 49333, 807, 1773)
[2025-09-25 00:15:46] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for Vireon completed in 0.002s
[2025-09-25 00:15:46] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for Vireon
[2025-09-25 00:15:46] [INFO] [Database] get_guild_leaderboard_data:1888 - Getting anime_completed leaderboard data for guild 897814031346319382
[2025-09-25 00:15:46] [DEBUG] [Database] execute_db_operation:115 - Executing get anime_completed leaderboard for guild 897814031346319382
[2025-09-25 00:15:46] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT u.anilist_username, us.total_manga, us.total_anime, 
                   us.total_chapters, us.total_episodes, us.avg_manga_score, us.avg_anime_score,
                   us.manga_completed, us.anime_completed
            FROM users u 
            JOIN user_stats us ON u.discord_id = us.discord_id
            WHERE u.guild_id = ? AND u.anilist_username IS NOT NULL
        
[2025-09-25 00:15:46] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-25 00:15:46] [DEBUG] [Database] execute_db_operation:142 - get anime_completed leaderboard for guild 897814031346319382 completed in 0.002s
[2025-09-25 00:15:46] [DEBUG] [Database] execute_db_operation:148 - Query returned 16 rows
[2025-09-25 00:15:46] [INFO] [Database] get_guild_leaderboard_data:1969 - ✅ Retrieved 16 entries for anime_completed leaderboard in guild 897814031346319382
[2025-09-25 00:16:05] [INFO] [Database] get_all_users_guild_aware:1982 - Getting all users for guild 897814031346319382
[2025-09-25 00:16:05] [DEBUG] [Database] execute_db_operation:115 - Executing get all users for guild 897814031346319382
[2025-09-25 00:16:05] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT * FROM users WHERE guild_id = ?
[2025-09-25 00:16:05] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-25 00:16:05] [DEBUG] [Database] execute_db_operation:142 - get all users for guild 897814031346319382 completed in 0.002s
[2025-09-25 00:16:05] [DEBUG] [Database] execute_db_operation:148 - Query returned 18 rows
[2025-09-25 00:16:05] [INFO] [Database] get_all_users_guild_aware:1996 - ✅ Retrieved 18 users for guild 897814031346319382
[2025-09-25 00:16:06] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user Kyerstorm (Discord ID: 331164413623009281, Guild ID: 897814031346319382)
[2025-09-25 00:16:06] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 331164413623009281
[2025-09-25 00:16:06] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user Kyerstorm (Discord ID: 331164413623009281)
[2025-09-25 00:16:06] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 1455, Anime: 473, Chapters: 161685, Episodes: 5911
[2025-09-25 00:16:06] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 64.01, Anime: 65.86
[2025-09-25 00:16:06] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for Kyerstorm
[2025-09-25 00:16:06] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:16:06] [DEBUG] [Database] execute_db_operation:118 - Parameters: (331164413623009281, 'Kyerstorm', 1455, 473, 64.01, 65.86, 161685, 5911, 664, 438)
[2025-09-25 00:16:06] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for Kyerstorm completed in 0.002s
[2025-09-25 00:16:06] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for Kyerstorm
[2025-09-25 00:16:06] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user AZackInTime (Discord ID: 359452133831081984, Guild ID: 897814031346319382)
[2025-09-25 00:16:06] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 359452133831081984
[2025-09-25 00:16:06] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user AZackInTime (Discord ID: 359452133831081984)
[2025-09-25 00:16:06] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 755, Anime: 901, Chapters: 78309, Episodes: 13292
[2025-09-25 00:16:06] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 68.84, Anime: 68.66
[2025-09-25 00:16:06] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for AZackInTime
[2025-09-25 00:16:06] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:16:06] [DEBUG] [Database] execute_db_operation:118 - Parameters: (359452133831081984, 'AZackInTime', 755, 901, 68.84, 68.66, 78309, 13292, 331, 658)
[2025-09-25 00:16:06] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for AZackInTime completed in 0.003s
[2025-09-25 00:16:06] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for AZackInTime
[2025-09-25 00:16:06] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user NobodyImportant (Discord ID: 360165403777040385, Guild ID: 897814031346319382)
[2025-09-25 00:16:06] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 360165403777040385
[2025-09-25 00:16:06] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user NobodyImportant (Discord ID: 360165403777040385)
[2025-09-25 00:16:06] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 901, Anime: 230, Chapters: 32970, Episodes: 4508
[2025-09-25 00:16:06] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 80.81, Anime: 89.40
[2025-09-25 00:16:06] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for NobodyImportant
[2025-09-25 00:16:06] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:16:06] [DEBUG] [Database] execute_db_operation:118 - Parameters: (360165403777040385, 'NobodyImportant', 901, 230, 80.81, 89.4, 32970, 4508, 414, 186)
[2025-09-25 00:16:06] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for NobodyImportant completed in 0.002s
[2025-09-25 00:16:06] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for NobodyImportant
[2025-09-25 00:16:07] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user xuehua (Discord ID: 369957492962099201, Guild ID: 897814031346319382)
[2025-09-25 00:16:07] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 369957492962099201
[2025-09-25 00:16:07] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user xuehua (Discord ID: 369957492962099201)
[2025-09-25 00:16:07] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 144, Anime: 1430, Chapters: 9162, Episodes: 21089
[2025-09-25 00:16:07] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 0.00, Anime: 0.00
[2025-09-25 00:16:07] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for xuehua
[2025-09-25 00:16:07] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:16:07] [DEBUG] [Database] execute_db_operation:118 - Parameters: (369957492962099201, 'xuehua', 144, 1430, 0.0, 0.0, 9162, 21089, 79, 1394)
[2025-09-25 00:16:07] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for xuehua completed in 0.002s
[2025-09-25 00:16:07] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for xuehua
[2025-09-25 00:16:07] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user nottdenito (Discord ID: 397394309977997314, Guild ID: 897814031346319382)
[2025-09-25 00:16:07] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 397394309977997314
[2025-09-25 00:16:07] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user nottdenito (Discord ID: 397394309977997314)
[2025-09-25 00:16:07] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 403, Anime: 725, Chapters: 24096, Episodes: 11724
[2025-09-25 00:16:07] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 3.21, Anime: 3.19
[2025-09-25 00:16:07] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for nottdenito
[2025-09-25 00:16:07] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:16:07] [DEBUG] [Database] execute_db_operation:118 - Parameters: (397394309977997314, 'nottdenito', 403, 725, 3.21, 3.19, 24096, 11724, 220, 635)
[2025-09-25 00:16:07] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for nottdenito completed in 0.002s
[2025-09-25 00:16:07] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for nottdenito
[2025-09-25 00:16:07] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user Tes (Discord ID: 461675352952012801, Guild ID: 897814031346319382)
[2025-09-25 00:16:07] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 461675352952012801
[2025-09-25 00:16:07] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user Tes (Discord ID: 461675352952012801)
[2025-09-25 00:16:07] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 563, Anime: 116, Chapters: 122004, Episodes: 5581
[2025-09-25 00:16:07] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 75.62, Anime: 78.23
[2025-09-25 00:16:07] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for Tes
[2025-09-25 00:16:07] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:16:07] [DEBUG] [Database] execute_db_operation:118 - Parameters: (461675352952012801, 'Tes', 563, 116, 75.62, 78.23, 122004, 5581, 295, 94)
[2025-09-25 00:16:07] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for Tes completed in 0.002s
[2025-09-25 00:16:07] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for Tes
[2025-09-25 00:16:08] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user raidflexer (Discord ID: 503946204296773642, Guild ID: 897814031346319382)
[2025-09-25 00:16:08] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 503946204296773642
[2025-09-25 00:16:08] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user raidflexer (Discord ID: 503946204296773642)
[2025-09-25 00:16:08] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 624, Anime: 120, Chapters: 37382, Episodes: 3620
[2025-09-25 00:16:08] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 2.77, Anime: 2.93
[2025-09-25 00:16:08] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for raidflexer
[2025-09-25 00:16:08] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:16:08] [DEBUG] [Database] execute_db_operation:118 - Parameters: (503946204296773642, 'raidflexer', 624, 120, 2.77, 2.93, 37382, 3620, 492, 100)
[2025-09-25 00:16:08] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for raidflexer completed in 0.002s
[2025-09-25 00:16:08] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for raidflexer
[2025-09-25 00:16:08] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user ThatJayGuy (Discord ID: 528583472663494656, Guild ID: 897814031346319382)
[2025-09-25 00:16:08] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 528583472663494656
[2025-09-25 00:16:08] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user ThatJayGuy (Discord ID: 528583472663494656)
[2025-09-25 00:16:08] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 1178, Anime: 521, Chapters: 82696, Episodes: 8309
[2025-09-25 00:16:08] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 0.00, Anime: 1.00
[2025-09-25 00:16:08] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for ThatJayGuy
[2025-09-25 00:16:08] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:16:08] [DEBUG] [Database] execute_db_operation:118 - Parameters: (528583472663494656, 'ThatJayGuy', 1178, 521, 0.0, 1.0, 82696, 8309, 303, 396)
[2025-09-25 00:16:08] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for ThatJayGuy completed in 0.002s
[2025-09-25 00:16:08] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for ThatJayGuy
[2025-09-25 00:16:08] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user JellyJelmo (Discord ID: 586185435399716864, Guild ID: 897814031346319382)
[2025-09-25 00:16:08] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 586185435399716864
[2025-09-25 00:16:08] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user JellyJelmo (Discord ID: 586185435399716864)
[2025-09-25 00:16:08] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 333, Anime: 89, Chapters: 68754, Episodes: 3946
[2025-09-25 00:16:08] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 0.00, Anime: 2.70
[2025-09-25 00:16:08] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for JellyJelmo
[2025-09-25 00:16:08] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:16:08] [DEBUG] [Database] execute_db_operation:118 - Parameters: (586185435399716864, 'JellyJelmo', 333, 89, 0.0, 2.7, 68754, 3946, 250, 85)
[2025-09-25 00:16:08] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for JellyJelmo completed in 0.002s
[2025-09-25 00:16:08] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for JellyJelmo
[2025-09-25 00:16:09] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user LinClick (Discord ID: 591244355096936459, Guild ID: 897814031346319382)
[2025-09-25 00:16:09] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 591244355096936459
[2025-09-25 00:16:09] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user LinClick (Discord ID: 591244355096936459)
[2025-09-25 00:16:09] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 1550, Anime: 223, Chapters: 118586, Episodes: 5491
[2025-09-25 00:16:09] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 0.00, Anime: 75.20
[2025-09-25 00:16:09] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for LinClick
[2025-09-25 00:16:09] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:16:09] [DEBUG] [Database] execute_db_operation:118 - Parameters: (591244355096936459, 'LinClick', 1550, 223, 0.0, 75.2, 118586, 5491, 504, 218)
[2025-09-25 00:16:09] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for LinClick completed in 0.002s
[2025-09-25 00:16:09] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for LinClick
[2025-09-25 00:16:09] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user Ruebin (Discord ID: 772776679608156180, Guild ID: 897814031346319382)
[2025-09-25 00:16:09] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 772776679608156180
[2025-09-25 00:16:09] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user Ruebin (Discord ID: 772776679608156180)
[2025-09-25 00:16:09] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 98, Anime: 63, Chapters: 25404, Episodes: 2405
[2025-09-25 00:16:09] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 89.11, Anime: 85.08
[2025-09-25 00:16:09] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for Ruebin
[2025-09-25 00:16:09] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:16:09] [DEBUG] [Database] execute_db_operation:118 - Parameters: (772776679608156180, 'Ruebin', 98, 63, 89.11, 85.08, 25404, 2405, 50, 58)
[2025-09-25 00:16:09] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for Ruebin completed in 0.002s
[2025-09-25 00:16:09] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for Ruebin
[2025-09-25 00:16:09] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user 1Frieren (Discord ID: 905468832406179850, Guild ID: 897814031346319382)
[2025-09-25 00:16:09] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 905468832406179850
[2025-09-25 00:16:09] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user 1Frieren (Discord ID: 905468832406179850)
[2025-09-25 00:16:09] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 51, Anime: 657, Chapters: 7027, Episodes: 11571
[2025-09-25 00:16:09] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 0.00, Anime: 5.00
[2025-09-25 00:16:09] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for 1Frieren
[2025-09-25 00:16:09] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:16:09] [DEBUG] [Database] execute_db_operation:118 - Parameters: (905468832406179850, '1Frieren', 51, 657, 0.0, 5.0, 7027, 11571, 16, 619)
[2025-09-25 00:16:09] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for 1Frieren completed in 0.002s
[2025-09-25 00:16:09] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for 1Frieren
[2025-09-25 00:16:10] [INFO] [Database] upsert_user_stats_guild_aware:1866 - Upserting stats (guild-aware) for user Judasz (Discord ID: 1019960555341107271, Guild ID: 897814031346319382)
[2025-09-25 00:16:10] [WARNING] [Database] upsert_user_stats_guild_aware:1870 - user_stats table doesn't have guild_id column yet - using global stats for user 1019960555341107271
[2025-09-25 00:16:10] [INFO] [Database] upsert_user_stats:1105 - Upserting stats for user Judasz (Discord ID: 1019960555341107271)
[2025-09-25 00:16:10] [DEBUG] [Database] upsert_user_stats:1131 - User stats - Manga: 99, Anime: 305, Chapters: 12723, Episodes: 8211
[2025-09-25 00:16:10] [DEBUG] [Database] upsert_user_stats:1132 - Average scores - Manga: 2.35, Anime: 0.00
[2025-09-25 00:16:10] [DEBUG] [Database] execute_db_operation:115 - Executing upsert user stats for Judasz
[2025-09-25 00:16:10] [DEBUG] [Database] execute_db_operation:116 - Query: 
            INSERT INTO user_stats (
                discord_id, username, total_manga, total_anime,
                avg_manga_score, avg_anime_score, total_chapters, total_episodes, manga_completed, anime_completed
            )
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            ON CONFLICT(discord_id) DO UPDATE SET
                username=excluded.username,
                total_manga=excluded.total_manga,
                total_anime=excluded.total_anime,
                avg_manga_score=excluded.avg_manga_score,
                avg_anime_score=excluded.avg_anime_score,
                total_chapters=excluded.total_chapters,
                total_episodes=excluded.total_episodes,
                manga_completed=excluded.manga_completed,
                anime_completed=excluded.anime_completed
        
[2025-09-25 00:16:10] [DEBUG] [Database] execute_db_operation:118 - Parameters: (1019960555341107271, 'Judasz', 99, 305, 2.35, 0.0, 12723, 8211, 57, 297)
[2025-09-25 00:16:10] [DEBUG] [Database] execute_db_operation:142 - upsert user stats for Judasz completed in 0.002s
[2025-09-25 00:16:10] [INFO] [Database] upsert_user_stats:1170 - ✅ Successfully upserted stats for Judasz
[2025-09-25 00:16:11] [INFO] [Database] get_guild_leaderboard_data:1888 - Getting manga_completed leaderboard data for guild 897814031346319382
[2025-09-25 00:16:11] [DEBUG] [Database] execute_db_operation:115 - Executing get manga_completed leaderboard for guild 897814031346319382
[2025-09-25 00:16:11] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT u.anilist_username, us.total_manga, us.total_anime, 
                   us.total_chapters, us.total_episodes, us.avg_manga_score, us.avg_anime_score,
                   us.manga_completed, us.anime_completed
            FROM users u 
            JOIN user_stats us ON u.discord_id = us.discord_id
            WHERE u.guild_id = ? AND u.anilist_username IS NOT NULL
        
[2025-09-25 00:16:11] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-25 00:16:11] [DEBUG] [Database] execute_db_operation:142 - get manga_completed leaderboard for guild 897814031346319382 completed in 0.003s
[2025-09-25 00:16:11] [DEBUG] [Database] execute_db_operation:148 - Query returned 16 rows
[2025-09-25 00:16:11] [INFO] [Database] get_guild_leaderboard_data:1969 - ✅ Retrieved 16 entries for manga_completed leaderboard in guild 897814031346319382
[2025-09-25 00:18:51] [INFO] [Database] <module>:60 - ==================================================
[2025-09-25 00:18:51] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-25 00:18:51] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-25 00:18:51] [INFO] [Database] <module>:63 - ==================================================
[2025-09-25 00:18:51] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-25 00:18:51] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-25 00:18:51] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-25 00:18:51] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-25 00:18:51] [INFO] [Database] init_db:1497 - ============================================================
[2025-09-25 00:18:51] [INFO] [Database] init_db:1498 - STARTING DATABASE INITIALIZATION
[2025-09-25 00:18:51] [INFO] [Database] init_db:1499 - ============================================================
[2025-09-25 00:18:51] [INFO] [Database] init_db:1524 - Verifying database connectivity...
[2025-09-25 00:18:51] [INFO] [Database] init_db:1527 - ✅ Database connectivity verified
[2025-09-25 00:18:51] [DEBUG] [Database] init_db:1532 - Initializing Users table...
[2025-09-25 00:18:51] [INFO] [Database] init_users_table:218 - Initializing users table
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-25 00:18:51] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.001s: duplicate column name: anilist_username
[2025-09-25 00:18:51] [DEBUG] [Database] init_users_table:251 - Column 'anilist_username' already exists in users table
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-25 00:18:51] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.002s: duplicate column name: anilist_id
[2025-09-25 00:18:51] [DEBUG] [Database] init_users_table:251 - Column 'anilist_id' already exists in users table
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:115 - Executing add guild_id column to users
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN guild_id INTEGER
[2025-09-25 00:18:51] [ERROR] [Database] execute_db_operation:156 - add guild_id column to users failed after 0.002s: duplicate column name: guild_id
[2025-09-25 00:18:51] [DEBUG] [Database] init_users_table:251 - Column 'guild_id' already exists in users table
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-25 00:18:51] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.002s: duplicate column name: created_at
[2025-09-25 00:18:51] [DEBUG] [Database] init_users_table:251 - Column 'created_at' already exists in users table
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-25 00:18:51] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.001s: duplicate column name: updated_at
[2025-09-25 00:18:51] [DEBUG] [Database] init_users_table:251 - Column 'updated_at' already exists in users table
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.002s
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-25 00:18:51] [DEBUG] [Database] init_users_table:258 - Users table schema: 8 columns
[2025-09-25 00:18:51] [DEBUG] [Database] init_users_table:260 -   Column: id (INTEGER)
[2025-09-25 00:18:51] [DEBUG] [Database] init_users_table:260 -   Column: discord_id (INTEGER)
[2025-09-25 00:18:51] [DEBUG] [Database] init_users_table:260 -   Column: guild_id (INTEGER)
[2025-09-25 00:18:51] [DEBUG] [Database] init_users_table:260 -   Column: username (TEXT)
[2025-09-25 00:18:51] [DEBUG] [Database] init_users_table:260 -   Column: anilist_username (TEXT)
[2025-09-25 00:18:51] [DEBUG] [Database] init_users_table:260 -   Column: anilist_id (INTEGER)
[2025-09-25 00:18:51] [DEBUG] [Database] init_users_table:260 -   Column: created_at (DATETIME)
[2025-09-25 00:18:51] [DEBUG] [Database] init_users_table:260 -   Column: updated_at (DATETIME)
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:115 - Executing check guild_id usage
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT COUNT(*) FROM users WHERE guild_id IS NOT NULL
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:142 - check guild_id usage completed in 0.002s
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 1
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 1, 'test1')
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 1 completed in 0.005s
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 2
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 2, 'test2')
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 2 completed in 0.006s
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:115 - Executing cleanup test data
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:116 - Query: DELETE FROM users WHERE discord_id = ?
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999,)
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:142 - cleanup test data completed in 0.006s
[2025-09-25 00:18:51] [INFO] [Database] init_users_table:298 - ✅ Multi-guild support confirmed - table supports multiple guilds per user
[2025-09-25 00:18:51] [INFO] [Database] init_users_table:312 - ✅ Users table initialization completed successfully
[2025-09-25 00:18:51] [DEBUG] [Database] init_db:1535 - ✅ Users table initialized successfully
[2025-09-25 00:18:51] [DEBUG] [Database] init_db:1532 - Initializing Challenge Rules table...
[2025-09-25 00:18:51] [INFO] [Database] init_challenge_rules_table:761 - Initializing challenge rules table
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.002s
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME
[2025-09-25 00:18:51] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.002s: duplicate column name: created_at
[2025-09-25 00:18:51] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'created_at' already exists in challenge_rules table
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME
[2025-09-25 00:18:51] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.001s: duplicate column name: updated_at
[2025-09-25 00:18:51] [DEBUG] [Database] init_challenge_rules_table:784 - Column 'updated_at' already exists in challenge_rules table
[2025-09-25 00:18:51] [INFO] [Database] init_challenge_rules_table:790 - ✅ Challenge rules table initialization completed
[2025-09-25 00:18:51] [DEBUG] [Database] init_db:1535 - ✅ Challenge Rules table initialized successfully
[2025-09-25 00:18:51] [DEBUG] [Database] init_db:1532 - Initializing Recommendation Votes table...
[2025-09-25 00:18:51] [INFO] [Database] init_recommendation_votes_table:858 - Manga recommendation votes table ready.
[2025-09-25 00:18:51] [DEBUG] [Database] init_db:1535 - ✅ Recommendation Votes table initialized successfully
[2025-09-25 00:18:51] [DEBUG] [Database] init_db:1532 - Initializing User Stats table...
[2025-09-25 00:18:51] [INFO] [Database] init_user_stats_table:876 - User stats table ready.
[2025-09-25 00:18:51] [DEBUG] [Database] init_db:1535 - ✅ User Stats table initialized successfully
[2025-09-25 00:18:51] [DEBUG] [Database] init_db:1532 - Initializing Achievements table...
[2025-09-25 00:18:51] [INFO] [Database] init_achievements_table:911 - Achievements table ready.
[2025-09-25 00:18:51] [DEBUG] [Database] init_db:1535 - ✅ Achievements table initialized successfully
[2025-09-25 00:18:51] [DEBUG] [Database] init_db:1532 - Initializing User Manga Progress table...
[2025-09-25 00:18:51] [INFO] [Database] init_user_manga_progress_table:947 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-25 00:18:51] [DEBUG] [Database] init_db:1535 - ✅ User Manga Progress table initialized successfully
[2025-09-25 00:18:51] [DEBUG] [Database] init_db:1532 - Initializing Manga Challenges table...
[2025-09-25 00:18:51] [DEBUG] [Database] init_db:1535 - ✅ Manga Challenges table initialized successfully
[2025-09-25 00:18:51] [DEBUG] [Database] init_db:1532 - Initializing User Progress table...
[2025-09-25 00:18:51] [DEBUG] [Database] init_db:1535 - ✅ User Progress table initialized successfully
[2025-09-25 00:18:51] [DEBUG] [Database] init_db:1532 - Initializing Global Challenges table...
[2025-09-25 00:18:51] [INFO] [Database] init_global_challenges_table:1261 - Global challenges table ready with difficulty column.
[2025-09-25 00:18:51] [DEBUG] [Database] init_db:1535 - ✅ Global Challenges table initialized successfully
[2025-09-25 00:18:51] [DEBUG] [Database] init_db:1532 - Initializing Guild Challenge Roles table...
[2025-09-25 00:18:51] [INFO] [Database] init_guild_challenge_roles_table:1443 - 🔧 Initializing guild challenge roles table...
[2025-09-25 00:18:51] [INFO] [Database] get_guild_challenge_roles:2187 - Getting challenge roles for guild 897814031346319382
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:115 - Executing get challenge roles for guild 897814031346319382
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT challenge_id, threshold, role_id 
            FROM guild_challenge_roles 
            WHERE guild_id = ?
            ORDER BY challenge_id, threshold
        
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:142 - get challenge roles for guild 897814031346319382 completed in 0.002s
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:148 - Query returned 13 rows
[2025-09-25 00:18:51] [INFO] [Database] get_guild_challenge_roles:2215 - ✅ Retrieved 13 challenge role configurations for guild 897814031346319382
[2025-09-25 00:18:51] [INFO] [Database] migrate_default_challenge_roles:1475 - Default challenge roles already exist for primary guild 897814031346319382
[2025-09-25 00:18:51] [INFO] [Database] init_guild_challenge_roles_table:1463 - ✅ Guild challenge roles table ready.
[2025-09-25 00:18:51] [DEBUG] [Database] init_db:1535 - ✅ Guild Challenge Roles table initialized successfully
[2025-09-25 00:18:51] [DEBUG] [Database] init_db:1532 - Initializing Invite Tracker table...
[2025-09-25 00:18:51] [INFO] [Database] init_invite_tracker_tables:1351 - Initializing invite tracker tables
[2025-09-25 00:18:51] [INFO] [Database] init_invite_tracker_tables:1418 - ✅ Invite tracker tables initialized successfully
[2025-09-25 00:18:51] [DEBUG] [Database] init_db:1535 - ✅ Invite Tracker table initialized successfully
[2025-09-25 00:18:51] [DEBUG] [Database] init_db:1532 - Initializing Steam Users table...
[2025-09-25 00:18:51] [INFO] [Database] init_steam_users_table:1438 - Steam users table ready.
[2025-09-25 00:18:51] [DEBUG] [Database] init_db:1535 - ✅ Steam Users table initialized successfully
[2025-09-25 00:18:51] [DEBUG] [Database] init_db:1532 - Initializing Challenge Manga table...
[2025-09-25 00:18:51] [DEBUG] [Database] init_db:1535 - ✅ Challenge Manga table initialized successfully
[2025-09-25 00:18:51] [INFO] [Database] init_db:1546 - ============================================================
[2025-09-25 00:18:51] [INFO] [Database] init_db:1547 - DATABASE INITIALIZATION SUMMARY
[2025-09-25 00:18:51] [INFO] [Database] init_db:1548 - Total tables: 13
[2025-09-25 00:18:51] [INFO] [Database] init_db:1549 - Successfully initialized: 13
[2025-09-25 00:18:51] [INFO] [Database] init_db:1550 - Failed to initialize: 0
[2025-09-25 00:18:51] [INFO] [Database] init_db:1551 - Total time: 0.07 seconds
[2025-09-25 00:18:51] [INFO] [Database] init_db:1556 - ✅ All database tables initialized successfully
[2025-09-25 00:18:51] [INFO] [Database] init_db:1558 - ============================================================
[2025-09-25 00:18:51] [INFO] [Database] init_db:1563 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.002s
[2025-09-25 00:18:51] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-25 00:18:54] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-25 00:18:54] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-25 00:18:54] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-25 00:18:54] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-25 00:18:54] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-25 00:18:54] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-25 00:18:54] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-25 00:18:54] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-25 00:18:55] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-25 00:18:55] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-25 00:18:55] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-25 00:18:55] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-25 00:18:55] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-25 00:18:55] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-25 00:18:55] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-25 00:18:55] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-25 00:18:55] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-25 00:18:55] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-25 00:18:55] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-25 00:18:55] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-25 00:18:55] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-25 00:18:55] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-25 00:18:55] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-25 00:18:55] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-25 00:18:55] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-25 00:18:55] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-25 00:18:55] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-25 00:18:55] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-25 00:18:55] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-25 00:18:55] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-25 00:18:55] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-25 00:18:55] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-25 00:18:55] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-25 00:18:55] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-25 00:18:55] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-25 00:18:55] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-25 00:18:55] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-25 00:18:55] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-25 00:18:55] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-25 00:18:55] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-25 00:18:56] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-25 00:18:56] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-25 00:18:56] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-25 00:18:56] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-25 00:18:56] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-25 00:18:56] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-25 00:18:56] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-25 00:18:56] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-25 00:18:58] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-25 00:18:58] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-25 00:18:58] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-25 00:18:58] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-25 00:18:58] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-25 00:18:58] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-25 00:18:58] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-25 00:18:58] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-25 01:12:34] [INFO] [Database] <module>:60 - ==================================================
[2025-09-25 01:12:34] [INFO] [Database] <module>:61 - Database logging system initialized
[2025-09-25 01:12:34] [INFO] [Database] <module>:62 - Log file: logs\database.log
[2025-09-25 01:12:34] [INFO] [Database] <module>:63 - ==================================================
[2025-09-25 01:12:34] [INFO] [Database] <module>:70 - Database configuration initialized
[2025-09-25 01:12:34] [INFO] [Database] <module>:71 - Database file path: C:\Users\benet\OneDrive\Documents\Coding\Projects\Personal Projects\Lemegeton_test\data\database.db
[2025-09-25 01:12:34] [INFO] [Database] <module>:72 - Database file exists: True
[2025-09-25 01:12:34] [INFO] [Database] <module>:75 - Database file size: 638,976 bytes (0.61 MB)
[2025-09-25 01:12:34] [INFO] [Database] init_db:1555 - ============================================================
[2025-09-25 01:12:34] [INFO] [Database] init_db:1556 - STARTING DATABASE INITIALIZATION
[2025-09-25 01:12:34] [INFO] [Database] init_db:1557 - ============================================================
[2025-09-25 01:12:34] [INFO] [Database] init_db:1582 - Verifying database connectivity...
[2025-09-25 01:12:34] [INFO] [Database] init_db:1585 - ✅ Database connectivity verified
[2025-09-25 01:12:34] [DEBUG] [Database] init_db:1590 - Initializing Users table...
[2025-09-25 01:12:34] [INFO] [Database] init_users_table:218 - Initializing users table
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:115 - Executing users table creation
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS users (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                discord_id INTEGER UNIQUE NOT NULL,
                username TEXT NOT NULL,
                anilist_username TEXT,
                anilist_id INTEGER,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:142 - users table creation completed in 0.002s
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_username column to users
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_username TEXT
[2025-09-25 01:12:34] [ERROR] [Database] execute_db_operation:156 - add anilist_username column to users failed after 0.002s: duplicate column name: anilist_username
[2025-09-25 01:12:34] [DEBUG] [Database] init_users_table:251 - Column 'anilist_username' already exists in users table
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:115 - Executing add anilist_id column to users
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN anilist_id INTEGER
[2025-09-25 01:12:34] [ERROR] [Database] execute_db_operation:156 - add anilist_id column to users failed after 0.002s: duplicate column name: anilist_id
[2025-09-25 01:12:34] [DEBUG] [Database] init_users_table:251 - Column 'anilist_id' already exists in users table
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:115 - Executing add guild_id column to users
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN guild_id INTEGER
[2025-09-25 01:12:34] [ERROR] [Database] execute_db_operation:156 - add guild_id column to users failed after 0.002s: duplicate column name: guild_id
[2025-09-25 01:12:34] [DEBUG] [Database] init_users_table:251 - Column 'guild_id' already exists in users table
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at column to users
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN created_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-25 01:12:34] [ERROR] [Database] execute_db_operation:156 - add created_at column to users failed after 0.001s: duplicate column name: created_at
[2025-09-25 01:12:34] [DEBUG] [Database] init_users_table:251 - Column 'created_at' already exists in users table
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at column to users
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE users ADD COLUMN updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
[2025-09-25 01:12:34] [ERROR] [Database] execute_db_operation:156 - add updated_at column to users failed after 0.002s: duplicate column name: updated_at
[2025-09-25 01:12:34] [DEBUG] [Database] init_users_table:251 - Column 'updated_at' already exists in users table
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:115 - Executing users table schema check
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:142 - users table schema check completed in 0.002s
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-25 01:12:34] [DEBUG] [Database] init_users_table:258 - Users table schema: 8 columns
[2025-09-25 01:12:34] [DEBUG] [Database] init_users_table:260 -   Column: id (INTEGER)
[2025-09-25 01:12:34] [DEBUG] [Database] init_users_table:260 -   Column: discord_id (INTEGER)
[2025-09-25 01:12:34] [DEBUG] [Database] init_users_table:260 -   Column: guild_id (INTEGER)
[2025-09-25 01:12:34] [DEBUG] [Database] init_users_table:260 -   Column: username (TEXT)
[2025-09-25 01:12:34] [DEBUG] [Database] init_users_table:260 -   Column: anilist_username (TEXT)
[2025-09-25 01:12:34] [DEBUG] [Database] init_users_table:260 -   Column: anilist_id (INTEGER)
[2025-09-25 01:12:34] [DEBUG] [Database] init_users_table:260 -   Column: created_at (DATETIME)
[2025-09-25 01:12:34] [DEBUG] [Database] init_users_table:260 -   Column: updated_at (DATETIME)
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:115 - Executing check guild_id usage
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT COUNT(*) FROM users WHERE guild_id IS NOT NULL
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:142 - check guild_id usage completed in 0.002s
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:146 - Query returned 1 row
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 1
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 1, 'test1')
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 1 completed in 0.006s
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:115 - Executing test multi-guild insert 2
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:116 - Query: INSERT INTO users (discord_id, guild_id, username) VALUES (?, ?, ?)
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999, 2, 'test2')
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:142 - test multi-guild insert 2 completed in 0.007s
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:115 - Executing cleanup test data
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:116 - Query: DELETE FROM users WHERE discord_id = ?
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:118 - Parameters: (999999999999999999,)
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:142 - cleanup test data completed in 0.007s
[2025-09-25 01:12:34] [INFO] [Database] init_users_table:298 - ✅ Multi-guild support confirmed - table supports multiple guilds per user
[2025-09-25 01:12:34] [INFO] [Database] init_users_table:312 - ✅ Users table initialization completed successfully
[2025-09-25 01:12:34] [DEBUG] [Database] init_db:1593 - ✅ Users table initialized successfully
[2025-09-25 01:12:34] [DEBUG] [Database] init_db:1590 - Initializing Challenge Rules table...
[2025-09-25 01:12:34] [INFO] [Database] init_challenge_rules_table:819 - Initializing challenge rules table
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:115 - Executing challenge rules table creation
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:116 - Query: 
            CREATE TABLE IF NOT EXISTS challenge_rules (
                id INTEGER PRIMARY KEY,
                rules TEXT NOT NULL,
                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:142 - challenge rules table creation completed in 0.002s
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:115 - Executing add created_at to challenge_rules
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN created_at DATETIME
[2025-09-25 01:12:34] [ERROR] [Database] execute_db_operation:156 - add created_at to challenge_rules failed after 0.002s: duplicate column name: created_at
[2025-09-25 01:12:34] [DEBUG] [Database] init_challenge_rules_table:842 - Column 'created_at' already exists in challenge_rules table
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:115 - Executing add updated_at to challenge_rules
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:116 - Query: ALTER TABLE challenge_rules ADD COLUMN updated_at DATETIME
[2025-09-25 01:12:34] [ERROR] [Database] execute_db_operation:156 - add updated_at to challenge_rules failed after 0.002s: duplicate column name: updated_at
[2025-09-25 01:12:34] [DEBUG] [Database] init_challenge_rules_table:842 - Column 'updated_at' already exists in challenge_rules table
[2025-09-25 01:12:34] [INFO] [Database] init_challenge_rules_table:848 - ✅ Challenge rules table initialization completed
[2025-09-25 01:12:34] [DEBUG] [Database] init_db:1593 - ✅ Challenge Rules table initialized successfully
[2025-09-25 01:12:34] [DEBUG] [Database] init_db:1590 - Initializing Recommendation Votes table...
[2025-09-25 01:12:34] [INFO] [Database] init_recommendation_votes_table:916 - Manga recommendation votes table ready.
[2025-09-25 01:12:34] [DEBUG] [Database] init_db:1593 - ✅ Recommendation Votes table initialized successfully
[2025-09-25 01:12:34] [DEBUG] [Database] init_db:1590 - Initializing User Stats table...
[2025-09-25 01:12:34] [INFO] [Database] init_user_stats_table:934 - User stats table ready.
[2025-09-25 01:12:34] [DEBUG] [Database] init_db:1593 - ✅ User Stats table initialized successfully
[2025-09-25 01:12:34] [DEBUG] [Database] init_db:1590 - Initializing Achievements table...
[2025-09-25 01:12:34] [INFO] [Database] init_achievements_table:969 - Achievements table ready.
[2025-09-25 01:12:34] [DEBUG] [Database] init_db:1593 - ✅ Achievements table initialized successfully
[2025-09-25 01:12:34] [DEBUG] [Database] init_db:1590 - Initializing User Manga Progress table...
[2025-09-25 01:12:34] [INFO] [Database] init_user_manga_progress_table:1005 - User manga progress table ready (with started_at, repeat, and updated_at).
[2025-09-25 01:12:34] [DEBUG] [Database] init_db:1593 - ✅ User Manga Progress table initialized successfully
[2025-09-25 01:12:34] [DEBUG] [Database] init_db:1590 - Initializing Manga Challenges table...
[2025-09-25 01:12:34] [DEBUG] [Database] init_db:1593 - ✅ Manga Challenges table initialized successfully
[2025-09-25 01:12:34] [DEBUG] [Database] init_db:1590 - Initializing User Progress table...
[2025-09-25 01:12:34] [DEBUG] [Database] init_db:1593 - ✅ User Progress table initialized successfully
[2025-09-25 01:12:34] [DEBUG] [Database] init_db:1590 - Initializing Global Challenges table...
[2025-09-25 01:12:34] [INFO] [Database] init_global_challenges_table:1319 - Global challenges table ready with difficulty column.
[2025-09-25 01:12:34] [DEBUG] [Database] init_db:1593 - ✅ Global Challenges table initialized successfully
[2025-09-25 01:12:34] [DEBUG] [Database] init_db:1590 - Initializing Guild Challenge Roles table...
[2025-09-25 01:12:34] [INFO] [Database] init_guild_challenge_roles_table:1501 - 🔧 Initializing guild challenge roles table...
[2025-09-25 01:12:34] [INFO] [Database] get_guild_challenge_roles:2245 - Getting challenge roles for guild 897814031346319382
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:115 - Executing get challenge roles for guild 897814031346319382
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:116 - Query: 
            SELECT challenge_id, threshold, role_id 
            FROM guild_challenge_roles 
            WHERE guild_id = ?
            ORDER BY challenge_id, threshold
        
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:118 - Parameters: (897814031346319382,)
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:142 - get challenge roles for guild 897814031346319382 completed in 0.002s
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:148 - Query returned 13 rows
[2025-09-25 01:12:34] [INFO] [Database] get_guild_challenge_roles:2273 - ✅ Retrieved 13 challenge role configurations for guild 897814031346319382
[2025-09-25 01:12:34] [INFO] [Database] migrate_default_challenge_roles:1533 - Default challenge roles already exist for primary guild 897814031346319382
[2025-09-25 01:12:34] [INFO] [Database] init_guild_challenge_roles_table:1521 - ✅ Guild challenge roles table ready.
[2025-09-25 01:12:34] [DEBUG] [Database] init_db:1593 - ✅ Guild Challenge Roles table initialized successfully
[2025-09-25 01:12:34] [DEBUG] [Database] init_db:1590 - Initializing Invite Tracker table...
[2025-09-25 01:12:34] [INFO] [Database] init_invite_tracker_tables:1409 - Initializing invite tracker tables
[2025-09-25 01:12:34] [INFO] [Database] init_invite_tracker_tables:1476 - ✅ Invite tracker tables initialized successfully
[2025-09-25 01:12:34] [DEBUG] [Database] init_db:1593 - ✅ Invite Tracker table initialized successfully
[2025-09-25 01:12:34] [DEBUG] [Database] init_db:1590 - Initializing Steam Users table...
[2025-09-25 01:12:34] [INFO] [Database] init_steam_users_table:1496 - Steam users table ready.
[2025-09-25 01:12:34] [DEBUG] [Database] init_db:1593 - ✅ Steam Users table initialized successfully
[2025-09-25 01:12:34] [DEBUG] [Database] init_db:1590 - Initializing Challenge Manga table...
[2025-09-25 01:12:34] [DEBUG] [Database] init_db:1593 - ✅ Challenge Manga table initialized successfully
[2025-09-25 01:12:34] [INFO] [Database] init_db:1604 - ============================================================
[2025-09-25 01:12:34] [INFO] [Database] init_db:1605 - DATABASE INITIALIZATION SUMMARY
[2025-09-25 01:12:34] [INFO] [Database] init_db:1606 - Total tables: 13
[2025-09-25 01:12:34] [INFO] [Database] init_db:1607 - Successfully initialized: 13
[2025-09-25 01:12:34] [INFO] [Database] init_db:1608 - Failed to initialize: 0
[2025-09-25 01:12:34] [INFO] [Database] init_db:1609 - Total time: 0.07 seconds
[2025-09-25 01:12:34] [INFO] [Database] init_db:1614 - ✅ All database tables initialized successfully
[2025-09-25 01:12:34] [INFO] [Database] init_db:1616 - ============================================================
[2025-09-25 01:12:34] [INFO] [Database] init_db:1621 - Final database file size: 638,976 bytes (0.61 MB)
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:115 - Executing load channel settings
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT guild_id, announcement_channel_id FROM invite_tracker_settings
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:142 - load channel settings completed in 0.002s
[2025-09-25 01:12:34] [DEBUG] [Database] execute_db_operation:148 - Query returned 1 rows
[2025-09-25 01:12:38] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-25 01:12:38] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-25 01:12:38] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-25 01:12:38] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-25 01:12:38] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-25 01:12:38] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-25 01:12:38] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-25 01:12:38] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-25 01:12:38] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-25 01:12:38] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-25 01:12:38] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('3D78HtzAvU', 897814031346319382, 331164413623009281, 'Kyerstorm', 897814032180994070, -1, 70)
[2025-09-25 01:12:38] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-25 01:12:38] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-25 01:12:38] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-25 01:12:38] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('84NfpySHPZ', 897814031346319382, 369957492962099201, 'xuehua', 897814032180994070, -1, 4)
[2025-09-25 01:12:38] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-25 01:12:38] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-25 01:12:38] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-25 01:12:38] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('BWE5EdnV', 897814031346319382, 528583472663494656, 'Jay', 897814032180994070, -1, 0)
[2025-09-25 01:12:38] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-25 01:12:38] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-25 01:12:38] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-25 01:12:38] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('FQKEruYX', 897814031346319382, 820255198697619466, 'ＤＡＮＩＳＨ', 897814032180994070, -1, 1)
[2025-09-25 01:12:38] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-25 01:12:38] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-25 01:12:38] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-25 01:12:38] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('HWWMmjKQ', 897814031346319382, 569552732856385536, 'Chef Luca', 898972125044543549, -1, 0)
[2025-09-25 01:12:38] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-25 01:12:38] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-25 01:12:38] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-25 01:12:38] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('hGNsuDxM', 897814031346319382, 461675352952012801, 'mrtester.', 897814032180994070, -1, 0)
[2025-09-25 01:12:38] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.005s
[2025-09-25 01:12:38] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-25 01:12:38] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-25 01:12:38] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('mM8ZjPdG', 897814031346319382, 772776679608156180, 'Ruebin', 898185471056830504, -1, 0)
[2025-09-25 01:12:38] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.007s
[2025-09-25 01:12:38] [DEBUG] [Database] execute_db_operation:115 - Executing upsert invite
[2025-09-25 01:12:38] [DEBUG] [Database] execute_db_operation:116 - Query: 
                    INSERT OR REPLACE INTO invites 
                    (invite_code, guild_id, inviter_id, inviter_name, channel_id, max_uses, uses)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                    
[2025-09-25 01:12:38] [DEBUG] [Database] execute_db_operation:118 - Parameters: ('xUGD7krzws', 897814031346319382, 331164413623009281, 'Kyerstorm', 898184958542233600, -1, 294)
[2025-09-25 01:12:38] [DEBUG] [Database] execute_db_operation:142 - upsert invite completed in 0.006s
[2025-09-25 01:12:40] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-25 01:12:40] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-25 01:12:40] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.003s
[2025-09-25 01:12:40] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-25 01:12:40] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-25 01:12:40] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-25 01:12:40] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-25 01:12:40] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
[2025-09-25 01:12:42] [DEBUG] [Database] execute_db_operation:115 - Executing check users table schema
[2025-09-25 01:12:42] [DEBUG] [Database] execute_db_operation:116 - Query: PRAGMA table_info(users)
[2025-09-25 01:12:42] [DEBUG] [Database] execute_db_operation:142 - check users table schema completed in 0.002s
[2025-09-25 01:12:42] [DEBUG] [Database] execute_db_operation:148 - Query returned 8 rows
[2025-09-25 01:12:42] [DEBUG] [Database] execute_db_operation:115 - Executing fetch all registered users
[2025-09-25 01:12:42] [DEBUG] [Database] execute_db_operation:116 - Query: SELECT id, discord_id, guild_id, username, anilist_username FROM users
[2025-09-25 01:12:42] [DEBUG] [Database] execute_db_operation:142 - fetch all registered users completed in 0.002s
[2025-09-25 01:12:42] [DEBUG] [Database] execute_db_operation:148 - Query returned 19 rows
